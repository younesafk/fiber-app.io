"use strict";(self.webpackChunkfiber_app=self.webpackChunkfiber_app||[]).push([[179],{2011:(at,De,P)=>{P.d(De,{Dh:()=>fe,GT:()=>re,cc:()=>Te,hO:()=>Ve,on:()=>j,pX:()=>ce,xv:()=>he});var d=P(4650),te=P(9260),N=P(2122);at=P.hmd(at);const le=["ngOnDestroy"],ce=(Ae,Se,Le,ke={})=>new Proxy(Ae,{get:(Ee,xe)=>Le.runOutsideAngular(()=>{var je;if(Ae[xe])return!(null===(je=ke?.spy)||void 0===je)&&je.get&&ke.spy.get(xe,Ae[xe]),Ae[xe];if(le.indexOf(xe)>-1)return()=>{};const Pe=Se.toPromise().then(B=>{const be=B&&B[xe];return"function"==typeof be?be.bind(B):be&&be.then?be.then(W=>Le.run(()=>W)):Le.run(()=>be)});return new Proxy(()=>{},{get:(B,be)=>Pe[be],apply:(B,be,W)=>Pe.then(J=>{var ae;const se=J&&J(...W);return!(null===(ae=ke?.spy)||void 0===ae)&&ae.apply&&ke.spy.apply(xe,W,se),se})})})}),re=(Ae,Se)=>{Se.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(ke=>{Object.defineProperty(Ae.prototype,ke,Object.getOwnPropertyDescriptor(Le.prototype||Le,ke))})})};class ve{constructor(Se){return Se}}const fe=new d.OlP("angularfire2.app.options"),he=new d.OlP("angularfire2.app.name");function j(Ae,Se,Le){const Ee="object"==typeof Le&&Le||{};Ee.name=Ee.name||"string"==typeof Le&&Le||"[DEFAULT]";const je=te.Z.apps.filter(Pe=>Pe&&Pe.name===Ee.name)[0]||Se.runOutsideAngular(()=>te.Z.initializeApp(Ae,Ee));try{JSON.stringify(Ae)!==JSON.stringify(je.options)&&H("error",`${je.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(je)}const H=(Ae,...Se)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...Se)},Y={provide:ve,useFactory:j,deps:[fe,d.R0b,[new d.FiY,he]]};let Ve=(()=>{class Ae{constructor(Le){te.Z.registerVersion("angularfire",N.q4.full,"core"),te.Z.registerVersion("angularfire",N.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,Le.toString())}static initializeApp(Le,ke){return{ngModule:Ae,providers:[{provide:fe,useValue:Le},{provide:he,useValue:ke}]}}}return Ae.\u0275fac=function(Le){return new(Le||Ae)(d.LFG(d.Lbi))},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[Y]}),Ae})();function Te(Ae,Se,Le,ke,Ee){const[,xe,je]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Ae)||[];if(xe)return function ze(Ae,Se){try{return Ae.toString()===Se.toString()}catch{return Ae===Se}}(Ee,je)||(me("error",`${Se} was already initialized on the ${Le} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Ee,was:je})),xe;{const Pe=ke();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Pe,Ee]),Pe}}const ot=!!at.hot,me=(Ae,...Se)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(at,De,P)=>{P.d(De,{q4:()=>xa,iC:()=>Cn,HU:()=>rt,vb:()=>pe,JM:()=>wn});var d=P(4650),te=P(259),N=P(5861),le=P(9681),ce=P(2090),re=P(4859),ve=P(1877),fe=P(8766);const he="@firebase/installations",j="0.6.0",Y=`w:${j}`,Ve="FIS_v2",Se=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(C){return C instanceof ce.ZR&&C.code.includes("request-failed")}function ke({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ee(C){return{token:C.token,requestStatus:2,expiresIn:J(C.expiresIn),creationTime:Date.now()}}function xe(C,S){return je.apply(this,arguments)}function je(){return(je=(0,N.Z)(function*(C,S){const V=(yield S.json()).error;return Se.create("request-failed",{requestName:C,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Pe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function B(C,{refreshToken:S}){const R=Pe(C);return R.append("Authorization",function ae(C){return`${Ve} ${C}`}(S)),R}function be(C){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(C){const S=yield C();return S.status>=500&&S.status<600?C():S})).apply(this,arguments)}function J(C){return Number(C.replace("s","000"))}function se(C,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:S},{fid:R}){const V=ke(C),Q=Pe(C),ee=S.getImmediate({optional:!0});if(ee){const st=yield ee.getHeartbeatsHeader();st&&Q.append("x-firebase-client",st)}const Ze={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:Ve,appId:C.appId,sdkVersion:Y})},it=yield be(()=>fetch(V,Ze));if(it.ok){const st=yield it.json();return{fid:st.fid||R,registrationStatus:2,refreshToken:st.refreshToken,authToken:Ee(st.authToken)}}throw yield xe("Create Installation",it)})).apply(this,arguments)}function Fe(C){return new Promise(S=>{setTimeout(S,C)})}const sn=/^[cdef][\w-]{21}$/;function Vt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function $t(C){return function ht(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return sn.test(R)?R:""}catch{return""}}function mt(C){return`${C.appName}!${C.appId}`}const nn=new Map;function Sr(C,S){const R=mt(C);Sn(R,S),function ai(C,S){const R=function Br(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=C=>{Sn(C.data.key,C.data.fid)}),Qr}();R&&R.postMessage({key:C,fid:S}),function jr(){0===nn.size&&Qr&&(Qr.close(),Qr=null)}()}(R,S)}function Sn(C,S){const R=nn.get(C);if(R)for(const V of R)V(S)}let Qr=null;const Mi="firebase-installations-store";let Hr=null;function Bs(){return Hr||(Hr=(0,fe.X3)("firebase-installations-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore(Mi)}})),Hr}function yn(C,S){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,N.Z)(function*(C,S){const R=mt(C),Q=(yield Bs()).transaction(Mi,"readwrite"),ee=Q.objectStore(Mi),Ie=yield ee.get(R);return yield ee.put(S,R),yield Q.done,(!Ie||Ie.fid!==S.fid)&&Sr(C,S.fid),S})).apply(this,arguments)}function _t(C){return ss.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(C){const S=mt(C),V=(yield Bs()).transaction(Mi,"readwrite");yield V.objectStore(Mi).delete(S),yield V.done})).apply(this,arguments)}function xi(C,S){return xn.apply(this,arguments)}function xn(){return(xn=(0,N.Z)(function*(C,S){const R=mt(C),Q=(yield Bs()).transaction(Mi,"readwrite"),ee=Q.objectStore(Mi),Ie=yield ee.get(R),Ze=S(Ie);return void 0===Ze?yield ee.delete(R):yield ee.put(Ze,R),yield Q.done,Ze&&(!Ie||Ie.fid!==Ze.fid)&&Sr(C,Ze.fid),Ze})).apply(this,arguments)}function $r(C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,N.Z)(function*(C){let S;const R=yield xi(C.appConfig,V=>{const Q=Rt(V),ee=vt(C,Q);return S=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Rt(C){return Tr(C||{fid:Vt(),registrationStatus:0})}function vt(C,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Se.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function Ct(C,S){return os.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Vn(C)}:{installationEntry:S}}function os(){return(os=(0,N.Z)(function*(C,S){try{const R=yield se(C,S);return yn(C.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield _t(C.appConfig):yield yn(C.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Vn(C){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,N.Z)(function*(C){let S=yield Ri(C.appConfig);for(;1===S.registrationStatus;)yield Fe(100),S=yield Ri(C.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield $r(C);return V||R}return S})).apply(this,arguments)}function Ri(C){return xi(C,S=>{if(!S)throw Se.create("installation-not-found");return Tr(S)})}function Tr(C){return function la(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function dn(C,S){return as.apply(this,arguments)}function as(){return(as=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:S},R){const V=Xt(C,R),Q=B(C,R),ee=S.getImmediate({optional:!0});if(ee){const st=yield ee.getHeartbeatsHeader();st&&Q.append("x-firebase-client",st)}const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:Y,appId:C.appId}})},it=yield be(()=>fetch(V,Ze));if(it.ok)return Ee(yield it.json());throw yield xe("Generate Auth Token",it)})).apply(this,arguments)}function Xt(C,{fid:S}){return`${ke(C)}/${S}/authTokens:generate`}function Ar(C){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,N.Z)(function*(C,S=!1){let R;const V=yield xi(C.appConfig,ee=>{if(!jt(ee))throw Se.create("not-registered");const Ie=ee.authToken;if(!S&&$(Ie))return ee;if(1===Ie.requestStatus)return R=Ge(C,S),ee;{if(!navigator.onLine)throw Se.create("app-offline");const Ze=K(ee);return R=Tt(C,Ze),Ze}});return R?yield R:V.authToken})).apply(this,arguments)}function Ge(C,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(C,S){let R=yield Qe(C.appConfig);for(;1===R.authToken.requestStatus;)yield Fe(100),R=yield Qe(C.appConfig);const V=R.authToken;return 0===V.requestStatus?Ar(C,S):V})).apply(this,arguments)}function Qe(C){return xi(C,S=>{if(!jt(S))throw Se.create("not-registered");return function ye(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Tt(C,S){return xt.apply(this,arguments)}function xt(){return(xt=(0,N.Z)(function*(C,S){try{const R=yield dn(C,S),V=Object.assign(Object.assign({},S),{authToken:R});return yield yn(C.appConfig,V),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield yn(C.appConfig,V)}else yield _t(C.appConfig);throw R}})).apply(this,arguments)}function jt(C){return void 0!==C&&2===C.registrationStatus}function $(C){return 2===C.requestStatus&&!function U(C){const S=Date.now();return S<C.creationTime||C.creationTime+C.expiresIn<S+36e5}(C)}function K(C){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:S})}function nt(){return(nt=(0,N.Z)(function*(C){const S=C,{installationEntry:R,registrationPromise:V}=yield $r(S);return V?V.catch(console.error):Ar(S).catch(console.error),R.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,N.Z)(function*(C,S=!1){const R=C;return yield kn(R),(yield Ar(R,S)).token})).apply(this,arguments)}function kn(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,N.Z)(function*(C){const{registrationPromise:S}=yield $r(C);S&&(yield S)})).apply(this,arguments)}function el(C){return Se.create("missing-app-config-values",{valueName:C})}const yc="installations",On=C=>{const S=C.getProvider("app").getImmediate(),R=function ua(C){if(!C||!C.options)throw el("App Configuration");if(!C.name)throw el("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!C.options[R])throw el(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},ud=C=>{const S=C.getProvider("app").getImmediate(),R=(0,le._getProvider)(S,yc).getImmediate();return{getId:()=>function ie(C){return nt.apply(this,arguments)}(R),getToken:Q=>function Ht(C){return Kt.apply(this,arguments)}(R,Q)}};(function vc(){(0,le._registerComponent)(new re.wA(yc,On,"PUBLIC")),(0,le._registerComponent)(new re.wA("installations-internal",ud,"PRIVATE"))})(),(0,le.registerVersion)(he,j),(0,le.registerVersion)(he,j,"esm2017");const da="@firebase/remote-config",er=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mo{constructor(S,R,V,Q){this.client=S,this.storage=R,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const ee=yield R.client.fetch(S),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(Ie),ee})()}}function li(C=navigator){return C.languages&&C.languages[0]||C.language}class Ts{constructor(S,R,V,Q,ee,Ie){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=V,this.projectId=Q,this.apiKey=ee,this.appId=Ie}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},it={sdk_version:R.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:R.appId,language_code:li()},st={method:"POST",headers:Ze,body:JSON.stringify(it)},Ut=fetch(Ie,st),Dt=new Promise((_i,yi)=>{S.signal.addEventListener(()=>{const Xs=new Error("The operation was aborted.");Xs.name="AbortError",yi(Xs)})});let Bn;try{yield Promise.race([Ut,Dt]),Bn=yield Ut}catch(_i){let yi="fetch-client-network";throw"AbortError"===_i?.name&&(yi="fetch-timeout"),er.create(yi,{originalErrorMessage:_i?.message})}let cn=Bn.status;const Oo=Bn.headers.get("ETag")||void 0;let ka,jn;if(200===Bn.status){let _i;try{_i=yield Bn.json()}catch(yi){throw er.create("fetch-client-parse",{originalErrorMessage:yi?.message})}ka=_i.entries,jn=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===jn?cn=500:"NO_CHANGE"===jn?cn=304:("NO_TEMPLATE"===jn||"EMPTY_CONFIG"===jn)&&(ka={}),304!==cn&&200!==cn)throw er.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:Oo,config:ka}})()}}class Ag{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:V}){var Q=this;return(0,N.Z)(function*(){yield function qn(C,S){return new Promise((R,V)=>{const Q=Math.max(S-Date.now(),0),ee=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(ee),V(er.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ee=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function hn(C){if(!(C instanceof ce.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ee))throw ee;const Ie={throttleEndTimeMillis:Date.now()+(0,ce.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Ie),Q.attemptFetch(S,Ie)}})()}}class _o{constructor(S,R,V,Q,ee){this.app=S,this._client=R,this._storageCache=V,this._storage=Q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $s(C,S){const R=C.target.error||void 0;return er.create(S,{originalErrorMessage:R&&R?.message})}const Gr="app_namespace_store";class ki{constructor(S,R,V,Q=function ei(){return new Promise((C,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=V=>{S($s(V,"storage-open"))},R.onsuccess=V=>{C(V.target.result)},R.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(R){S(er.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ee)=>{const Ze=V.transaction([Gr],"readonly").objectStore(Gr),it=R.createCompositeKey(S);try{const st=Ze.get(it);st.onerror=Ut=>{ee($s(Ut,"storage-get"))},st.onsuccess=Ut=>{const Dt=Ut.target.result;Q(Dt?Dt.value:void 0)}}catch(st){ee(er.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(S,R){var V=this;return(0,N.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ee,Ie)=>{const it=Q.transaction([Gr],"readwrite").objectStore(Gr),st=V.createCompositeKey(S);try{const Ut=it.put({compositeKey:st,value:R});Ut.onerror=Dt=>{Ie($s(Dt,"storage-set"))},Ut.onsuccess=()=>{ee()}}catch(Ut){Ie(er.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ee)=>{const Ze=V.transaction([Gr],"readwrite").objectStore(Gr),it=R.createCompositeKey(S);try{const st=Ze.delete(it);st.onerror=Ut=>{ee($s(Ut,"storage-delete"))},st.onsuccess=()=>{Q()}}catch(st){ee(er.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class fa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const R=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ee=yield R;ee&&(S.lastFetchStatus=ee);const Ie=yield V;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const Ze=yield Q;Ze&&(S.activeConfig=Ze)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function pa(){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,N.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}!function Oi(){(0,le._registerComponent)(new re.wA("remote-config",function C(S,{instanceIdentifier:R}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,ce.hl)())throw er.create("indexed-db-unavailable");const{projectId:ee,apiKey:Ie,appId:Ze}=V.options;if(!ee)throw er.create("registration-project-id");if(!Ie)throw er.create("registration-api-key");if(!Ze)throw er.create("registration-app-id");const it=new ki(Ze,V.name,R=R||"firebase"),st=new fa(it),Ut=new ve.Yd(da);Ut.logLevel=ve.in.ERROR;const Dt=new Ts(Q,le.SDK_VERSION,R,ee,Ie,Ze),Bn=new Ag(Dt,it),cn=new mo(Bn,it,st,Ut),Oo=new _o(V,cn,st,it,Ut);return function Tn(C){const S=(0,ce.m9)(C);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(da,"0.4.0"),(0,le.registerVersion)(da,"0.4.0","esm2017")}();const bc="/firebase-messaging-sw.js",cs="/firebase-cloud-messaging-push-scope",Gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fd="google.c.a.c_id",ef="google.c.a.c_l",Ec="google.c.a.ts",pd="google.c.a.e";var rl=(()=>{return(C=rl||(rl={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",rl;var C})();function ui(C){const S=new Uint8Array(C);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gd(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),Q=new Uint8Array(V.length);for(let ee=0;ee<V.length;++ee)Q[ee]=V.charCodeAt(ee);return Q}const Dc="fcm_token_details_db",zr="fcm_token_object_Store";function Cc(C){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(Dc))return null;let S=null;return(yield(0,fe.X3)(Dc,5,{upgrade:(V=(0,N.Z)(function*(Q,ee,Ie,Ze){var it;if(ee<2||!Q.objectStoreNames.contains(zr))return;const st=Ze.objectStore(zr),Ut=yield st.index("fcmSenderId").get(C);if(yield st.clear(),Ut)if(2===ee){const Dt=Ut;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;S={token:Dt.fcmToken,createTime:null!==(it=Dt.createTime)&&void 0!==it?it:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:ui(Dt.vapidKey)}}}else if(3===ee){const Dt=Ut;S={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:ui(Dt.auth),p256dh:ui(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:ui(Dt.vapidKey)}}}else if(4===ee){const Dt=Ut;S={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:ui(Dt.auth),p256dh:ui(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:ui(Dt.vapidKey)}}}}),function(ee,Ie,Ze,it){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(Dc),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),tf(S)?S:null;var V}),Ic.apply(this,arguments)}function tf(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:S}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const As="firebase-messaging-store";let ma=null;function qs(){return ma||(ma=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(C,S)=>{0===S&&C.createObjectStore(As)}})),ma}function il(C){return sl.apply(this,arguments)}function sl(){return(sl=(0,N.Z)(function*(C){const S=al(C),V=yield(yield qs()).transaction(As).objectStore(As).get(S);if(V)return V;{const Q=yield Cc(C.appConfig.senderId);if(Q)return yield Ws(C,Q),Q}})).apply(this,arguments)}function Ws(C,S){return _a.apply(this,arguments)}function _a(){return(_a=(0,N.Z)(function*(C,S){const R=al(C),Q=(yield qs()).transaction(As,"readwrite");return yield Q.objectStore(As).put(S,R),yield Q.done,S})).apply(this,arguments)}function ol(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,N.Z)(function*(C){const S=al(C),V=(yield qs()).transaction(As,"readwrite");yield V.objectStore(As).delete(S),yield V.done})).apply(this,arguments)}function al({appConfig:C}){return C.appId}const Un=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ya(C,S){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,N.Z)(function*(C,S){const R=yield Ms(C),V=va(S),Q={method:"POST",headers:R,body:JSON.stringify(V)};let ee;try{ee=yield(yield fetch(wo(C.appConfig),Q)).json()}catch(Ie){throw Un.create("token-subscribe-failed",{errorInfo:Ie?.toString()})}if(ee.error)throw Un.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Un.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function vo(C,S){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,N.Z)(function*(C,S){const R=yield Ms(C),V=va(S.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(V)};let ee;try{ee=yield(yield fetch(`${wo(C.appConfig)}/${S.token}`,Q)).json()}catch(Ie){throw Un.create("token-update-failed",{errorInfo:Ie?.toString()})}if(ee.error)throw Un.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Un.create("token-update-no-token");return ee.token})).apply(this,arguments)}function vr(C,S){return yd.apply(this,arguments)}function yd(){return(yd=(0,N.Z)(function*(C,S){const V={method:"DELETE",headers:yield Ms(C)};try{const ee=yield(yield fetch(`${wo(C.appConfig)}/${S}`,V)).json();if(ee.error)throw Un.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(Q){throw Un.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function wo({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Ms(C){return hr.apply(this,arguments)}function hr(){return(hr=(0,N.Z)(function*({appConfig:C,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function va({p256dh:C,auth:S,endpoint:R,vapidKey:V}){const Q={web:{endpoint:R,auth:S,p256dh:C}};return V!==Gs&&(Q.web.applicationPubKey=V),Q}const wa=6048e5;function ll(C){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,N.Z)(function*(C){const S=yield Tc(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:S.endpoint,auth:ui(S.getKey("auth")),p256dh:ui(S.getKey("p256dh"))},V=yield il(C.firebaseDependencies);if(V){if(dl(V.subscriptionOptions,R))return Date.now()>=V.createTime+wa?kt(C,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield vr(C.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Sc(C.firebaseDependencies,R)}return Sc(C.firebaseDependencies,R)})).apply(this,arguments)}function ba(C){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,N.Z)(function*(C){const S=yield il(C.firebaseDependencies);S&&(yield vr(C.firebaseDependencies,S.token),yield ol(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function kt(C,S){return cl.apply(this,arguments)}function cl(){return(cl=(0,N.Z)(function*(C,S){try{const R=yield vo(C.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Ws(C.firebaseDependencies,V),R}catch(R){throw yield ba(C),R}})).apply(this,arguments)}function Sc(C,S){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(C,S){const V={token:yield ya(C,S),createTime:Date.now(),subscriptionOptions:S};return yield Ws(C,V),V.token})).apply(this,arguments)}function Tc(C,S){return vd.apply(this,arguments)}function vd(){return(vd=(0,N.Z)(function*(C,S){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gd(S)})})).apply(this,arguments)}function dl(C,S){return S.vapidKey===C.vapidKey&&S.endpoint===C.endpoint&&S.auth===C.auth&&S.p256dh===C.p256dh}function Zn(C){const S={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function wd(C,S){if(!S.notification)return;C.notification={};const R=S.notification.title;R&&(C.notification.title=R);const V=S.notification.body;V&&(C.notification.body=V);const Q=S.notification.image;Q&&(C.notification.image=Q);const ee=S.notification.icon;ee&&(C.notification.icon=ee)}(S,C),function Me(C,S){!S.data||(C.data=S.data)}(S,C),function en(C,S){var R,V,Q,ee,Ie;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;C.fcmOptions={};const Ze=null!==(Q=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(ee=S.notification)||void 0===ee?void 0:ee.click_action;Ze&&(C.fcmOptions.link=Ze);const it=null===(Ie=S.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;it&&(C.fcmOptions.analyticsLabel=it)}(S,C),S}function Ac(C){return"object"==typeof C&&!!C&&fd in C}function bd(C,S){const R=[];for(let V=0;V<C.length;V++)R.push(C.charAt(V)),V<S.length&&R.push(S.charAt(V));return R.join("")}function bo(C){return Un.create("missing-app-config-values",{valueName:C})}bd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hl{constructor(S,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function wr(C){if(!C||!C.options)throw bo("App Configuration Object");if(!C.name)throw bo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const V of S)if(!R[V])throw bo(V);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function di(C){return fl.apply(this,arguments)}function fl(){return(fl=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(bc,{scope:cs}),C.swRegistration.update().catch(()=>{})}catch(S){throw Un.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Eo(C,S){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,N.Z)(function*(C,S){if(!S&&!C.swRegistration&&(yield di(C)),S||!C.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");C.swRegistration=S}})).apply(this,arguments)}function Ed(C,S){return Do.apply(this,arguments)}function Do(){return(Do=(0,N.Z)(function*(C,S){S?C.vapidKey=S:C.vapidKey||(C.vapidKey=Gs)})).apply(this,arguments)}function zi(){return(zi=(0,N.Z)(function*(C,S){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield Ed(C,S?.vapidKey),yield Eo(C,S?.serviceWorkerRegistration),ll(C)})).apply(this,arguments)}function xc(C,S,R){return us.apply(this,arguments)}function us(){return(us=(0,N.Z)(function*(C,S,R){const V=hi(S);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[fd],message_name:R[ef],message_time:R[Ec],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hi(C){switch(C){case rl.NOTIFICATION_CLICKED:return"notification_open";case rl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rc(){return(Rc=(0,N.Z)(function*(C,S){const R=S.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===rl.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Zn(R)):C.onMessageHandler.next(Zn(R)));const V=R.data;Ac(V)&&"1"===V[pd]&&(yield xc(C,R.messageType,V))})).apply(this,arguments)}const kc="@firebase/messaging",Dd=C=>{const S=new hl(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Mg(C,S){return Rc.apply(this,arguments)}(S,R)),S},Ks=C=>{const S=C.getProvider("messaging").getImmediate();return{getToken:V=>function Nn(C,S){return zi.apply(this,arguments)}(S,V)}};function Oc(){return Id.apply(this,arguments)}function Id(){return(Id=(0,N.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Cd(){(0,le._registerComponent)(new re.wA("messaging",Dd,"PUBLIC")),(0,le._registerComponent)(new re.wA("messaging-internal",Ks,"PRIVATE")),(0,le.registerVersion)(kc,"0.12.0"),(0,le.registerVersion)(kc,"0.12.0","esm2017")}();const Nc="analytics",ni="firebase_id",Co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js",br=new ve.Yd("@firebase/analytics");function sf(C){return Promise.all(C.map(S=>S.catch(R=>R)))}function kg(C,S){const R=document.createElement("script");R.src=`${Pc}?l=${C}&id=${S}`,R.async=!0,document.head.appendChild(R)}function xs(C,S,R,V,Q,ee){return fi.apply(this,arguments)}function fi(){return(fi=(0,N.Z)(function*(C,S,R,V,Q,ee){const Ie=V[Q];try{if(Ie)yield S[Ie];else{const it=(yield sf(R)).find(st=>st.measurementId===Q);it&&(yield S[it.appId])}}catch(Ze){br.error(Ze)}C("config",Q,ee)})).apply(this,arguments)}function ml(C,S,R,V,Q){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,N.Z)(function*(C,S,R,V,Q){try{let ee=[];if(Q&&Q.send_to){let Ie=Q.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ze=yield sf(R);for(const it of Ie){const st=Ze.find(Dt=>Dt.measurementId===it),Ut=st&&S[st.appId];if(!Ut){ee=[];break}ee.push(Ut)}}0===ee.length&&(ee=Object.values(S)),yield Promise.all(ee),C("event",V,Q||{})}catch(ee){br.error(ee)}})).apply(this,arguments)}function Io(C){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(Pc)&&R.src.includes(C))return R;return null}const pi=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vc=new class qi{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Td(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Rs(C){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,N.Z)(function*(C){var S;const{appId:R,apiKey:V}=C,Q={method:"GET",headers:Td(V)},ee=Co.replace("{app-id}",R),Ie=yield fetch(ee,Q);if(200!==Ie.status&&304!==Ie.status){let Ze="";try{const it=yield Ie.json();null!==(S=it.error)&&void 0!==S&&S.message&&(Ze=it.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ze})}return Ie.json()})).apply(this,arguments)}function An(C){return So.apply(this,arguments)}function So(){return(So=(0,N.Z)(function*(C,S=Vc,R){const{appId:V,apiKey:Q,measurementId:ee}=C.options;if(!V)throw pi.create("no-app-id");if(!Q){if(ee)return{measurementId:ee,appId:V};throw pi.create("no-api-key")}const Ie=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new yl;return setTimeout((0,N.Z)(function*(){Ze.abort()}),void 0!==R?R:6e4),To({appId:V,apiKey:Q,measurementId:ee},Ie,Ze,S)})).apply(this,arguments)}function To(C,S,R){return ks.apply(this,arguments)}function ks(){return(ks=(0,N.Z)(function*(C,{throttleEndTimeMillis:S,backoffCount:R},V,Q=Vc){var ee;const{appId:Ie,measurementId:Ze}=C;try{yield _l(V,S)}catch(it){if(Ze)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:Ie,measurementId:Ze};throw it}try{const it=yield Rs(C);return Q.deleteThrottleMetadata(Ie),it}catch(it){const st=it;if(!Ad(st)){if(Q.deleteThrottleMetadata(Ie),Ze)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:Ie,measurementId:Ze};throw it}const Ut=503===Number(null===(ee=st?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,ce.$s)(R,Q.intervalMillis,30):(0,ce.$s)(R,Q.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+Ut,backoffCount:R+1};return Q.setThrottleMetadata(Ie,Dt),br.debug(`Calling attemptFetch again in ${Ut} millis`),To(C,Dt,V,Q)}})).apply(this,arguments)}function _l(C,S){return new Promise((R,V)=>{const Q=Math.max(S-Date.now(),0),ee=setTimeout(R,Q);C.addEventListener(()=>{clearTimeout(ee),V(pi.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ad(C){if(!(C instanceof ce.ZR&&C.customData))return!1;const S=Number(C.customData.httpStatus);return 429===S||500===S||503===S||504===S}class yl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let vl,Qs;function ds(){return(ds=(0,N.Z)(function*(C,S,R,V,Q){if(Q&&Q.global)C("event",R,V);else{const ee=yield S;C("event",R,Object.assign(Object.assign({},V),{send_to:ee}))}})).apply(this,arguments)}function Ta(C){Qs=C}function Dl(C){vl=C}function jc(){return Md.apply(this,arguments)}function Md(){return(Md=(0,N.Z)(function*(){if(!(0,ce.hl)())return br.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(C){return br.warn(pi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Hc(){return(Hc=(0,N.Z)(function*(C,S,R,V,Q,ee,Ie){var Ze;const it=An(C);it.then(cn=>{R[cn.measurementId]=cn.appId,C.options.measurementId&&cn.measurementId!==C.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>br.error(cn)),S.push(it);const st=jc().then(cn=>{if(cn)return V.getId()}),[Ut,Dt]=yield Promise.all([it,st]);Io(ee)||kg(ee,Ut.measurementId),Qs&&(Q("consent","default",Qs),Ta(void 0)),Q("js",new Date);const Bn=null!==(Ze=Ie?.config)&&void 0!==Ze?Ze:{};return Bn.origin="firebase",Bn.update=!0,null!=Dt&&(Bn[ni]=Dt),Q("config",Ut.measurementId,Bn),vl&&(Q("set",vl),Dl(void 0)),Ut.measurementId})).apply(this,arguments)}class lf{constructor(S){this.app=S}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},$c=[];const Aa={};let Cl,Wi,Fi="dataLayer",gi=!1;function Il(C,S,R){!function zc(){const C=[];if((0,ce.ru)()&&C.push("This is a browser extension environment."),(0,ce.zI)()||C.push("Cookies are not available."),C.length>0){const S=C.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),R=pi.create("invalid-analytics-context",{errorInfo:S});br.warn(R.message)}}();const V=C.options.appId;if(!V)throw pi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw pi.create("no-api-key");br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[V])throw pi.create("already-exists",{id:V});if(!gi){!function af(C){let S=[];Array.isArray(window[C])?S=window[C]:window[C]=S}(Fi);const{wrappedGtag:ee,gtagCore:Ie}=function Sd(C,S,R,V,Q){let ee=function(...Ie){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ee=window[Q]),window[Q]=function Fc(C,S,R,V){function ee(){return(ee=(0,N.Z)(function*(Ie,Ze,it){try{"event"===Ie?yield ml(C,S,R,Ze,it):"config"===Ie?yield xs(C,S,R,V,Ze,it):"consent"===Ie?C("consent","update",it):C("set",Ze)}catch(st){br.error(st)}})).apply(this,arguments)}return function Q(Ie,Ze,it){return ee.apply(this,arguments)}}(ee,C,S,R),{gtagCore:ee,wrappedGtag:window[Q]}}(Pi,$c,Aa,Fi,"gtag");Wi=ee,Cl=Ie,gi=!0}return Pi[V]=function fs(C,S,R,V,Q,ee,Ie){return Hc.apply(this,arguments)}(C,$c,Aa,S,Cl,Fi,R),new lf(C)}function Rd(){return Os.apply(this,arguments)}function Os(){return(Os=(0,N.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}const fn="@firebase/analytics";!function Od(){(0,le._registerComponent)(new re.wA(Nc,(S,{options:R})=>Il(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new re.wA("analytics-internal",function C(S){try{const R=S.getProvider(Nc).getImmediate();return{logEvent:(V,Q,ee)=>function hf(C,S,R,V){C=(0,ce.m9)(C),function Ao(C,S,R,V,Q){return ds.apply(this,arguments)}(Wi,Pi[C.app.options.appId],S,R,V).catch(Q=>br.error(Q))}(R,V,Q,ee)}}catch(R){throw pi.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(fn,"0.9.0"),(0,le.registerVersion)(fn,"0.9.0","esm2017")}();var Wc=P(4408),ff=P(7565);const Pd=new class Nd extends ff.v{}(class hy extends Wc.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,R,V):(S.flush(this),0)}});var pf=P(4986),Kc=P(8505),Dn=P(9468),Tl=P(5363);const xa=new d.GfV("7.5.0"),Fd="__angularfire_symbol__analyticsIsSupportedValue",ri="__angularfire_symbol__analyticsIsSupported",Zi="__angularfire_symbol__remoteConfigIsSupportedValue",Al="__angularfire_symbol__remoteConfigIsSupported",Ra="__angularfire_symbol__messagingIsSupportedValue",Ro="__angularfire_symbol__messagingIsSupported";function wn(C,S,R){if(S){if(1===S.length)return S[0];const ee=S.filter(Ie=>Ie.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[ri]||(globalThis[ri]=Rd().then(C=>globalThis[Fd]=C).catch(()=>globalThis[Fd]=!1)),globalThis[Ro]||(globalThis[Ro]=Oc().then(C=>globalThis[Ra]=C).catch(()=>globalThis[Ra]=!1)),globalThis[Al]||(globalThis[Al]=pa().then(C=>globalThis[Zi]=C).catch(()=>globalThis[Zi]=!1));const pe=(C,S)=>{const R=S?[S]:(0,te.C6)(),V=[];return R.forEach(Q=>{Q.container.getProvider(C).instances.forEach(Ie=>{V.includes(Ie)||V.push(Ie)})}),V};function an(){}class Ki{constructor(S,R=Pd){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,V){const Q=this.zone;return this.delegate.schedule(function(Ie){Q.runGuarded(()=>{S.apply(this,[Ie])})},R,V)}}class pn{constructor(S){this.zone=S,this.task=null}call(S,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",an,{},an,an)),R.pipe((0,Kc.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rt=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ki(Zone.current)),this.insideAngular=R.run(()=>new Ki(Zone.current,pf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function bn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Cn(C){return bn(),function Pn(C){return function(R){return(R=R.lift(new pn(C.ngZone))).pipe((0,Dn.R)(C.outsideAngular),(0,Tl.Q)(C.insideAngular))}}(bn())(C)}},2090:(at,De,P)=>{P.d(De,{$s:()=>Qe,BH:()=>mn,G6:()=>xe,L:()=>fe,LL:()=>nn,Pz:()=>sn,Sg:()=>Vt,UG:()=>ze,US:()=>re,ZB:()=>H,ZR:()=>mt,aH:()=>ht,b$:()=>Ae,eu:()=>Pe,hl:()=>je,jU:()=>ot,m9:()=>jt,ne:()=>Ss,pd:()=>xn,r3:()=>Is,ru:()=>me,tV:()=>he,uI:()=>Te,vZ:()=>yn,w1:()=>Le,xO:()=>ss,xb:()=>Hr,z$:()=>Ve,zI:()=>B,zd:()=>xi});const le=function($){const U=[];let K=0;for(let ye=0;ye<$.length;ye++){let ie=$.charCodeAt(ye);ie<128?U[K++]=ie:ie<2048?(U[K++]=ie>>6|192,U[K++]=63&ie|128):55296==(64512&ie)&&ye+1<$.length&&56320==(64512&$.charCodeAt(ye+1))?(ie=65536+((1023&ie)<<10)+(1023&$.charCodeAt(++ye)),U[K++]=ie>>18|240,U[K++]=ie>>12&63|128,U[K++]=ie>>6&63|128,U[K++]=63&ie|128):(U[K++]=ie>>12|224,U[K++]=ie>>6&63|128,U[K++]=63&ie|128)}return U},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,U){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ie=0;ie<$.length;ie+=3){const nt=$[ie],Ht=ie+1<$.length,Kt=Ht?$[ie+1]:0,kn=ie+2<$.length,Et=kn?$[ie+2]:0;let ar=(15&Kt)<<2|Et>>6,fo=63&Et;kn||(fo=64,Ht||(ar=64)),ye.push(K[nt>>2],K[(3&nt)<<4|Kt>>4],K[ar],K[fo])}return ye.join("")},encodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa($):this.encodeByteArray(le($),U)},decodeString($,U){return this.HAS_NATIVE_SUPPORT&&!U?atob($):function($){const U=[];let K=0,ye=0;for(;K<$.length;){const ie=$[K++];if(ie<128)U[ye++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const nt=$[K++];U[ye++]=String.fromCharCode((31&ie)<<6|63&nt)}else if(ie>239&&ie<365){const kn=((7&ie)<<18|(63&$[K++])<<12|(63&$[K++])<<6|63&$[K++])-65536;U[ye++]=String.fromCharCode(55296+(kn>>10)),U[ye++]=String.fromCharCode(56320+(1023&kn))}else{const nt=$[K++],Ht=$[K++];U[ye++]=String.fromCharCode((15&ie)<<12|(63&nt)<<6|63&Ht)}}return U.join("")}(this.decodeStringToByteArray($,U))},decodeStringToByteArray($,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ie=0;ie<$.length;){const nt=K[$.charAt(ie++)],Kt=ie<$.length?K[$.charAt(ie)]:0;++ie;const Et=ie<$.length?K[$.charAt(ie)]:64;++ie;const qt=ie<$.length?K[$.charAt(ie)]:64;if(++ie,null==nt||null==Kt||null==Et||null==qt)throw Error();ye.push(nt<<2|Kt>>4),64!==Et&&(ye.push(Kt<<4&240|Et>>2),64!==qt&&ye.push(Et<<6&192|qt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},fe=function($){return function($){const U=le($);return re.encodeByteArray(U,!0)}($).replace(/\./g,"")},he=function($){try{return re.decodeString($,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function H($,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!Y(K)||($[K]=H($[K],U[K]));return $}function Y($){return"__proto__"!==$}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ot(){return"object"==typeof self&&self.self===self}function me(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Ae(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const $=Ve();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function xe(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function je(){try{return"object"==typeof indexedDB}catch{return!1}}function Pe(){return new Promise(($,U)=>{try{let K=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ye);ie.onsuccess=()=>{ie.result.close(),K||self.indexedDB.deleteDatabase(ye),$(!0)},ie.onupgradeneeded=()=>{K=!1},ie.onerror=()=>{var nt;U((null===(nt=ie.error)||void 0===nt?void 0:nt.message)||"")}}catch(K){U(K)}})}function B(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const se=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=$&&he($[1]);return U&&JSON.parse(U)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ht=()=>{var $;return null===($=se())||void 0===$?void 0:$.config},sn=$=>{var U;return null===(U=se())||void 0===U?void 0:U[`_${$}`]};class mn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,ye)=>{K?this.reject(K):this.resolve(ye),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,ye))}}}function Vt($,U){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=U||"demo-project",ie=$.iat||0,nt=$.sub||$.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ie,exp:ie+3600,auth_time:ie,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ht)),""].join(".")}class mt extends Error{constructor(U,K,ye){super(K),this.code=U,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(U,K,ye){this.service=U,this.serviceName=K,this.errors=ye}create(U,...K){const ye=K[0]||{},ie=`${this.service}/${U}`,nt=this.errors[U],Ht=nt?function Sr($,U){return $.replace(Ur,(K,ye)=>{const ie=U[ye];return null!=ie?String(ie):`<${ye}?>`})}(nt,ye):"Error";return new mt(ie,`${this.serviceName}: ${Ht} (${ie}).`,ye)}}const Ur=/\{\$([^}]+)}/g;function Is($,U){return Object.prototype.hasOwnProperty.call($,U)}function Hr($){for(const U in $)if(Object.prototype.hasOwnProperty.call($,U))return!1;return!0}function yn($,U){if($===U)return!0;const K=Object.keys($),ye=Object.keys(U);for(const ie of K){if(!ye.includes(ie))return!1;const nt=$[ie],Ht=U[ie];if(Xr(nt)&&Xr(Ht)){if(!yn(nt,Ht))return!1}else if(nt!==Ht)return!1}for(const ie of ye)if(!K.includes(ie))return!1;return!0}function Xr($){return null!==$&&"object"==typeof $}function ss($){const U=[];for(const[K,ye]of Object.entries($))Array.isArray(ye)?ye.forEach(ie=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(ie))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(ye));return U.length?"&"+U.join("&"):""}function xi($){const U={};return $.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ie,nt]=ye.split("=");U[decodeURIComponent(ie)]=decodeURIComponent(nt)}}),U}function xn($){const U=$.indexOf("?");if(!U)return"";const K=$.indexOf("#",U);return $.substring(U,K>0?K:void 0)}function Ss($,U){const K=new Rt($,U);return K.subscribe.bind(K)}class Rt{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(ye=>{this.error(ye)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,ye){let ie;if(void 0===U&&void 0===K&&void 0===ye)throw new Error("Missing Observer.");ie=function Ct($,U){if("object"!=typeof $||null===$)return!1;for(const K of U)if(K in $&&"function"==typeof $[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:ye},void 0===ie.next&&(ie.next=os),void 0===ie.error&&(ie.error=os),void 0===ie.complete&&(ie.complete=os);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),nt}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}function Qe($,U=1e3,K=2){const ye=U*Math.pow(K,$),ie=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+ie)}function jt($){return $&&$._delegate?$._delegate:$}},7362:(at,De,P)=>{var d=P(4650);let te=null;function N(){return te}class ce{}const re=new d.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function fe(){return(0,d.LFG)(j)}()},providedIn:"platform"}),n})();const he=new d.OlP("Location Initialized");let j=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){H()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){H()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Y(){return new j((0,d.LFG)(re))}()},providedIn:"platform"}),n})();function H(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let ot=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ae)},providedIn:"root"}),n})();const me=new d.OlP("appBaseHref");let Ae=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+ze(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+ze(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+ze(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+ze(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ve),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function je(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(xe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Ve,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(d.LFG(ot))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ke(){return new Le((0,d.LFG)(ot))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}class Jr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Jr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const p=r.get(a);r.move(p,c),zn(p,i)}});for(let i=0,a=r.length;i<a;i++){const p=r.get(i).context;p.index=i,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{zn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function zn(n,e){n.context.$implicit=e.item}let Tn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new po,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){js("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){js("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class po{constructor(){this.$implicit=null,this.ngIf=null}}function js(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const gd="browser";function Ic(n){return"server"===n}let As=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new ma((0,d.LFG)(re),window)}),n})();class ma{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function il(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class af extends ce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xs extends af{static makeCurrent(){!function le(n){te||(te=n)}(new xs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ml(){return fi=fi||document.querySelector("base"),fi?fi.getAttribute("href"):null}();return null==t?null:function Fc(n){Ni=Ni||document.createElement("a"),Ni.setAttribute("href",n);const e=Ni.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ni,fi=null;const Sd=new d.OlP("TRANSITION_ID"),Ia=[{provide:d.ip1,useFactory:function Io(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Sd,re,d.zs3],multi:!0}];let Lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=new d.OlP("EventManagerPlugins");let qi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sa),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Vc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Td=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Rs=(()=>{class n extends Td{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Uc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Uc))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Uc(n){N().remove(n)}const An={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},So=/%COMP%/g;function Ao(n,e){return e.flat(100).map(t=>t.replace(So,n))}function ds(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ys(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Bc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new Mo(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ao(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qi),d.LFG(Rs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ys{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(An[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Wr(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Wr(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=An[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=An[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ds(r)):this.eventManager.addEventListener(e,t,ds(r))}}function Wr(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bc extends Ys{constructor(e,t,r,i){super(e),this.component=r;const a=Ao(i+"-"+r.id,r.styles);t.addStyles(a),this.contentAttr=function yl(n){return"_ngcontent-%COMP%".replace(So,n)}(i+"-"+r.id),this.hostAttr=function vl(n){return"_nghost-%COMP%".replace(So,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Mo extends Ys{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ao(i.id,i.styles);for(let c=0;c<a.length;c++){const p=document.createElement("style");p.textContent=a[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qs=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta=["alt","control","meta","shift"],Dl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Md=(()=>{class n extends Vc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Ta.forEach(b=>{const I=r.indexOf(b);I>-1&&(r.splice(I,1),c+=b+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Dl[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ta.forEach(c=>{c!==i&&(0,jc[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Wi=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:gd},{provide:d.g9A,useValue:function Aa(){xs.makeCurrent()},multi:!0},{provide:re,useFactory:function Gc(){return(0,d.RDi)(document),document},deps:[]}]),gi=new d.OlP(""),cf=[{provide:d.rWj,useClass:class pi{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const p=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],zc=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Fi(){return new d.qLn},deps:[]},{provide:Sa,useClass:Qs,multi:!0,deps:[re,d.R0b,d.Lbi]},{provide:Sa,useClass:Md,multi:!0,deps:[re]},{provide:hs,useClass:hs,deps:[qi,Rs,d.AFp]},{provide:d.FYo,useExisting:hs},{provide:Td,useExisting:Rs},{provide:Rs,useClass:Rs,deps:[re]},{provide:qi,useClass:qi,deps:[Sa,d.R0b]},{provide:class Ws{},useClass:Lc,deps:[]},[]];let Il=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Sd,useExisting:d.AFp},Ia]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gi,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...zc,...cf],imports:[ui,d.hGG]}),n})(),xo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Os(){return new xo((0,d.LFG)(re))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var wn=P(2011),pe=P(5861),an=P(7579),Ki=P(3269),pn=P(8996);function rt(...n){const e=(0,Ki.yG)(n);return(0,pn.D)(n,e)}var bn=P(9751),xl=P(6451),mi=P(5363),ko=P(8421),tr=P(4482),Cn=P(5403);function Pn(n,e){return(0,tr.e)((t,r)=>{let i=null,a=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Cn.x)(r,_=>{i?.unsubscribe();let b=0;const I=a++;(0,ko.Xf)(n(_,I)).subscribe(i=(0,Cn.x)(r,x=>r.next(e?e(_,x,I,b++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var wt=P(4004),Rl=P(6063);class C extends an.x{constructor(e=1/0,t=1/0,r=Rl.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var S=P(3099);function R(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,S.B)({connector:()=>new C(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Q=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return(0,tr.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Ie=P(515);function Ze(n){return n<=0?()=>Ie.E:(0,tr.e)((e,t)=>{let r=0;e.subscribe((0,Cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function it(n){return(0,tr.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function st(n=Ut){return(0,tr.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ut(){return new Q}var Dt=P(4671);function Bn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ee((i,a)=>n(i,a,r)):Dt.y,Ze(1),t?it(e):st(()=>new Q))}var cn=P(576);function Oo(n,e){return(0,cn.m)(e)?Pn(()=>n,e):Pn(()=>n)}var ka=P(9468),jn=P(2122);P(259);var kl=P(9681),gf=P(4859),rn=P(2090),Js=P(1877);const Qc=new Map,mf={activated:!1,tokenObservers:[]},Pg={initialized:!1,enabled:!1};function Er(n){return Qc.get(n)||Object.assign({},mf)}function Ud(){return Pg}class yy{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function vf(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const kr=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jc(n){if(!Er(n).activated)throw kr.create("use-before-activation",{appName:n.name})}function Dr(n,e){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,a)}catch(x){throw kr.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw kr.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(x){throw kr.create("fetch-parse-error",{originalErrorMessage:x?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(_[1]),I=Date.now();return{token:p.token,expireTimeMillis:I+b,issuedAtTimeMillis:I}})).apply(this,arguments)}function Bg(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Yi="firebase-app-check-store";let tu=null;function Bd(){return tu||(tu=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(kr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yi,{keyPath:"compositeKey"})}}catch(t){e(kr.create("storage-open",{originalErrorMessage:t?.message}))}}),tu)}function bf(){return(bf=(0,pe.Z)(function*(n,e){const r=(yield Bd()).transaction(Yi,"readwrite"),a=r.objectStore(Yi).put({compositeKey:n,value:e});return new Promise((c,p)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var b;p(kr.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Nl=new Js.Yd("@firebase/app-check");function Hd(n,e){return(0,rn.hl)()?function nu(n,e){return function No(n,e){return bf.apply(this,arguments)}(function jd(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Nl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zg(){return Ud().enabled}function qg(){return iu.apply(this,arguments)}function iu(){return(iu=(0,pe.Z)(function*(){const n=Ud();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ey={error:"UNKNOWN_ERROR"};function Dy(n){return rn.US.encodeString(JSON.stringify(n),!1)}function Po(n){return su.apply(this,arguments)}function su(){return(su=(0,pe.Z)(function*(n,e=!1){const t=n.app;Jc(t);const r=Er(t);let a,i=r.token;if(i&&!Fa(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Fa(_)?i=_:yield Hd(t,void 0))}if(!e&&i&&Fa(i))return{token:i.token};let p,c=!1;if(zg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Dr(Bg(t,yield qg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield Hd(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Er(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Nl.warn(_.message):Nl.error(_),a=_}return i?a?p=Fa(i)?{token:i.token,internalError:a}:Fo(a):(p={token:i.token},r.token=i,yield Hd(t,i)):p=Fo(a),c&&Cf(t,p),p})).apply(this,arguments)}function ou(n,e){const t=Er(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Df(n){const{app:e}=n,t=Er(e);let r=t.tokenRefresher;r||(r=function Cy(n){const{app:e}=n;return new yy((0,pe.Z)(function*(){let r;if(r=Er(e).token?yield Po(n,!0):yield Po(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Er(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Cf(n,e){const t=Er(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Fa(n){return n.expireTimeMillis-Date.now()>0}function Fo(n){return{token:Dy(Ey),error:n}}class Fl{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Er(this.app);for(const t of e)ou(this.app,t.next);return Promise.resolve()}}const Sf="app-check-internal";!function vi(){(0,kl._registerComponent)(new gf.wA("app-check",n=>function Wg(n,e){return new Fl(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Sf).initialize()})),(0,kl._registerComponent)(new gf.wA(Sf,n=>function Zg(n){return{getToken:e=>Po(n,e),addTokenListener:e=>function $d(n,e,t,r){const{app:i}=n,a=Er(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Fa(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),Df(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Df(n))}(n,"INTERNAL",e),removeTokenListener:e=>ou(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,kl.registerVersion)("@firebase/app-check","0.6.0")}();class du{constructor(){return(0,jn.vb)("app-check")}}typeof window<"u"&&window,P(9260);const ge=new d.OlP("angularfire2.auth.use-emulator"),He=new d.OlP("angularfire2.auth.settings"),Xe=new d.OlP("angularfire2.auth.tenant-id"),It=new d.OlP("angularfire2.auth.langugage-code"),pt=new d.OlP("angularfire2.auth.use-device-language"),cr=new d.OlP("angularfire.auth.persistence"),Qi=(n,e,t,r,i,a,c,p)=>(0,wn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[b,I]of Object.entries(c))_.settings[b]=I;return p&&_.setPersistence(p),_},[t,r,i,a,c,p]);let Ul=(()=>{class n{constructor(t,r,i,a,c,p,_,b,I,x,L,G){const X=new an.x,oe=rt(void 0).pipe((0,mi.Q)(c.outsideAngular),Pn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9169)))),(0,wt.U)(()=>(0,wn.on)(t,a,r)),(0,wt.U)(_e=>Qi(_e,a,p,b,I,x,_,L)),R({bufferSize:1,refCount:!1}));if(Ic(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=rt(null);else{oe.pipe(Bn()).subscribe();const Ke=oe.pipe(Pn(dt=>dt.getRedirectResult().then(At=>At,()=>null)),jn.iC,R({bufferSize:1,refCount:!1})),ut=oe.pipe(Pn(dt=>new bn.y(At=>({unsubscribe:a.runOutsideAngular(()=>dt.onAuthStateChanged(Ot=>At.next(Ot),Ot=>At.error(Ot),()=>At.complete()))})))),gt=oe.pipe(Pn(dt=>new bn.y(At=>({unsubscribe:a.runOutsideAngular(()=>dt.onIdTokenChanged(Ot=>At.next(Ot),Ot=>At.error(Ot),()=>At.complete()))}))));this.authState=Ke.pipe(Oo(ut),(0,ka.R)(c.outsideAngular),(0,mi.Q)(c.insideAngular)),this.user=Ke.pipe(Oo(gt),(0,ka.R)(c.outsideAngular),(0,mi.Q)(c.insideAngular)),this.idToken=this.user.pipe(Pn(dt=>dt?(0,pn.D)(dt.getIdToken()):rt(null))),this.idTokenResult=this.user.pipe(Pn(dt=>dt?(0,pn.D)(dt.getIdTokenResult()):rt(null))),this.credential=(0,xl.T)(Ke,X,this.authState.pipe(ee(dt=>!dt))).pipe((0,wt.U)(dt=>dt?.user?dt:null),(0,ka.R)(c.outsideAngular),(0,mi.Q)(c.insideAngular))}return(0,wn.pX)(this,oe,a,{spy:{apply:(_e,Ke,ut)=>{(_e.startsWith("signIn")||_e.startsWith("createUser"))&&ut.then(gt=>X.next(gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wn.Dh),d.LFG(wn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(jn.HU),d.LFG(ge,8),d.LFG(He,8),d.LFG(Xe,8),d.LFG(It,8),d.LFG(pt,8),d.LFG(cr,8),d.LFG(du,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class wi{constructor(e){this.firebaseAuth=e,this.isLoggedIn=!1}signin(e,t){var r=this;return(0,pe.Z)(function*(){yield r.firebaseAuth.signInWithEmailAndPassword(e,t).then(i=>{r.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(i.user))})})()}signup(e,t){var r=this;return(0,pe.Z)(function*(){yield r.firebaseAuth.createUserWithEmailAndPassword(e,t).then(i=>{r.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(i.user))})})()}logout(){this.firebaseAuth.signOut(),localStorage.removeItem("user")}}wi.\u0275fac=function(e){return new(e||wi)(d.LFG(Ul))},wi.\u0275prov=d.Yz7({token:wi,factory:wi.\u0275fac,providedIn:"root"});class Kn extends an.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Bl}=Array,{getPrototypeOf:Qd,prototype:Af,keys:Mf}=Object;function xf(n){if(1===n.length){const e=n[0];if(Bl(e))return{args:e,keys:null};if(function ky(n){return n&&"object"==typeof n&&Qd(n)===Af}(e)){const t=Mf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:X0}=Array;function fu(n){return(0,wt.U)(e=>function hu(n,e){return X0(e)?n(...e):n(e)}(n,e))}function BI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var cR=P(9672);function tm(...n){const e=(0,Ki.yG)(n),t=(0,Ki.jO)(n),{args:r,keys:i}=xf(n);if(0===r.length)return(0,pn.D)([],e);const a=new bn.y(function jI(n,e,t=Dt.y){return r=>{J0(e,()=>{const{length:i}=n,a=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)J0(e,()=>{const b=(0,pn.D)(n[_],e);let I=!1;b.subscribe((0,Cn.x)(r,x=>{a[_]=x,I||(I=!0,p--),p||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>BI(i,c):Dt.y));return t?a.pipe(fu(t)):a}function J0(n,e,t){n?(0,cR.f)(t,n,e):e()}var Rf=P(8189);function kf(...n){return function HI(){return(0,Rf.J)(1)}()((0,pn.D)(n,(0,Ki.yG)(n)))}function Of(n){return new bn.y(e=>{(0,ko.Xf)(n()).subscribe(e)})}var $I=P(9635);function pu(n,e){const t=(0,cn.m)(n)?n:()=>n,r=i=>i.error(t());return new bn.y(e?i=>e.schedule(r,0,i):r)}var nm=P(727);function ur(){return(0,tr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Oy extends bn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nm.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nm.w0.EMPTY)}return e}refCount(){return ur()(this)}}function Xd(...n){const e=(0,Ki.yG)(n);return(0,tr.e)((t,r)=>{(e?kf(n,t,e):kf(n,t)).subscribe(r)})}var si=P(5577);function jl(n,e){return(0,cn.m)(e)?(0,si.z)(n,e,1):(0,si.z)(n,1)}var bi=P(8505);function Hl(n){return(0,tr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,c=>{a=(0,ko.Xf)(n(c,Hl(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function GI(n,e,t,r,i){return(a,c)=>{let p=t,_=e,b=0;a.subscribe((0,Cn.x)(c,I=>{const x=b++;_=p?n(_,I,x):(p=!0,I),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function Nf(n,e){return(0,tr.e)(GI(n,e,arguments.length>=2,!0))}function rm(n){return n<=0?()=>Ie.E:(0,tr.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ee((i,a)=>n(i,a,r)):Dt.y,rm(1),t?it(e):st(()=>new Q))}function Ff(n){return(0,tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Zt="primary",Jd=Symbol("RouteTitle");class eb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Lf(n){return new eb(n)}function qI(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],p=n[a];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!im(n[i],e[i]))return!1;return!0}function im(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function WI(n){return Array.prototype.concat.apply([],n)}function sm(n){return n.length>0?n[n.length-1]:null}function Nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ua(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,pn.D)(Promise.resolve(n)):rt(n)}const Vf=!1,gu={exact:function rb(n,e,t){if(!Ns(n.segments,e.segments)||!Bf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rb(n.children[r],e.children[r],t))return!1;return!0},subset:Uf},nb={exact:function am(n,e){return eo(n,e)},subset:function Ny(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>im(n[t],e[t]))},ignored:()=>!0};function om(n,e,t){return gu[t.paths](n.root,e.root,t.matrixParams)&&nb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Uf(n,e,t){return $l(n,e,e.segments,t)}function $l(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ns(i,t)||e.hasChildren()||!Bf(i,t,r))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!Bf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Uf(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ns(n.segments,i)&&Bf(n.segments,i,r)&&n.children[Zt])&&$l(n.children[Zt],e,a,r)}}function Bf(n,e,t){return e.every((r,i)=>nb[t](n[i].parameters,r.parameters))}class Ba{constructor(e=new Yt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lf(this.queryParams)),this._queryParamMap}toString(){return Fy.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Nr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lm(this)}}class jf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Lf(this.parameters)),this._parameterMap}toString(){return mu(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Py},providedIn:"root"}),n})();class Py{parse(e){const t=new Vy(e);return new Ba(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${eh(e.root,!0)}`,r=function KI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${$f(t)}=${$f(i)}`).join("&"):`${$f(t)}=${$f(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hR(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Fy=new Py;function lm(n){return n.segments.map(e=>mu(e)).join("/")}function eh(n,e){if(!n.hasChildren())return lm(n);if(e){const t=n.children[Zt]?eh(n.children[Zt],!1):"",r=[];return Nr(n.children,(i,a)=>{a!==Zt&&r.push(`${a}:${eh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ZI(n,e){let t=[];return Nr(n.children,(r,i)=>{i===Zt&&(t=t.concat(e(r,i)))}),Nr(n.children,(r,i)=>{i!==Zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Zt?[eh(n.children[Zt],!1)]:[`${i}:${eh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${lm(n)}/${t[0]}`:`${lm(n)}/(${t.join("//")})`}}function sb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(n){return sb(n).replace(/%3B/gi,";")}function Ly(n){return sb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(n){return decodeURIComponent(n)}function ob(n){return Gl(n.replace(/\+/g,"%20"))}function mu(n){return`${Ly(n.path)}${function Gf(n){return Object.keys(n).map(e=>`;${Ly(e)}=${Ly(n[e])}`).join("")}(n.parameters)}`}const ab=/^[^\/()?;=#]+/;function cm(n){const e=n.match(ab);return e?e[0]:""}const YI=/^[^=?&#]+/,lb=/^[^&#]+/;class Vy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Zt]=new Yt(e,t)),r}parseSegment(){const e=cm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,Vf);return this.capture(e),new jf(Gl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=cm(this.remaining);i&&(r=i,this.capture(r))}e[Gl(t)]=Gl(r)}parseQueryParam(e){const t=function QI(n){const e=n.match(YI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function cb(n){const e=n.match(lb);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ob(t),a=ob(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,Vf);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Zt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Zt]:new Yt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,Vf)}}function zf(n){return n.segments.length>0?new Yt([],{[Zt]:n}):n}function um(n){const e={};for(const r of Object.keys(n.children)){const a=um(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Uy(n){if(1===n.numberOfChildren&&n.children[Zt]){const e=n.children[Zt];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}function to(n){return n instanceof Ba}function eS(n,e,t,r,i){if(0===t.length)return no(e.root,e.root,e.root,r,i);const a=function db(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ub(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return Nr(a.outlets,(_,b)=>{p[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new ub(t,e,r)}(t);return a.toRoot()?no(e.root,e.root,new Yt([],{}),r,i):function c(_){const b=function hb(n,e,t,r){if(n.isAbsolute)return new Zf(e.root,!0,0);if(-1===r)return new Zf(t,t===e.root,0);return function tS(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new Zf(r,!1,i-a)}(t,r+(qf(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),I=b.processChildren?Kf(b.segmentGroup,b.index,a.commands):dm(b.segmentGroup,b.index,a.commands);return no(e.root,b.segmentGroup,I,r,i)}(n.snapshot?._lastPathIndex)}function qf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wf(n){return"object"==typeof n&&null!=n&&n.outlets}function no(n,e,t,r,i){let c,a={};r&&Nr(r,(_,b)=>{a[b]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),c=n===e?t:Ho(n,e,t);const p=zf(um(c));return new Ba(p,a,i)}function Ho(n,e,t){const r={};return Nr(n.children,(i,a)=>{r[a]=i===e?t:Ho(i,e,t)}),new Yt(n.segments,r)}class ub{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qf(r[0]))throw new d.vHH(4003,!1);const i=r.find(Wf);if(i&&i!==sm(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dm(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return Kf(n,e,t);const r=function pb(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],p=t[r];if(Wf(p))break;const _=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!gb(_,b,c))return a;r+=2}else{if(!gb(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Yt(n.segments.slice(0,r.pathIndex),{});return a.children[Zt]=new Yt(n.segments.slice(r.pathIndex),n.children),Kf(a,0,i)}return r.match&&0===i.length?new Yt(n.segments,{}):r.match&&!n.hasChildren()?jy(n,e,t):r.match?Kf(n,0,i):jy(n,e,t)}function Kf(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const r=function fb(n){return Wf(n[0])?n[0].outlets:{[Zt]:n}}(t),i={};return Nr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=dm(n.children[c],e,a))}),Nr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Yt(n.segments,i)}}function jy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Wf(a)){const _=nS(a.outlets);return new Yt(r,_)}if(0===i&&qf(t[0])){r.push(new jf(n.segments[e].path,Ps(t[0]))),i++;continue}const c=Wf(a)?a.outlets[Zt]:`${a}`,p=i<t.length-1?t[i+1]:null;c&&p&&qf(p)?(r.push(new jf(c,Ps(p))),i+=2):(r.push(new jf(c,{})),i++)}return new Yt(r,{})}function nS(n){const e={};return Nr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jy(new Yt([],{}),0,t))}),e}function Ps(n){const e={};return Nr(n,(t,r)=>e[r]=`${t}`),e}function gb(n,e,t){return n==t.path&&eo(e,t.parameters)}class $o{constructor(e,t){this.id=e,this.url=t}}class Hy extends $o{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _u extends $o{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hm extends $o{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mb extends $o{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _b extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rS extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iS extends $o{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sS extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gt extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yb{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vb{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wb{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aS{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bb{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eb{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let lS=(()=>{class n{createUrlTree(t,r,i,a,c,p){return eS(t||r.root,i,a,c,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return lS.\u0275fac(e)},providedIn:"root"}),n})();class $y{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ja(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ja(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gy(e,this._root).map(t=>t.value)}}function ja(n,e){if(n===e.value)return e;for(const t of e.children){const r=ja(n,t);if(r)return r}return null}function Gy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gy(n,t);if(r.length)return r.unshift(e),r}return[]}class ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ib extends $y{constructor(e,t){super(e),this.snapshot=t,ql(this,e)}toString(){return this.snapshot.toString()}}function cS(n,e){const t=function mR(n,e){const c=new zy([],{},{},"",{},Zt,e,null,n.root,-1,{});return new Ab("",new ro(c,[]))}(n,e),r=new Kn([new jf("",{})]),i=new Kn({}),a=new Kn({}),c=new Kn({}),p=new Kn(""),_=new Yf(r,i,c,p,a,Zt,e,t.root);return _.snapshot=t.root,new Ib(new ro(_,[]),t)}class Yf{constructor(e,t,r,i,a,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,wt.U)(b=>b[Jd]))??rt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>Lf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>Lf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Sb(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Tb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zy{constructor(e,t,r,i,a,c,p,_,b,I,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=I,this._resolve=x}get title(){return this.data?.[Jd]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ab extends $y{constructor(e,t){super(t),this.url=e,ql(this,t)}toString(){return Mb(this._root)}}function ql(n,e){e.value._routerState=n,e.children.forEach(t=>ql(n,t))}function Mb(n){const e=n.children.length>0?` { ${n.children.map(Mb).join(", ")} } `:"";return`${n.value}${e}`}function fm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),eo(e.params,t.params)||n.params.next(t.params),function tb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function th(n,e){const t=eo(n.params,e.params)&&function ib(n,e){return Ns(n,e)&&n.every((t,r)=>eo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||th(n.parent,e.parent))}function nh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function dS(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nh(n,r,i);return nh(n,r)})}(n,e,t);return new ro(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>nh(n,p)),c}}const r=function hS(n){return new Yf(new Kn(n.url),new Kn(n.params),new Kn(n.queryParams),new Kn(n.fragment),new Kn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>nh(n,a));return new ro(r,i)}}const qy="ngNavigationCancelingError";function xb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Rb(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[qy]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Wy(n){return kb(n)&&to(n.url)}function kb(n){return n&&n[qy]}class Ob{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rh,this.attachRef=null}}let rh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ob,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ih=!1;let Nb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(rh),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,ih);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,ih);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,ih);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,ih);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new Zy(t,p,i.injector);if(r&&function fS(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Zy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yf?this.route:e===rh?this.childContexts:this.parent.get(e,t)}}let Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Nb],encapsulation:2}),n})();function yu(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vu(n){const e=n.children&&n.children.map(vu),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=Pb),t}function Xi(n){return n.outlet||Zt}function Qf(n,e){const t=n.filter(r=>Xi(r)===e);return t.push(...n.filter(r=>Xi(r)!==e)),t}function oh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xy{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zl(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Nr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=zl(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new bb(a.value.snapshot))}),e.children.length&&this.forwardEvent(new oS(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(fm(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),fm(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=oh(i.snapshot),_=p?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class gm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xf{constructor(e,t){this.component=e,this.route=t}}function Jy(n,e,t){const r=n._root;return lh(r,e?e._root:null,t,[r.value])}function ah(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function lh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=zl(e);return n.children.forEach(c=>{(function _S(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function Fb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!th(n,e)||!eo(n.queryParams,e.queryParams);default:return!th(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new gm(r)):(a.data=c.data,a._resolvedData=c._resolvedData),lh(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Xf(p.outlet.component,c))}else c&&ch(e,p,i),i.canActivateChecks.push(new gm(r)),lh(n,null,a.component?p?p.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Nr(a,(c,p)=>ch(c,t.getContext(p),i)),i}function ch(n,e,t){const r=zl(n),i=n.value;Nr(r,(a,c)=>{ch(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Xf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jf(n){return"function"==typeof n}function tv(n){return n instanceof Q||"EmptyError"===n?.name}const mm=Symbol("INITIAL_VALUE");function wu(){return Pn(n=>tm(n.map(e=>e.pipe(Ze(1),Xd(mm)))).pipe((0,wt.U)(e=>{for(const t of e)if(!0!==t){if(t===mm)return mm;if(!1===t||t instanceof Ba)return t}return!0}),ee(e=>e!==mm),Ze(1)))}function _m(n){return(0,$I.z)((0,bi.b)(e=>{if(to(e))throw xb(0,e)}),(0,wt.U)(e=>!0===e))}const rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iv(n,e,t,r,i){const a=sv(n,e,t);return a.matched?function MS(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?rt(i.map(c=>{const p=ah(c,n);return Ua(function ev(n){return n&&Jf(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(wu(),_m()):rt(!0)}(r=yu(e,r),e,t).pipe((0,wt.U)(c=>!0===c?a:{...rv})):rt(a)}function sv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qI)(t,n,e);if(!i)return{...rv};const a={};Nr(i.posParams,(p,_)=>{a[_]=p.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function ym(n,e,t,r){if(t.length>0&&function RS(n,e,t){return t.some(r=>bu(n,e,r)&&Xi(r)!==Zt)}(n,t,r)){const a=new Yt(e,function ov(n,e,t,r){const i={};i[Zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Xi(a)!==Zt){const c=new Yt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Xi(a)]=c}return i}(n,e,r,new Yt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function kS(n,e,t){return t.some(r=>bu(n,e,r))}(n,t,r)){const a=new Yt(n.segments,function xS(n,e,t,r,i){const a={};for(const c of r)if(bu(n,t,c)&&!i[Xi(c)]){const p=new Yt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[Xi(c)]=p}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Yt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function bu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vm(n,e,t,r){return!!(Xi(n)===r||r!==Zt&&bu(e,t,n))&&("**"===n.path||sv(e,n,t).matched)}function ep(n,e,t){return 0===e.length&&!n.children[t]}const av=!1;class uh{constructor(e){this.segmentGroup=e||null}}class OS{constructor(e){this.urlTree=e}}function dh(n){return pu(new uh(n))}function lv(n){return pu(new OS(n))}class Ha{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=ym(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Zt).pipe((0,wt.U)(a=>this.createUrlTree(um(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hl(a=>{if(a instanceof OS)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof uh?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Zt).pipe((0,wt.U)(i=>this.createUrlTree(um(i),e.queryParams,e.fragment))).pipe(Hl(i=>{throw i instanceof uh?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,av)}createUrlTree(e,t,r){const i=zf(e);return new Ba(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new Yt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,pn.D)(i).pipe(jl(a=>{const c=r.children[a],p=Qf(t,a);return this.expandSegmentGroup(e,p,c,a).pipe((0,wt.U)(_=>({segment:_,outlet:a})))}),Nf((a,c)=>(a[c.outlet]=c.segment,a),{}),zI())}expandSegment(e,t,r,i,a,c){return(0,pn.D)(r).pipe(jl(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,c).pipe(Hl(b=>{if(b instanceof uh)return rt(null);throw b}))),Bn(p=>!!p),Hl((p,_)=>{if(tv(p))return ep(t,i,a)?rt(new Yt([],{})):dh(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,c,p){return vm(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):dh(t):dh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lv(a):this.lineralizeSegments(r,a).pipe((0,si.z)(c=>{const p=new Yt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:p,consumedSegments:_,remainingSegments:b,positionalParamSegments:I}=sv(t,i,a);if(!p)return dh(t);const x=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?lv(x):this.lineralizeSegments(i,x).pipe((0,si.z)(L=>this.expandSegment(e,t,r,L.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=yu(r,e),r.loadChildren?(r._loadedRoutes?rt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,wt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Yt(i,{})))):rt(new Yt(i,{}))):iv(t,r,i,e).pipe(Pn(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,si.z)(I=>{const x=I.injector??e,L=I.routes,{segmentGroup:G,slicedSegments:X}=ym(t,p,_,L),oe=new Yt(G.segments,G.children);if(0===X.length&&oe.hasChildren())return this.expandChildren(x,L,oe).pipe((0,wt.U)(gt=>new Yt(p,gt)));if(0===L.length&&0===X.length)return rt(new Yt(p,{}));const _e=Xi(r)===a;return this.expandSegment(x,oe,L,X,_e?Zt:a,!0).pipe((0,wt.U)(ut=>new Yt(p.concat(ut.segments),ut.children)))})):dh(t)))}getChildConfig(e,t,r){return t.children?rt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Go(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(c=>{const p=ah(c,n);return Ua(function ms(n){return n&&Jf(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(wu(),_m())}(e,t,r).pipe((0,si.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,bi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Ub(n){return pu(Rb(av,3))}())):rt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[Zt])return pu(new d.vHH(4e3,av));i=i.children[Zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ba(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Nr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Nr(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new Yt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,av);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class np{}class jb{constructor(e,t,r,i,a,c,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=p}recognize(){const e=ym(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Zt).pipe((0,wt.U)(t=>{if(null===t)return null;const r=new zy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ro(r,t),a=new Ab(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Sb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,pn.D)(Object.keys(r.children)).pipe(jl(i=>{const a=r.children[i],c=Qf(t,i);return this.processSegmentGroup(e,c,a,i)}),Nf((i,a)=>i&&a?(i.push(...a),i):null),function uR(n,e=!1){return(0,tr.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),it(null),zI(),(0,wt.U)(i=>{if(null===i)return null;const a=Hb(i);return function PS(n){n.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,pn.D)(t).pipe(jl(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Bn(c=>!!c),Hl(c=>{if(tv(c))return ep(r,i,a)?rt([]):rt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!vm(t,r,i,a))return rt(null);let c;if("**"===t.path){const p=i.length>0?sm(i).parameters:{},_=Gb(r)+i.length;c=rt({snapshot:new zy(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zb(t),Xi(t),t.component??t._loadedComponent??null,t,$b(r),_,qb(t)),consumedSegments:[],remainingSegments:[]})}else c=iv(r,t,i,e).pipe((0,wt.U)(({matched:p,consumedSegments:_,remainingSegments:b,parameters:I})=>{if(!p)return null;const x=Gb(r)+_.length;return{snapshot:new zy(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zb(t),Xi(t),t.component??t._loadedComponent??null,t,$b(r),x,qb(t)),consumedSegments:_,remainingSegments:b}}));return c.pipe(Pn(p=>{if(null===p)return rt(null);const{snapshot:_,consumedSegments:b,remainingSegments:I}=p;e=t._injector??e;const x=t._loadedInjector??e,L=function FS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:X}=ym(r,b,I,L.filter(_e=>void 0===_e.redirectTo));if(0===X.length&&G.hasChildren())return this.processChildren(x,L,G).pipe((0,wt.U)(_e=>null===_e?null:[new ro(_,_e)]));if(0===L.length&&0===X.length)return rt([new ro(_,[])]);const oe=Xi(t)===a;return this.processSegment(x,L,G,X,oe?Zt:a).pipe((0,wt.U)(_e=>null===_e?null:[new ro(_,_e)]))}))}}function rp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hb(n){const e=[],t=new Set;for(const r of n){if(!rp(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Hb(r.children);e.push(new ro(r.value,i))}return e.filter(r=>!t.has(r))}function $b(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Gb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function zb(n){return n.data||{}}function qb(n){return n.resolve||{}}function Zb(n){return"string"==typeof n.title||null===n.title}function hv(n){return Pn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,wt.U)(()=>e)):rt(e)})}const hh=new d.OlP("ROUTES");let fv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ua(t.loadComponent()).pipe((0,wt.U)(pv),(0,bi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Ff(()=>{this.componentLoaders.delete(t)})),i=new Oy(r,()=>new an.x).pipe(ur());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,wt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,I=!1;Array.isArray(p)?b=p:(_=p.create(t).injector,b=WI(_.get(hh,[],d.XFs.Self|d.XFs.Optional)));return{routes:b.map(vu),injector:_}}),Ff(()=>{this.childrenLoaders.delete(r)})),c=new Oy(a,()=>new an.x).pipe(ur());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Ua(t()).pipe((0,wt.U)(pv),(0,si.z)(i=>i instanceof d.YKP||Array.isArray(i)?rt(i):(0,pn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pv(n){return function jS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let mv=(()=>{class n{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new an.x,this.configLoader=(0,d.f3M)(fv),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Hf),this.rootContexts=(0,d.f3M)(rh),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new vb(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new yb(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Kn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ee(r=>0!==r.id),(0,wt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Pn(r=>{let i=!1,a=!1;return rt(r).pipe((0,bi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(c=>{const p=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||_)&&t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return HS(c.source)&&(t.browserUrlTree=c.extractedUrl),rt(c).pipe(Pn(I=>{const x=this.transitions?.getValue();return this.events.next(new Hy(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),x!==this.transitions?.getValue()?Ie.E:Promise.resolve(I)}),function wm(n,e,t,r){return Pn(i=>function cv(n,e,t,r,i){return new Ha(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,bi.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function LS(n,e,t,r,i){return(0,si.z)(a=>function Bb(n,e,t,r,i,a,c="emptyOnly"){return new jb(n,e,t,r,i,c,a).recognize().pipe(Pn(p=>null===p?function NS(n){return new bn.y(e=>e.error(n))}(new np):rt(p)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,wt.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,t.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,bi.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const L=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(L,I)}t.browserUrlTree=I.urlAfterRedirects}const x=new _b(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(x)}));if(_&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:L,source:G,restoredState:X,extras:oe}=c,_e=new Hy(x,this.urlSerializer.serialize(L),G,X);this.events.next(_e);const Ke=cS(L,t.rootComponentType).snapshot;return rt(r={...c,targetSnapshot:Ke,urlAfterRedirects:L,extras:{...oe,skipLocationChange:!1,replaceUrl:!1}})}return t.rawUrlTree=c.rawUrl,c.resolve(null),Ie.E}),(0,bi.b)(c=>{const p=new rS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),(0,wt.U)(c=>r={...c,guards:Jy(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function ES(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?rt({...t,guardsResult:!0}):function DS(n,e,t,r){return(0,pn.D)(n).pipe((0,si.z)(i=>function AS(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?rt(a.map(p=>{const _=oh(e)??i,b=ah(p,_);return Ua(function vR(n){return n&&Jf(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Bn())})).pipe(wu()):rt(!0)}(i.component,i.route,t,e,r)),Bn(i=>!0!==i,!0))}(c,r,i,n).pipe((0,si.z)(p=>p&&function yS(n){return"boolean"==typeof n}(p)?function nv(n,e,t,r){return(0,pn.D)(e).pipe(jl(i=>kf(function IS(n,e){return null!==n&&e&&e(new wb(n)),rt(!0)}(i.route.parent,r),function CS(n,e){return null!==n&&e&&e(new aS(n)),rt(!0)}(i.route,r),function TS(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function mS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Of(()=>rt(c.guards.map(_=>{const b=oh(c.node)??t,I=ah(_,b);return Ua(function vS(n){return n&&Jf(n.canActivateChild)}(I)?I.canActivateChild(r,n):b.runInContext(()=>I(r,n))).pipe(Bn())})).pipe(wu())));return rt(a).pipe(wu())}(n,i.path,t),function SS(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(a=>Of(()=>{const c=oh(e)??t,p=ah(a,c);return Ua(function Lb(n){return n&&Jf(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(Bn())}));return rt(i).pipe(wu())}(n,i.route,t))),Bn(i=>!0!==i,!0))}(r,a,n,e):rt(p)),(0,wt.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,c=>this.events.next(c)),(0,bi.b)(c=>{if(r.guardsResult=c.guardsResult,to(c.guardsResult))throw xb(0,c.guardsResult);const p=new iS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),ee(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3,t),!1)),hv(c=>{if(c.guards.canActivateChecks.length)return rt(c).pipe((0,bi.b)(p=>{const _=new sS(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),Pn(p=>{let _=!1;return rt(p).pipe(function VS(n,e){return(0,si.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return rt(t);let a=0;return(0,pn.D)(i).pipe(jl(c=>function Wb(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Zb(i)&&(a[Jd]=i.title),function uv(n,e,t,r){const i=function US(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return rt({});const a={};return(0,pn.D)(i).pipe((0,si.z)(c=>function dv(n,e,t,r){const i=oh(e)??r,a=ah(n,i);return Ua(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Bn(),(0,bi.b)(p=>{a[c]=p}))),rm(1),function Pf(n){return(0,wt.U)(()=>n)}(a),Hl(c=>tv(c)?Ie.E:pu(c)))}(a,n,e,r).pipe((0,wt.U)(c=>(n._resolvedData=c,n.data=Sb(n,t).resolve,i&&Zb(i)&&(n.data[Jd]=i.title),null)))}(c.route,r,n,e)),(0,bi.b)(()=>a++),rm(1),(0,si.z)(c=>a===i.length?rt(t):Ie.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,bi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2,t))}}))}),(0,bi.b)(p=>{const _=new Gt(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),hv(c=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,bi.b)(I=>{_.component=I}),(0,wt.U)(()=>{})));for(const I of _.children)b.push(...p(I));return b};return tm(p(c.targetSnapshot.root)).pipe(it(),Ze(1))}),hv(()=>t.afterPreactivation()),(0,wt.U)(c=>{const p=function uS(n,e,t){const r=nh(n,e._root,t?t._root:void 0);return new Ib(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:p}}),(0,bi.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new Xy(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,bi.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new _u(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ff(()=>{i||a||this.cancelNavigationTransition(r,"",1,t),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Hl(c=>{if(a=!0,kb(c)){Wy(c)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new hm(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(p),Wy(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||HS(r.source)};t.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new mb(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Ie.E}))}))}cancelNavigationTransition(t,r,i,a){const c=new hm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(c),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HS(n){return"imperative"!==n}let _v=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Zt);return r}getResolvedTitleForRoute(t){return t.data[Jd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(bm)},providedIn:"root"}),n})(),bm=(()=>{class n extends _v{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xo))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ip)},providedIn:"root"}),n})();class ER{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ip=(()=>{class n extends ER{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Em=new d.OlP("",{providedIn:"root",factory:()=>({})});let yv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(GS)},providedIn:"root"}),n})(),GS=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sp(n){throw n}function Ei(n,e,t){return e.parse("/")}const Du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class n{constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Em,{optional:!0})||{},this.errorHandler=this.options.errorHandler||sp,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ei,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>rt(void 0),this.urlHandlingStrategy=(0,d.f3M)(yv),this.routeReuseStrategy=(0,d.f3M)(Eu),this.urlCreationStrategy=(0,d.f3M)(Cb),this.titleStrategy=(0,d.f3M)(_v),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=WI((0,d.f3M)(hh,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(mv),this.urlSerializer=(0,d.f3M)(Hf),this.location=(0,d.f3M)(Le),this.rootComponentType=null,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ba,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cS(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(t.state){const p={...t.state};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(vu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:c;let I=null;switch(p){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,I,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=to(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vv(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Du}:!1===r?{...Dm}:r,to(t))return om(this.currentUrlTree,t,i);const a=this.parseUrl(t);return om(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let p,_,b,I;return c?(p=c.resolve,_=c.reject,b=c.promise):b=new Promise((x,L)=>{p=x,_=L}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),I=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.navigationTransitions.handleNavigationRequest({targetPageId:I,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zo=(()=>{class n{constructor(t,r,i,a,c,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new an.x;const _=c.nativeElement.tagName;this.isAnchorElement="A"===_||"AREA"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof _u&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Hn),d.Y36(Yf),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(ot))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class Cu{}let gh=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ee(t=>t instanceof _u),jl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,d.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,pn.D)(i).pipe((0,Rf.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):rt(null);const a=i.pipe((0,si.z)(c=>null===c?rt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,pn.D)([a,c]).pipe((0,Rf.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Cu),d.LFG(fv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wl=new d.OlP("");let Iu=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _u&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Eb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Eb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Tu(n,e){return{\u0275kind:n,\u0275providers:e}}function bv(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Hn),i=n.get(Qb);1===n.get(Ev)&&r.initialNavigation(),n.get(Im,null,d.XFs.Optional)?.setUpPreloading(),n.get(Wl,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Qb=new d.OlP("",{factory:()=>new an.x}),Ev=new d.OlP("",{providedIn:"root",factory:()=>1});const Im=new d.OlP("");function Dv(n){return Tu(0,[{provide:Im,useExisting:gh},{provide:Cu,useExisting:n}])}const Sm=new d.OlP("ROUTER_FORROOT_GUARD"),KS=[Le,{provide:Hf,useClass:Py},Hn,rh,{provide:Yf,useFactory:function wv(n){return n.routerState.root},deps:[Hn]},fv,[]];function Tm(){return new d.PXZ("Router",Hn)}let lp=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KS,[],{provide:hh,multi:!0,useValue:t},{provide:Sm,useFactory:tE,deps:[[Hn,new d.FiY,new d.tp0]]},{provide:Em,useValue:r||{}},r?.useHash?{provide:ot,useClass:Se}:{provide:ot,useClass:Ae},{provide:Wl,useFactory:()=>{const n=(0,d.f3M)(As),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Em),r=(0,d.f3M)(mv),i=(0,d.f3M)(Hf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Iu(i,r,n,e,t)}},r?.preloadingStrategy?Dv(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Tm},r?.initialNavigation?nE(r):[],[{provide:Am,useFactory:bv},{provide:d.tb,multi:!0,useExisting:Am}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Sm,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Pb]}),n})();function tE(n){return"guarded"}function nE(n){return["disabled"===n.initialNavigation?Tu(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ev,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Tu(2,[{provide:Ev,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=e.get(Hn),c=e.get(Qb);(function r(i){e.get(Hn).events.pipe(ee(c=>c instanceof _u||c instanceof hm||c instanceof mb),(0,wt.U)(c=>c instanceof _u||c instanceof hm&&(0===c.code||1===c.code)&&null),ee(c=>null!==c),Ze(1)).subscribe(()=>{i()})})(()=>{i(!0)}),a.afterPreactivation=()=>(i(!0),c.closed?rt(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const Am=new d.OlP("");class mh{}mh.\u0275fac=function(e){return new(e||mh)},mh.\u0275cmp=d.Xpm({type:mh,selectors:[["app-editentry"]],decls:0,vars:0,template:function(e,t){}});var cp=P(4986);function Mm(){return(0,tr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function Tv(n,e=Dt.y){return n=n??YS,(0,tr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Cn.x)(r,c=>{const p=e(c);(a||!n(i,p))&&(a=!1,i=p,r.next(c))}))})}function YS(n,e){return n===e}P(9169);var lt,iE=P(3942),sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},so={},xm=xm||{},Bt=sE||self;function up(){}function dp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _h(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rm="closure_uid_"+(1e9*Math.random()>>>0),km=0;function Kl(n,e,t){return n.call.apply(n.bind,arguments)}function XS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Di(n,e,t){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kl:XS).apply(null,arguments)}function yh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function nr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function qo(){this.s=this.s,this.o=this.o}qo.prototype.s=!1,qo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function oE(n){Object.prototype.hasOwnProperty.call(n,Rm)&&n[Rm]||(n[Rm]=++km)}(this)},qo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Om=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function aE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eT(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(dp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ci.prototype.h=function(){this.defaultPrevented=!0};var tT=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",up,e),Bt.removeEventListener("test",up,e)}catch{}return n}();function hp(n){return/^[\s\xa0]*$/.test(n)}var lE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function fr(n,e){return n<e?-1:n>e?1:0}function fp(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function Wo(n){return-1!=fp().indexOf(n)}function Av(n){return Av[" "](n),n}Av[" "]=up;var Nm,n,nT=Wo("Opera"),Au=Wo("Trident")||Wo("MSIE"),Mv=Wo("Edge"),Yl=Mv||Au,uE=Wo("Gecko")&&!(-1!=fp().toLowerCase().indexOf("webkit")&&!Wo("Edge"))&&!(Wo("Trident")||Wo("MSIE"))&&!Wo("Edge"),rT=-1!=fp().toLowerCase().indexOf("webkit")&&!Wo("Edge");function xv(){var n=Bt.document;return n?n.documentMode:void 0}e:{var Pm="",dE=(n=fp(),uE?/rv:([^\);]+)(\)|;)/.exec(n):Mv?/Edge\/([\d\.]+)/.exec(n):Au?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rT?/WebKit\/(\S+)/.exec(n):nT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dE&&(Pm=dE?dE[1]:""),Au){var pp=xv();if(null!=pp&&pp>parseFloat(Pm)){Nm=String(pp);break e}}Nm=Pm}var Rv={};var Ko=Bt.document&&Au&&(xv()||parseInt(Nm,10))||void 0;function Li(n,e){if(Ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(uE){e:{try{Av(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oo[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Li.X.h.call(this)}}nr(Li,Ci);var oo={2:"touch",3:"pen",4:"mouse"};Li.prototype.h=function(){Li.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vh="closure_listenable_"+(1e6*Math.random()|0),fE=0;function iT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++fE,this.ba=this.ea=!1}function Fm(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ov(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function pE(n){const e={};for(const t in n)e[t]=n[t];return e}const Lm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wh(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Lm.length;a++)t=Lm[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vm(n){this.src=n,this.g={},this.h=0}function Um(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Om(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Fm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}Vm.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Nv(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new iT(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var Bm="closure_lm_"+(1e6*Math.random()|0),jm={};function gp(n,e,t,r,i){if(r&&r.once)return Pv(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)gp(n,e[a],t,r,i);return null}return t=zm(t),n&&n[vh]?n.N(e,t,_h(r)?!!r.capture:!!r,i):gE(n,e,t,!1,r,i)}function gE(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=_h(i)?!!i.capture:!!i,p=$m(n);if(p||(n[Bm]=p=new Vm(n)),(t=p.add(e,t,r,c,a)).proxy)return t;if(r=function mE(){const e=_E;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tT||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Fv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Pv(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Pv(n,e[a],t,r,i);return null}return t=zm(t),n&&n[vh]?n.O(e,t,_h(r)?!!r.capture:!!r,i):gE(n,e,t,!0,r,i)}function Hm(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Hm(n,e[a],t,r,i);else r=_h(r)?!!r.capture:!!r,t=zm(t),n&&n[vh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nv(a=n.g[e],t,r,i))&&(Fm(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=$m(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nv(e,t,r,i)),(t=-1<n?e[n]:null)&&bh(t))}function bh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[vh])Um(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Fv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$m(e))?(Um(t,n),0==t.h&&(t.src=null,e[Bm]=null)):Fm(n)}}}function Fv(n){return n in jm?jm[n]:jm[n]="on"+n}function _E(n,e){if(n.ba)n=!0;else{e=new Li(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&bh(n),n=t.call(r,e)}return n}function $m(n){return(n=n[Bm])instanceof Vm?n:null}var Gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function zm(n){return"function"==typeof n?n:(n[Gm]||(n[Gm]=function(e){return n.handleEvent(e)}),n[Gm])}function Pr(){qo.call(this),this.i=new Vm(this),this.P=this,this.I=null}function Zr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ci(e,n);else if(e instanceof Ci)e.target=e.target||n;else{var i=e;wh(e=new Ci(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=mp(c,r,!0,e)&&i}if(i=mp(c=e.g=n,r,!0,e)&&i,i=mp(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=mp(c=e.g=t[a],r,!1,e)&&i}function mp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&Um(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}nr(Pr,qo),Pr.prototype[vh]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){Hm(this,n,e,t,r)},Pr.prototype.M=function(){if(Pr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Fm(t[r]);delete n.g[e],n.h--}}this.I=null},Pr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Lv=Bt.JSON.stringify;function sT(){var n=wE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Vv,yE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new aT,n=>n.reset());class aT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function lT(n){Bt.setTimeout(()=>{throw n},0)}function vE(n,e){Vv||function cT(){var n=Bt.Promise.resolve(void 0);Vv=function(){n.then(uT)}}(),Uv||(Vv(),Uv=!0),wE.add(n,e)}var Uv=!1,wE=new class oT{constructor(){this.h=this.g=null}add(e,t){const r=yE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function uT(){for(var n;n=sT();){try{n.h.call(n.g)}catch(t){lT(t)}var e=yE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uv=!1}function qm(n,e){Pr.call(this),this.h=n||1,this.g=e||Bt,this.j=Di(this.lb,this),this.l=Date.now()}function Bv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function jv(n,e,t){if("function"==typeof n)t&&(n=Di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Di(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function bE(n){n.g=jv(()=>{n.g=null,n.i&&(n.i=!1,bE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}nr(qm,Pr),(lt=qm.prototype).ca=!1,lt.R=null,lt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zr(this,"tick"),this.ca&&(Bv(this),this.start()))}},lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){qm.X.M.call(this),Bv(this),delete this.g};class dT extends qo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bE(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _p(n){qo.call(this),this.h=n,this.g={}}nr(_p,qo);var Hv=[];function $v(n,e,t,r){Array.isArray(t)||(t&&(Hv[0]=t.toString()),t=Hv);for(var i=0;i<t.length;i++){var a=gp(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Gv(n){Ov(n.g,function(e,t){this.g.hasOwnProperty(t)&&bh(e)},n),n.g={}}function yp(){this.g=!0}function Mu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return Lv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}_p.prototype.M=function(){_p.X.M.call(this),Gv(this)},_p.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yp.prototype.Aa=function(){this.g=!1},yp.prototype.info=function(){};var Ql={},zv=null;function Yo(){return zv=zv||new Pr}function SE(n){Ci.call(this,Ql.Pa,n)}function vp(n){const e=Yo();Zr(e,new SE(e))}function xu(n,e){Ci.call(this,Ql.STAT_EVENT,n),this.stat=e}function Ji(n){const e=Yo();Zr(e,new xu(e,n))}function Wm(n,e){Ci.call(this,Ql.Qa,n),this.size=e}function Zm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}Ql.Pa="serverreachability",nr(SE,Ci),Ql.STAT_EVENT="statevent",nr(xu,Ci),Ql.Qa="timingevent",nr(Wm,Ci);var wp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function TE(){}function AE(){}TE.prototype.h=null;var Zv,bp={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wv(){Ci.call(this,"d")}function Xl(){Ci.call(this,"c")}function Ru(){}function Jl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new _p(this),this.O=IR,this.T=new qm(n=Yl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}nr(Wv,Ci),nr(Xl,Ci),nr(Ru,TE),Ru.prototype.g=function(){return new XMLHttpRequest},Ru.prototype.i=function(){return{}},Zv=new Ru;var IR=45e3,Km={},Ep={};function Kv(n,e,t){n.K=1,n.v=Cp(_s(e)),n.s=t,n.P=!0,Yv(n,null)}function Yv(n,e){n.F=Date.now(),Dp(n),n.A=_s(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),rw(t.i,"t",r),n.C=0,t=n.l.H,n.h=new rr,n.g=gw(n.l,t?e:null,!n.s),0<n.N&&(n.L=new dT(Di(n.La,n,n.g),n.N)),$v(n.S,n.g,"readystatechange",n.ib),e=n.H?pE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),vp(),function EE(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),_=0;_<p.length;_++){var b=p[_].split("=");if(1<b.length){var I=b[0];b=b[1];var x=I.split("_");c=2<=x.length&&"type"==x[1]?c+(I+"=")+b+"&":c+(I+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Qv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Xv(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ME(n,t),i==Ep){4==e&&(n.o=4,Ji(14),r=!1),Mu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Km){n.o=4,Ji(15),Mu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Mu(n.j,n.m,i,null),Jv(n,i)}Qv(n)&&i!=Ep&&i!=Km&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ji(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),s_(e),e.K=!0,Ji(11))):(Mu(n.j,n.m,t,"[Invalid Chunked Response]"),ku(n),$a(n))}function ME(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ep:(t=Number(e.substring(t,r)),isNaN(t)?Km:(r+=1)+t>e.length?Ep:(e=e.substr(r,t),n.C=r+t,e))}function Dp(n){n.V=Date.now()+n.O,xE(n,n.O)}function xE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Zm(Di(n.gb,n),e)}function Ym(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function $a(n){0==n.l.G||n.I||zE(n.l,n)}function ku(n){Ym(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Bv(n.T),Gv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Jv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||sw(t.h,n)))if(!n.J&&sw(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;a_(t),kp(t)}Np(t),Ji(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Zm(Di(t.cb,t),6e3));if(1>=NE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Fu(t,11)}else if((n.J||t.g==n)&&a_(t),!hp(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const I=b[3];null!=I&&(t.ma=I,t.j.info("VER="+t.ma));const x=b[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const L=b[5];null!=L&&"number"==typeof L&&0<L&&(t.J=r=1.5*L,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const X=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var a=r.h;a.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ow(a,a.h),a.h=null))}if(r.D){const oe=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;oe&&(r.za=oe,Yn(r.F,r.D,oe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=Lu(r,r.H?r.ka:null,r.V),c.J){PE(r.h,c);var p=c,_=r.J;_&&p.setTimeout(_),p.B&&(Ym(p),Dp(p)),r.g=c}else i_(r);0<t.i.length&&r_(t)}else"stop"!=b[0]&&"close"!=b[0]||Fu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Fu(t,7):n_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}vp()}catch{}}function ew(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(dp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qm(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(dp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(dp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(lt=Jl.prototype).setTimeout=function(n){this.O=n},lt.ib=function(n){n=n.target;const e=this.L;e&&3==za(n)?e.l():this.La(n)},lt.La=function(n){try{if(n==this.g)e:{const I=za(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>I)&&(3!=I||Yl||this.g&&(this.h.h||this.g.fa()||VE(this.g)))){this.I||4!=I||7==e||vp(),Ym(this);var t=this.g.aa();this.Y=t;t:if(Qv(this)){var r=VE(this.g);n="";var i=r.length,a=4==za(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ku(this),$a(this);var c="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function DE(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,I,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hp(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ji(12),ku(this),$a(this);break e}Mu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Jv(this,t)}this.P?(Xv(this,I,c),Yl&&this.i&&3==I&&($v(this.S,this.T,"tick",this.hb),this.T.start())):(Mu(this.j,this.m,c,null),Jv(this,c)),4==I&&ku(this),this.i&&!this.I&&(4==I?zE(this.l,this):(this.i=!1,Dp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ji(12)):(this.o=0,Ji(13)),ku(this),$a(this)}}}catch{}},lt.hb=function(){if(this.g){var n=za(this.g),e=this.g.fa();this.C<e.length&&(Ym(this),Xv(this,n,e),this.i&&4!=n&&Dp(this))}},lt.cancel=function(){this.I=!0,ku(this)},lt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function CE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vp(),Ji(17)),ku(this),this.o=2,$a(this)):xE(this,this.V-n)};var tw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ou(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ou){this.h=void 0!==e?e:n.h,ec(this,n.j),this.s=n.s,this.g=n.g,Xm(this,n.m),this.l=n.l,e=n.i;var t=new Jm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),kE(this,t),this.o=n.o}else n&&(t=String(n).match(tw))?(this.h=!!e,ec(this,t[1]||"",!0),this.s=Eh(t[2]||""),this.g=Eh(t[3]||"",!0),Xm(this,t[4]),this.l=Eh(t[5]||"",!0),kE(this,t[6]||"",!0),this.o=Eh(t[7]||"")):(this.h=!!e,this.i=new Jm(null,this.h))}function _s(n){return new Ou(n)}function ec(n,e,t){n.j=t?Eh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function kE(n,e,t){e instanceof Jm?(n.i=e,function yT(n,e){e&&!n.j&&(Nu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(mT(this,r),rw(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Dh(e,SR)),n.i=new Jm(e,n.h))}function Yn(n,e,t){n.i.set(e,t)}function Cp(n){return Yn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Eh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ou.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dh(e,nw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dh(e,nw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dh(t,"/"==t.charAt(0)?gT:pT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dh(t,TR)),n.join("")};var nw=/[#\/\?@]/g,pT=/[#\?:]/g,gT=/[#\?]/g,SR=/[#\?@]/g,TR=/#/g;function Jm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nu(n){n.g||(n.g=new Map,n.h=0,n.i&&function RE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mT(n,e){Nu(n),e=Ga(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function _T(n,e){return Nu(n),e=Ga(n,e),n.g.has(e)}function rw(n,e,t){mT(n,e),0<t.length&&(n.i=null,n.g.set(Ga(n,e),aE(t)),n.h+=t.length)}function Ga(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iw(n){this.l=n||Ip,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ga&&Bt.g.Ga()&&Bt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Jm.prototype).add=function(n,e){Nu(this),this.i=null,n=Ga(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){Nu(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},lt.oa=function(){Nu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},lt.W=function(n){Nu(this);let e=[];if("string"==typeof n)_T(this,n)&&(e=e.concat(this.g.get(Ga(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return Nu(this),this.i=null,_T(this,n=Ga(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var Ip=10;function OE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function NE(n){return n.h?1:n.g?n.g.size:0}function sw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ow(n,e){n.g?n.g.add(e):n.h=e}function PE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function aw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return aE(n.i)}function lw(){}function wT(){this.g=new lw}function Sp(n,e,t){const r=t||"";try{ew(n,function(i,a){let c=i;_h(i)&&(c=Lv(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Tp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ap(n){this.l=n.ac||null,this.j=n.jb||!1}function Mp(n,e){Pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=cw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iw.prototype.cancel=function(){if(this.i=aw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},lw.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},lw.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},nr(Ap,TE),Ap.prototype.g=function(){return new Mp(this.l,this.j)},Ap.prototype.i=function(n){return function(){return n}}({}),nr(Mp,Pr);var cw=0;function uw(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function xp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pu(n)}function Pu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=Mp.prototype).open=function(n,e){if(this.readyState!=cw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pu(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Bt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xp(this)),this.readyState=cw},lt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pu(this)),this.g&&(this.readyState=3,Pu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uw(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},lt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xp(this):Pu(this),3==this.readyState&&uw(this)}},lt.Va=function(n){this.g&&(this.response=this.responseText=n,xp(this))},lt.Ua=function(n){this.g&&(this.response=n,xp(this))},lt.ga=function(){this.g&&xp(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ET=Bt.JSON.parse;function ir(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dw,this.K=this.L=!1}nr(ir,Pr);var dw="",DT=/^https?$/i,CT=["POST","PUT"];function e_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,FE(n),t_(n)}function FE(n){n.D||(n.D=!0,Zr(n,"complete"),Zr(n,"error"))}function hw(n){if(n.h&&typeof xm<"u"&&(!n.C[1]||4!=za(n)||2!=n.aa()))if(n.v&&4==za(n))jv(n.Ha,0,n);else if(Zr(n,"readystatechange"),4==za(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(tw)[1]||null;if(!i&&Bt.self&&Bt.self.location){var a=Bt.self.location.protocol;i=a.substr(0,a.length-1)}r=!DT.test(i?i.toLowerCase():"")}t=r}if(t)Zr(n,"complete"),Zr(n,"success");else{n.m=6;try{var c=2<za(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",FE(n)}}finally{t_(n)}}}function t_(n,e){if(n.g){LE(n);const t=n.g,r=n.C[0]?up:null;n.g=null,n.C=null,e||Zr(n,"ready");try{t.onreadystatechange=r}catch{}}}function LE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function za(n){return n.g?n.g.readyState:0}function VE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function UE(n){let e="";return Ov(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=UE(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Yn(n,e,t))}function Rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function BE(n){this.Ca=0,this.i=[],this.j=new yp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rp("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rp("baseRetryDelayMs",5e3,n),this.bb=Rp("retryDelaySeedMs",1e4,n),this.$a=Rp("forwardChannelMaxRetries",2,n),this.ta=Rp("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new iw(n&&n.concurrentRequestLimit),this.Fa=new wT,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function n_(n){if(jE(n),3==n.G){var e=n.U++,t=_s(n.F);Yn(t,"SID",n.I),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),Op(n,t),(e=new Jl(n,n.j,e,void 0)).K=2,e.v=Cp(_s(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(t=Bt.navigator.sendBeacon(e.v.toString(),"")),!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gw(e.l,null),e.g.da(e.v)),e.F=Date.now(),Dp(e)}pw(n)}function kp(n){n.g&&(s_(n),n.g.cancel(),n.g=null)}function jE(n){kp(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),a_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function r_(n){OE(n.h)||n.m||(n.m=!0,vE(n.Ja,n),n.C=0)}function $E(n,e){var t;t=e?e.m:n.U++;const r=_s(n.F);Yn(r,"SID",n.I),Yn(r,"RID",t),Yn(r,"AID",n.T),Op(n,r),n.o&&n.s&&fw(r,n.o,n.s),t=new Jl(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=GE(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ow(n.h,t),Kv(t,r,e)}function Op(n,e){n.ia&&Ov(n.ia,function(t,r){Yn(e,r,t)}),n.l&&ew({},function(t,r){Yn(e,r,t)})}function GE(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Di(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let b=i[_].h;const I=i[_].g;if(b-=a,0>b)a=Math.max(0,i[_].h-100),p=!1;else try{Sp(I,c,"req"+b+"_")}catch{r&&r(I)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function i_(n){n.g||n.u||(n.Z=1,vE(n.Ia,n),n.A=0)}function Np(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Zm(Di(n.Ia,n),l_(n,n.A)),n.A++,0))}function s_(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function o_(n){n.g=new Jl(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=_s(n.sa);Yn(e,"RID","rpc"),Yn(e,"SID",n.I),Yn(e,"CI",n.L?"0":"1"),Yn(e,"AID",n.T),Yn(e,"TYPE","xmlhttp"),Op(n,e),n.o&&n.s&&fw(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Cp(_s(e)),t.s=null,t.P=!0,Yv(t,n)}function a_(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function zE(n,e){var t=null;if(n.g==e){a_(n),s_(n),n.g=null;var r=2}else{if(!sw(n.h,e))return;t=e.D,PE(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Zr(r=Yo(),new Wm(r,t)),r_(n)}else i_(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function HE(n,e){return!(NE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Zm(Di(n.Ja,n,e),l_(n,n.C)),n.C++,0)))}(n,e)||2==r&&Np(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Fu(n,5);break;case 4:Fu(n,10);break;case 3:Fu(n,6);break;default:Fu(n,2)}}function l_(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Fu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Di(n.kb,n);t||(t=new Ou("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||ec(t,"https"),Cp(t)),function bT(n,e){const t=new yp;if(Bt.Image){const r=new Image;r.onload=yh(Tp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yh(Tp,t,r,"TestLoadImage: error",!1,e),r.onabort=yh(Tp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yh(Tp,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ji(2);n.G=0,n.l&&n.l.va(e),pw(n),jE(n)}function pw(n){if(n.G=0,n.la=[],n.l){const e=aw(n.h);(0!=e.length||0!=n.i.length)&&(eT(n.la,e),eT(n.la,n.i),n.h.i.length=0,aE(n.i),n.i.length=0),n.l.ua()}}function Lu(n,e,t){var r=t instanceof Ou?_s(t):new Ou(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xm(r,r.m);else{var i=Bt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Ou(null,void 0);r&&ec(a,r),e&&(a.g=e),i&&Xm(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Yn(r,t,e),Yn(r,"VER",n.ma),Op(n,r),r}function gw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(t&&n.Da&&!n.ra?new Ap({jb:!0}):n.ra)).Ka(n.H),e}function qE(){}function mw(){if(Au&&!(10<=Number(Ko)))throw Error("Environmental error: no available transport.")}function es(n,e){Pr.call(this),this.g=new BE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!hp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tc(this)}function c_(n){Wv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function WE(){Xl.call(this),this.status=1}function tc(n){this.g=n}(lt=ir.prototype).Ka=function(n){this.L=n},lt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zv.g(),this.C=function St(n){return n.h||(n.h=n.i())}(this.u?this.u:Zv),this.g.onreadystatechange=Di(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void e_(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Bt.FormData&&n instanceof Bt.FormData,!(0<=Om(CT,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LE(this),0<this.B&&((this.K=function IT(n){return Au&&function Zo(){return function cE(n){var e=Rv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=lE(String(Nm)).split("."),t=lE("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=fr(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||fr(0==i[2].length,0==a[2].length)||fr(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.qa,this)):this.A=jv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){e_(this,a)}},lt.qa=function(){typeof xm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zr(this,"complete"),Zr(this,"abort"),t_(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t_(this,!0)),ir.X.M.call(this)},lt.Ha=function(){this.s||(this.F||this.v||this.l?hw(this):this.fb())},lt.fb=function(){hw(this)},lt.aa=function(){try{return 2<za(this)?this.g.status:-1}catch{return-1}},lt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ET(e)}},lt.Ea=function(){return this.m},lt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=BE.prototype).ma=8,lt.G=1,lt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Jl(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=pE(a),wh(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=GE(this,i,e),Yn(t=_s(this.F),"RID",n),Yn(t,"CVER",22),this.D&&Yn(t,"X-HTTP-Session-Id",this.D),Op(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(UE(a)))+"&"+e:this.o&&fw(t,this.o,a)),ow(this.h,i),this.Ya&&Yn(t,"TYPE","init"),this.O?(Yn(t,"$req",e),Yn(t,"SID","null"),i.Z=!0,Kv(i,t,null)):Kv(i,t,e),this.G=2}}else 3==this.G&&(n?$E(this,n):0==this.i.length||OE(this.h)||$E(this))},lt.Ia=function(){if(this.u=null,o_(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Zm(Di(this.eb,this),n)}},lt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ji(10),kp(this),o_(this))},lt.cb=function(){null!=this.v&&(this.v=null,kp(this),Np(this),Ji(19))},lt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ji(2)):(this.j.info("Failed to ping google.com"),Ji(1))},(lt=qE.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Ra=function(){},mw.prototype.g=function(n,e){return new es(n,e)},nr(es,Pr),es.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ji(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Lu(n,null,n.V),r_(n)},es.prototype.close=function(){n_(this.g)},es.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Lv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&r_(e)},es.prototype.M=function(){this.g.l=null,delete this.j,n_(this.g),delete this.g,es.X.M.call(this)},nr(c_,Wv),nr(WE,Xl),nr(tc,qE),tc.prototype.xa=function(){Zr(this.g,"a")},tc.prototype.wa=function(n){Zr(this.g,new c_(n))},tc.prototype.va=function(n){Zr(this.g,new WE)},tc.prototype.ua=function(){Zr(this.g,"b")},mw.prototype.createWebChannel=mw.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,wp.NO_ERROR=0,wp.TIMEOUT=8,wp.HTTP_ERROR=6,qv.COMPLETE="complete",AE.EventType=bp,bp.OPEN="a",bp.CLOSE="b",bp.ERROR="c",bp.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,ir.prototype.listenOnce=ir.prototype.O,ir.prototype.getLastError=ir.prototype.Oa,ir.prototype.getLastErrorCode=ir.prototype.Ea,ir.prototype.getStatus=ir.prototype.aa,ir.prototype.getResponseJson=ir.prototype.Sa,ir.prototype.getResponseText=ir.prototype.fa,ir.prototype.send=ir.prototype.da,ir.prototype.setWithCredentials=ir.prototype.Ka;var ST=so.createWebChannelTransport=function(){return new mw},ZE=so.getStatEventTarget=function(){return Yo()},Pp=so.ErrorCode=wp,KE=so.EventType=qv,YE=so.Event=Ql,_w=so.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},QE=so.FetchXmlHttpFactory=Ap,u_=so.WebChannel=AE,TT=so.XhrIo=ir;const XE="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Vu="9.15.0";const Uu=new Js.Yd("@firebase/firestore");function d_(){return Uu.logLevel}function Ne(n,...e){if(Uu.logLevel<=Js.in.DEBUG){const t=e.map(yw);Uu.debug(`Firestore (${Vu}): ${n}`,...t)}}function Cr(n,...e){if(Uu.logLevel<=Js.in.ERROR){const t=e.map(yw);Uu.error(`Firestore (${Vu}): ${n}`,...t)}}function Bu(n,...e){if(Uu.logLevel<=Js.in.WARN){const t=e.map(yw);Uu.warn(`Firestore (${Vu}): ${n}`,...t)}}function yw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const e=`FIRESTORE (${Vu}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function ct(n,e){n||Je()}function qe(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class JE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class RT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Fp{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fr,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,pe.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},_=b=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new JE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new Kr(e)}}class eD{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ct(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tD{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new eD(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nD{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),this.A=t.token,new vw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function OT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class rD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function zt(n,e){return n<e?-1:n>e?1:0}function Ch(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function iD(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Qn(0,0))}static max(){return new bt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Je(),void 0===r?r=e.length-t:r>e.length-t&&Je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Lp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends Lp{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const NT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Lp{construct(e,t,r){return new Xn(e,t,r)}static isValidIdentifier(e){return NT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(a(),i++)}if(a(),c)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Qt.fromString(e))}static fromName(e){return new $e(Qt.fromString(e).popFirst(5))}static empty(){return new $e(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Qt(e.slice()))}}class h_{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vp(n){return n.fields.find(e=>2===e.kind)}function ao(n){return n.fields.filter(e=>2!==e.kind)}h_.UNKNOWN_ID=-1;class f_{constructor(e,t){this.fieldPath=e,this.kind=t}}class nc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new nc(0,ys.min())}}function Up(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Qn(t+1,0):new Qn(t,r));return new ys(i,$e.empty(),e)}function sD(n){return new ys(n.readTime,n.key,-1)}class ys{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ys(bt.min(),$e.empty(),-1)}static max(){return new ys(bt.max(),$e.empty(),-1)}}function p_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const ww="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qa(n){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,pe.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==ww)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),Bp.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,a=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const a=e.length,c=new Array(a);let p=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(I=>{c[b]=I,++p,p===a&&r(c)},I=>i(I))}})}static doWhile(e,t){return new ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class jp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Fr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Hp(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=$p(r.target.error);this.P.reject(new Hp(e,i))}}static open(e,t,r,i){try{return new jp(t,e.transaction(i,r))}catch(a){throw new Hp(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LT(t)}}class vs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===vs.D((0,rn.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),ju(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,rn.hl)())return!1;if(vs.N())return!0;const e=(0,rn.z$)(),t=vs.D(e),r=0<t&&t<10,i=vs.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Hp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Hp(e,p))},a.onupgradeneeded=c=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,pe.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.F(e);const _=jp.open(a.db,e,c?"readonly":"readwrite",r),b=i(_).next(I=>(_.V(),I)).catch(I=>(_.abort(I),ue.reject(I))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,I="FirebaseError"!==b.name&&p<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",I),a.close(),!I)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bw{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return ju(this.q.delete())}}class Hp extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rc(n){return"IndexedDbTransactionError"===n.name}class LT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ju(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),ju(this.store.add(e))}get(e){return ju(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),ju(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),ju(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(c,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ue((a,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ue((r,i)=>{t.onerror=a=>{const c=$p(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new ue((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new bw(p),b=t(p.primaryKey,p.value,_);if(b instanceof ue){const I=b.catch(x=>(_.done(),ue.reject(x)));r.push(I)}_.isDone?i():null===_.G?p.continue():p.continue(_.G)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ju(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=$p(r.target.error);t(i)}})}let Ew=!1;function $p(n){const e=vs.D((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ew||(Ew=!0,setTimeout(()=>{throw r},0)),r}}return n}class oD{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){rc(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield qa(r)}yield t.nt(6e4)}))}}class aD{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ne("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,a)).next(p=>(Ne("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=sD(a);p_(c,r)>0&&(r=c)}),new ys(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ts=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class lD{constructor(e,t,r,i,a,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class ic{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ic("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}function Dw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ih(n){return null==n}function Gp(n){return 0===n&&1/n==-1/0}function Ii(n){return"number"==typeof n&&Number.isInteger(n)&&!Gp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Lr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const VT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(ct(!!n),"string"==typeof n){let e=0;const t=VT.exec(n);if(ct(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function oc(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function m_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Th(n){const e=n.mapValue.fields.__previous_value__;return m_(e)?Th(e):e}function zp(n){const e=Hu(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}const Qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},__={nullValue:"NULL_VALUE"};function ac(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m_(n)?4:dD(n)?9007199254740991:10:Je()}function Xo(n,e){if(n===e)return!0;const t=ac(n);if(t!==ac(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zp(n).isEqual(zp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Hu(r.timestampValue),c=Hu(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,oc(n.bytesValue).isEqual(oc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pr(r.geoPointValue.latitude)===pr(i.geoPointValue.latitude)&&pr(r.geoPointValue.longitude)===pr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pr(r.integerValue)===pr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=pr(r.doubleValue),c=pr(i.doubleValue);return a===c?Gp(a)===Gp(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Ch(n.arrayValue.values||[],e.arrayValue.values||[],Xo);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Dw(a)!==Dw(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===c[p]||!Xo(a[p],c[p])))return!1;return!0}(n,e);default:return Je()}var i}function qp(n,e){return void 0!==(n.values||[]).find(t=>Xo(t,e))}function lc(n,e){if(n===e)return 0;const t=ac(n),r=ac(e);if(t!==r)return zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=pr(i.integerValue||i.doubleValue),p=pr(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return y_(n.timestampValue,e.timestampValue);case 4:return y_(zp(n),zp(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=oc(i),p=oc(a);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),p=a.split("/");for(let _=0;_<c.length&&_<p.length;_++){const b=zt(c[_],p[_]);if(0!==b)return b}return zt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=zt(pr(i.latitude),pr(a.latitude));return 0!==c?c:zt(pr(i.longitude),pr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],p=a.values||[];for(let _=0;_<c.length&&_<p.length;++_){const b=lc(c[_],p[_]);if(b)return b}return zt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Qo.mapValue&&a===Qo.mapValue)return 0;if(i===Qo.mapValue)return 1;if(a===Qo.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=a.fields||{},b=Object.keys(_);p.sort(),b.sort();for(let I=0;I<p.length&&I<b.length;++I){const x=zt(p[I],b[I]);if(0!==x)return x;const L=lc(c[p[I]],_[b[I]]);if(0!==L)return L}return zt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw Je()}}function y_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Hu(n),r=Hu(e),i=zt(t.seconds,r.seconds);return 0!==i?i:zt(t.nanos,r.nanos)}function $u(n){return v_(n)}function v_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?oc(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=v_(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of i)c?c=!1:a+=",",a+=`${p}:${v_(r.fields[p])}`;return a+"}"}(n.mapValue):Je();var e}function Jo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wp(n){return!!n&&"integerValue"in n}function w_(n){return!!n&&"arrayValue"in n}function Cw(n){return!!n&&"nullValue"in n}function uD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function ea(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ea(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ea(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hD(n){return"nullValue"in n?__:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Jo(ic.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Je()}function Iw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Jo(ic.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Qo:Je()}function UT(n,e){const t=lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fD(n,e){const t=lc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Gu{constructor(e,t){this.position=e,this.inclusive=t}}function pD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),t.key):lc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function gD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xo(n.position[t],e.position[t]))return!1;return!0}class mD{}class tn extends mD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wD(e,t,r):"array-contains"===t?new BT(e,r):"in"===t?new jT(e,r):"not-in"===t?new CD(e,r):"array-contains-any"===t?new AR(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new bD(e,r):new ED(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lc(t,this.value)):null!==t&&ac(this.value)===ac(t)&&this.matchesComparison(lc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends mD{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new _n(e,t)}matches(e){return Ah(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ah(n){return"and"===n.op}function b_(n){return"or"===n.op}function Sw(n){return _D(n)&&Ah(n)}function _D(n){for(const e of n.filters)if(e instanceof _n)return!1;return!0}function yD(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+$u(n.value);{const e=n.filters.map(t=>yD(t)).join(",");return`${n.op}(${e})`}}function Tw(n,e){return n instanceof tn?(t=n,(r=e)instanceof tn&&t.op===r.op&&t.field.isEqual(r.field)&&Xo(t.value,r.value)):n instanceof _n?function(t,r){return r instanceof _n&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&Tw(a,r.filters[c]),!0)}(n,e):void Je();var t,r}function vD(n,e){const t=n.filters.concat(e);return _n.create(t,n.op)}function Aw(n){return n instanceof tn?`${(e=n).field.canonicalString()} ${e.op} ${$u(e.value)}`:n instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(Aw).join(" ,")+"}"}(n):"Filter";var e}class wD extends tn{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class bD extends tn{constructor(e,t){super(e,"in",t),this.keys=DD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ED extends tn{constructor(e,t){super(e,"not-in",t),this.keys=DD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class BT extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w_(t)&&qp(t.arrayValue,this.value)}}class jT extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qp(this.value.arrayValue,t)}}class CD extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qp(this.value.arrayValue,t)}}class AR extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qp(this.value.arrayValue,r))}}class Kp{constructor(e,t="asc"){this.field=e,this.dir=t}}function MR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class gr{constructor(e,t){this.comparator=e,this.root=t||Si.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mw(this.root,e,this.comparator,!0)}}class Mw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Si{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Si.RED,this.left=i??Si.EMPTY,this.right=a??Si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Si(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1,Si.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HT(this.data.getIterator())}getIteratorFrom(e){return new HT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class HT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wa(n){return n.hasNext()?n.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new Mn(Xn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ch(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(t)}setAll(e){let t=Xn.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=ea(c):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Yr(ea(this.value))}}function Yp(n){const e=[];return sc(n.fields,(t,r)=>{const i=new Xn([t]);if(Zp(r)){const a=Yp(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Fs(e)}class Fn{constructor(e,t,r,i,a,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Fn(e,0,bt.min(),bt.min(),bt.min(),Yr.empty(),0)}static newFoundDocument(e,t,r,i){return new Fn(e,1,t,bt.min(),r,i,0)}static newNoDocument(e,t){return new Fn(e,2,t,bt.min(),bt.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,bt.min(),bt.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ID{constructor(e,t=null,r=[],i=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=p,this.ft=null}}function SD(n,e=null,t=[],r=[],i=null,a=null,c=null){return new ID(n,e,t,r,i,a,c)}function Za(n){const e=qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$u(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$u(r)).join(",")),e.ft=t}return e.ft}function Mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gD(n.startAt,e.startAt)&&gD(n.endAt,e.endAt)}function E_(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Qp(n,e){return n.filters.filter(t=>t instanceof tn&&t.field.isEqual(e))}function $T(n,e,t){let r=__,i=!0;for(const a of Qp(n,e)){let c=__,p=!0;switch(a.op){case"<":case"<=":c=hD(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,p=!1;break;case"!=":case"not-in":c=__}UT({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];UT({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function TD(n,e,t){let r=Qo,i=!0;for(const a of Qp(n,e)){let c=Qo,p=!0;switch(a.op){case">=":case">":c=Iw(a.value),p=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,p=!1;break;case"!=":case"not-in":c=Qo}fD({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];fD({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Ka{constructor(e,t=null,r=[],i=[],a=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=_,this.dt=null,this._t=null}}function AD(n,e,t,r,i,a,c,p){return new Ka(n,e,t,r,i,a,c,p)}function Ya(n){return new Ka(n)}function MD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function xD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function RD(n){return null!==n.collectionGroup}function zu(n){const e=qe(n);if(null===e.dt){e.dt=[];const t=xw(e),r=xD(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Kp(t)),e.dt.push(new Kp(Xn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Kp(Xn.keyField(),a))}}}return e.dt}function Vi(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=SD(e.path,e.collectionGroup,zu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of zu(e))t.push(new Kp(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Gu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gu(e.startAt.position,e.startAt.inclusive):null;e._t=SD(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Rw(n,e){e.getFirstInequalityField(),xw(n);const t=n.filters.concat([e]);return new Ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function kw(n,e,t){return new Ka(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xp(n,e){return Mh(Vi(n),Vi(e))&&n.limitType===e.limitType}function Ow(n){return`${Za(Vi(n))}|lt:${n.limitType}`}function D_(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Aw(r)).join(", ")}]`),Ih(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$u(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$u(r)).join(",")),`Target(${t})`}(Vi(n))}; limitType=${n.limitType})`}function kD(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of zu(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const p=pD(i,a,c);return i.inclusive?p<=0:p<0}(t.startAt,zu(t),r)||t.endAt&&!function(i,a,c){const p=pD(i,a,c);return i.inclusive?p>=0:p>0}(t.endAt,zu(t),r)));var t,r}function Ls(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OD(n){return(e,t)=>{let r=!1;for(const i of zu(n)){const a=Nw(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Nw(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,a,c){const p=a.data.field(i),_=c.data.field(i);return null!==p&&null!==_?lc(p,_):Je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}function ND(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gp(e)?"-0":e}}function GT(n){return{integerValue:""+n}}function ws(n,e){return Ii(e)?GT(e):ND(n,e)}class C_{constructor(){this._=void 0}}function Pw(n,e,t){return n instanceof cc?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof uc?Fw(n,e):n instanceof qu?Lw(n,e):function(r,i){const a=PD(r,i),c=FD(a)+FD(r.gt);return Wp(a)&&Wp(r.gt)?GT(c):ND(r.yt,c)}(n,e)}function zT(n,e,t){return n instanceof uc?Fw(n,e):n instanceof qu?Lw(n,e):t}function PD(n,e){return n instanceof Wu?Wp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class cc extends C_{}class uc extends C_{constructor(e){super(),this.elements=e}}function Fw(n,e){const t=Vw(e);for(const r of n.elements)t.some(i=>Xo(i,r))||t.push(r);return{arrayValue:{values:t}}}class qu extends C_{constructor(e){super(),this.elements=e}}function Lw(n,e){let t=Vw(e);for(const r of n.elements)t=t.filter(i=>!Xo(i,r));return{arrayValue:{values:t}}}class Wu extends C_{constructor(e,t){super(),this.yt=e,this.gt=t}}function FD(n){return pr(n.integerValue||n.doubleValue)}function Vw(n){return w_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jp{constructor(e,t){this.field=e,this.transform=t}}class dc{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vs{}function LD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Zu(n.key,$n.none()):new Rh(n.key,n.data,$n.none());{const t=n.data,r=Yr.empty();let i=new Mn(Xn.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new ta(n.key,r,new Fs(i.toArray()),$n.none())}}function xR(n,e,t){n instanceof Rh?function(r,i,a){const c=r.value.clone(),p=Bw(r.fieldTransforms,i,a.transformResults);c.setAll(p),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(r,i,a){if(!xh(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Bw(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(WT(r)),p.setAll(c),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function eg(n,e,t,r){return n instanceof Rh?function(i,a,c,p){if(!xh(i.precondition,a))return c;const _=i.value.clone(),b=UD(i.fieldTransforms,p,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ta?function(i,a,c,p){if(!xh(i.precondition,a))return c;const _=UD(i.fieldTransforms,p,a),b=a.data;return b.setAll(WT(i)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(c=t,xh(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function qT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=PD(r.transform,i||null);null!=a&&(null===t&&(t=Yr.empty()),t.set(r.field,a))}return t||null}function VD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ch(t,r,(i,a)=>function Uw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof uc&&r instanceof uc||t instanceof qu&&r instanceof qu?Ch(t.elements,r.elements,Xo):t instanceof Wu&&r instanceof Wu?Xo(t.gt,r.gt):t instanceof cc&&r instanceof cc);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Rh extends Vs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ta extends Vs{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Bw(n,e,t){const r=new Map;ct(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,p=e.data.field(a.field);r.set(a.field,zT(c,p,t[i]))}return r}function UD(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,Pw(a,c,e))}return r}class Zu extends Vs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BD extends Vs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jw{constructor(e){this.count=e}}var mr,on;function Hw(n){switch(n){default:return Je();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function $w(n){if(void 0===n)return Cr("GRPC error has no .code"),de.UNKNOWN;switch(n){case mr.OK:return de.OK;case mr.CANCELLED:return de.CANCELLED;case mr.UNKNOWN:return de.UNKNOWN;case mr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case mr.INTERNAL:return de.INTERNAL;case mr.UNAVAILABLE:return de.UNAVAILABLE;case mr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case mr.NOT_FOUND:return de.NOT_FOUND;case mr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case mr.ABORTED:return de.ABORTED;case mr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case mr.DATA_LOSS:return de.DATA_LOSS;default:return Je()}}(on=mr||(mr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class Qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return cD(this.inner)}size(){return this.innerSize}}const I_=new gr($e.comparator);function oi(){return I_}const Gw=new gr($e.comparator);function tg(...n){let e=Gw;for(const t of n)e=e.insert(t.key,t);return e}function jD(n){let e=Gw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xa(){return S_()}function ZT(){return S_()}function S_(){return new Qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const HD=new gr($e.comparator),KT=new Mn($e.comparator);function Wt(...n){let e=KT;for(const t of n)e=e.add(t);return e}const YT=new Mn(zt);function zw(){return YT}class T_{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,A_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new T_(bt.min(),i,zw(),oi(),Wt())}}class A_{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new A_(r,t,Wt(),Wt(),Wt())}}class qw{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class QT{constructor(e,t){this.targetId=e,this.Et=t}}class $D{constructor(e,t,r=Lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ng{constructor(){this.At=0,this.Rt=Ww(),this.bt=Lr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Wt(),t=Wt(),r=Wt();return this.Rt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new A_(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=Ww()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class XT{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=oi(),this.qt=GD(),this.Ut=new Mn(zt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const a=i.target;if(E_(a))if(0===r){const c=new $e(a.path);this.Qt(t,c,Fn.newNoDocument(c,bt.min()))}else ct(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const p=this.Yt(c);if(p){if(a.current&&E_(p.target)){const _=new $e(p.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,Fn.newNoDocument(_,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let r=Wt();this.qt.forEach((a,c)=>{let p=!0;c.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const i=new T_(e,t,this.Ut,this.Lt,r);return this.Lt=oi(),this.qt=GD(),this.Ut=new Mn(zt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ng,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Mn(zt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ng),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function GD(){return new gr($e.comparator)}function Ww(){return new gr($e.comparator)}const Ku={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zw={and:"AND",or:"OR"};class Kw{constructor(e,t){this.databaseId=e,this.wt=t}}function kh(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M_(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Yw(n,e){return kh(n,e.toTimestamp())}function Jn(n){return ct(!!n),bt.fromTimestamp(function(e){const t=Hu(e);return new Qn(t.seconds,t.nanos)}(n))}function qD(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JT(n){const e=Qt.fromString(n);return ct(tA(e)),e}function x_(n,e){return qD(n.databaseId,e.path)}function Ja(n,e){const t=JT(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(ZD(t))}function R_(n,e){return qD(n.databaseId,e)}function WD(n){const e=JT(n);return 4===e.length?Qt.emptyPath():ZD(e)}function rg(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZD(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function KD(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function Qw(n,e,t){const r=Ja(n,e.name),i=Jn(e.updateTime),a=e.createTime?Jn(e.createTime):bt.min(),c=new Yr({mapValue:{fields:e.fields}}),p=Fn.newFoundDocument(r,i,a,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function ig(n,e){let t;if(e instanceof Rh)t={update:KD(n,e.key,e.value)};else if(e instanceof Zu)t={delete:x_(n,e.key)};else if(e instanceof ta)t={update:KD(n,e.key,e.data),updateMask:OR(e.fieldMask)};else{if(!(e instanceof BD))return Je();t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof cc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wu)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw Je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Yw(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Je()),t;var i}function Xw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?$n.updateTime(Jn(i.updateTime)):void 0!==i.exists?$n.exists(i.exists):$n.none():$n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let p=null;"setToServerValue"in c?(ct("REQUEST_TIME"===c.setToServerValue),p=new cc):"appendMissingElements"in c?p=new uc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new qu(c.removeAllFromArray.values||[]):"increment"in c?p=new Wu(a,c.increment):Je();const _=Xn.fromServerFormat(c.fieldPath);return new Jp(_,p)}(n,i)):[];var i;if(e.update){const i=Ja(n,e.update.name),a=new Yr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Fs((e.updateMask.fieldPaths||[]).map(b=>Xn.fromServerFormat(b)));return new ta(i,a,c,t,r)}return new Rh(i,a,t,r)}if(e.delete){const i=Ja(n,e.delete);return new Zu(i,t)}if(e.verify){const i=Ja(n,e.verify);return new BD(i,t)}return Je()}function k_(n,e){return{documents:[R_(n,e.path)]}}function JD(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=R_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=R_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return tC(_n.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Oh((I=b).field),direction:eA(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.wt||Ih(b)?b:{value:b});var b,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Jw(n){let e=WD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ct(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=function(I){const x=eC(I);return x instanceof _n&&Sw(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(I=>{return new Kp(Nh((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(I){let x;return x="object"==typeof I?I.value:I,Ih(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new Gu((I=t.startAt).values||[],!!I.before));let b=null;return t.endAt&&(b=function(I){return new Gu(I.values||[],!I.before)}(t.endAt)),AD(e,i,c,a,p,"F",_,b)}function eC(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nh(e.unaryFilter.field);return tn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Nh(e.unaryFilter.field);return tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Nh(e.unaryFilter.field);return tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nh(e.unaryFilter.field);return tn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?tn.create(Nh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return _n.create(e.compositeFilter.filters.map(t=>eC(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function eA(n){return Ku[n]}function RR(n){return zD[n]}function kR(n){return Zw[n]}function Oh(n){return{fieldPath:n.canonicalString()}}function Nh(n){return Xn.fromServerFormat(n.fieldPath)}function tC(n){return n instanceof tn?function(e){if("=="===e.op){if(uD(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uD(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Oh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(e.field),op:RR(e.op),value:e.value}}}(n):n instanceof _n?function(e){const t=e.getFilters().map(r=>tC(r));return 1===t.length?t[0]:{compositeFilter:{op:kR(e.op),filters:t}}}(n):Je()}function OR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nA(e)),e=NR(n.get(t),e);return nA(e)}function NR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function nA(n){return n+"\x01\x01"}function na(n){const e=n.length;if(ct(e>=2),2===e)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&Je(),n.charAt(c+1)){case"\x01":const p=n.substring(a,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:Je()}a=c+2}return new Qt(r)}const rA=["userId","batchId"];function t0(n,e){return[n,ns(e)]}function iA(n,e,t){return[n,ns(e),t]}const PR={},FR=["prefixPath","collectionGroup","readTime","documentId"],LR=["prefixPath","collectionGroup","documentId"],s=["collectionGroup","readTime","prefixPath","documentId"],o=["canonicalId","targetId"],l=["targetId","path"],u=["path","targetId"],h=["collectionId","parent"],g=["indexId","uid"],v=["uid","sequenceNumber"],E=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],D=["indexId","uid","orderedDocumentKey"],T=["userId","collectionPath","documentId"],k=["userId","collectionPath","largestBatchId"],F=["userId","collectionGroup","largestBatchId"],z=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ne=[...z,"documentOverlays"],we=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Be=we,We=[...Be,"indexConfiguration","indexState","indexEntries"];class tt extends g_{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function et(n,e){const t=qe(n);return vs.M(t.se,e)}class Oe{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xR(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=eg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=eg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZT();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(i.key)?null:p;const _=LD(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&Ch(this.mutations,e.mutations,(t,r)=>VD(t,r))&&Ch(this.baseMutations,e.baseMutations,(t,r)=>VD(t,r))}}class Ft{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ct(e.mutations.length===r.length);let i=HD;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Ft(e,t,r,i)}}class Ln{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class In{constructor(e,t,r,i,a=bt.min(),c=bt.min(),p=Lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new In(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new In(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new In(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sA{constructor(e){this.ie=e}}function VR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:x_(i=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:kh(i,a.version.toTimestamp()),createTime:kh(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sg(e.version)};else{if(!e.isUnknownDocument())return Je();r.unknownDocument={path:t.path.toArray(),version:sg(e.version)}}var i,a;return r}function nC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function og(n){const e=new Qn(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function ag(n,e){const t=(e.baseMutations||[]).map(a=>Xw(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Xw(n.ie,a)),i=Qn.fromMillis(e.localWriteTimeMs);return new Oe(e.batchId,i,t,r)}function n0(n){const e=og(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?og(n.lastLimboFreeSnapshotVersion):bt.min();let r;var i;return void 0!==n.query.documents?(ct(1===(i=n.query).documents.length),r=Vi(Ya(WD(i.documents[0])))):r=Vi(Jw(n.query)),new In(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Lr.fromBase64String(n.resumeToken))}function UR(n,e){const t=sg(e.snapshotVersion),r=sg(e.lastLimboFreeSnapshotVersion);let i;i=E_(e.target)?k_(n.ie,e.target):JD(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Za(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function oA(n){const e=Jw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kw(e,e.limit,"L"):e}function aA(n,e){return new Ln(e.largestBatchId,Xw(n.ie,e.overlayMutation))}function BR(n,e){const t=e.path.lastSegment();return[n,ns(e.path.popLast()),t]}function jR(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sg(r.readTime),documentKey:ns(r.documentKey.path),largestBatchId:r.largestBatchId}}class P1{getBundleMetadata(e,t){return HR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:og(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return HR(e).put({bundleId:(r=t).id,createTime:sg(Jn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return $R(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:oA(i.bundledQuery),readTime:og(i.readTime)};var i})}saveNamedQuery(e,t){return $R(e).put({name:(r=t).name,readTime:sg(Jn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function HR(n){return et(n,"bundles")}function $R(n){return et(n,"namedQueries")}class rC{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new rC(e,t.uid||"")}getOverlay(e,t){return r0(e).get(BR(this.userId,t)).next(r=>r?aA(this.yt,r):null)}getOverlays(e,t){const r=Xa();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const p=new Ln(t,c);i.push(this.oe(e,p))}),ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ns(c.getCollectionPath())));const a=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(r0(e).Y("collectionPathOverlayIndex",p))}),ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Xa(),a=ns(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return r0(e).W("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const b=aA(this.yt,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Xa();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return r0(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,b,I)=>{const x=aA(this.yt,b);a.size()<i||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):I.done()}).next(()=>a)}oe(e,t){return r0(e).put(function(r,i,a){const[c,p,_]=BR(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ig(r.ie,a.mutation)}}(this.yt,this.userId,t))}}function r0(n){return et(n,"documentOverlays")}class lg{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(pr(e.integerValue));else if("doubleValue"in e){const r=pr(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),Gp(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(oc(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?dD(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Je()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),$e.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function F1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function GR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=F1(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}lg.Ie=new lg;class L1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=GR(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=GR(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class V1{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class U1{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class s0{constructor(){this.$e=new L1,this.Be=new V1(this.$e),this.Le=new U1(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class cg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new cg(this.indexId,this.documentKey,this.arrayValue,r)}}function Ph(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=zR(n.arrayValue,e.arrayValue),0!==t?t:(t=zR(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function zR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class B1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){ct(e.collectionGroup===this.collectionId);const t=Vp(e);if(void 0!==t&&!this.We(t))return!1;const r=ao(e);let i=0,a=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const c=r[i];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Ke.length||!this.He(this.Ke[a++],c))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function qR(n){var e,t;if(ct(n instanceof tn||n instanceof _n),n instanceof tn){if(n instanceof jT){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>tn.create(n.field,"==",a)))||[];return _n.create(i,"or")}return n}const r=n.filters.map(i=>qR(i));return _n.create(r,n.op)}function j1(n){if(0===n.getFilters().length)return[];const e=uA(qR(n));return ct(WR(e)),lA(e)||cA(e)?[e]:e.getFilters()}function lA(n){return n instanceof tn}function cA(n){return n instanceof _n&&Sw(n)}function WR(n){return lA(n)||cA(n)||function(e){if(e instanceof _n&&b_(e)){for(const t of e.getFilters())if(!lA(t)&&!cA(t))return!1;return!0}return!1}(n)}function uA(n){if(ct(n instanceof tn||n instanceof _n),n instanceof tn)return n;if(1===n.filters.length)return uA(n.filters[0]);const e=n.filters.map(r=>uA(r));let t=_n.create(e,n.op);return t=iC(t),WR(t)?t:(ct(t instanceof _n),ct(Ah(t)),ct(t.filters.length>1),t.filters.reduce((r,i)=>dA(r,i)))}function dA(n,e){let t;return ct(n instanceof tn||n instanceof _n),ct(e instanceof tn||e instanceof _n),t=n instanceof tn?e instanceof tn?_n.create([n,e],"and"):ZR(n,e):e instanceof tn?ZR(e,n):function(r,i){if(ct(r.filters.length>0&&i.filters.length>0),Ah(r)&&Ah(i))return vD(r,i.getFilters());const a=b_(r)?r:i,c=b_(r)?i:r,p=a.filters.map(_=>dA(_,c));return _n.create(p,"or")}(n,e),iC(t)}function ZR(n,e){if(Ah(e))return vD(e,n.getFilters());{const t=e.filters.map(r=>dA(n,r));return _n.create(t,"or")}}function iC(n){if(ct(n instanceof tn||n instanceof _n),n instanceof tn)return n;const e=n.getFilters();if(1===e.length)return iC(e[0]);if(_D(n))return n;const t=e.map(i=>iC(i)),r=[];return t.forEach(i=>{i instanceof tn?r.push(i):i instanceof _n&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:_n.create(r,n.op)}class H1{constructor(){this.Je=new hA}addToCollectionParentIndex(e,t){return this.Je.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ys.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class hA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mn(Qt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Qt.comparator)).toArray()}}const sC=new Uint8Array(0);class $1{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new hA,this.Xe=new Qa(r=>Za(r),(r,i)=>Mh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:r,parent:ns(i)};return KR(e).put(a)}return ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[iD(t),""],!1,!0);return KR(e).W(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(na(c.parent))}return r})}addFieldIndex(e,t){const r=oC(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=a0(e);return a.next(p=>{c.put(jR(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=oC(e),i=a0(e),a=o0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=o0(e);let i=!0;const a=new Map;return ue.forEach(this.Ze(t),c=>this.tn(e,c).next(p=>{i&&(i=!!p),a.set(c,p)})).next(()=>{if(i){let c=Wt();const p=[];return ue.forEach(a,(_,b)=>{var I;Ne("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`} to execute ${Za(t)}`);const x=function(gt,dt){const At=Vp(dt);if(void 0===At)return null;for(const Ot of Qp(gt,At.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(b,_),L=function(gt,dt){const At=new Map;for(const Ot of ao(dt))for(const un of Qp(gt,Ot.fieldPath))switch(un.op){case"==":case"in":At.set(Ot.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return At.set(Ot.fieldPath.canonicalString(),un.value),Array.from(At.values())}return null}(b,_),G=function(gt,dt){const At=[];let Ot=!0;for(const un of ao(dt)){const Cs=0===un.kind?$T(gt,un.fieldPath,gt.startAt):TD(gt,un.fieldPath,gt.startAt);At.push(Cs.value),Ot&&(Ot=Cs.inclusive)}return new Gu(At,Ot)}(b,_),X=function(gt,dt){const At=[];let Ot=!0;for(const un of ao(dt)){const Cs=0===un.kind?TD(gt,un.fieldPath,gt.endAt):$T(gt,un.fieldPath,gt.endAt);At.push(Cs.value),Ot&&(Ot=Cs.inclusive)}return new Gu(At,Ot)}(b,_),oe=this.en(_,b,G),_e=this.en(_,b,X),Ke=this.nn(_,b,L),ut=this.sn(_.indexId,x,oe,G.inclusive,_e,X.inclusive,Ke);return ue.forEach(ut,gt=>r.J(gt,t.limit).next(dt=>{dt.forEach(At=>{const Ot=$e.fromSegments(At.documentKey);c.has(Ot)||(c=c.add(Ot),p.push(Ot))})}))}).next(()=>p)}return ue.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:j1(_n.create(e.filters,"and")).map(r=>SD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,a,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),b=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const L=t?this.rn(t[x/b]):sC,G=this.on(e,L,r[x%b],i),X=this.un(e,L,a[x%b],c),oe=p.map(_e=>this.on(e,L,_e,!0));I.push(...this.createRange(G,X,oe))}return I}on(e,t,r,i){const a=new cg(e,$e.empty(),t,r);return i?a:a.Ue()}un(e,t,r,i){const a=new cg(e,$e.empty(),t,r);return i?a.Ue():a}tn(e,t){const r=new B1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const p of a)r.je(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return ue.forEach(i,a=>this.tn(e,a).next(c=>{c?0!==r&&c.fields.length<function(p){let _=new Mn(Xn.comparator),b=!1;for(const I of p.filters)for(const x of I.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?b=!0:_=_.add(x.field));for(const I of p.orderBy)I.field.isKeyField()||(_=_.add(I.field));return _.size+(b?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new s0;for(const i of ao(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.qe(i.kind);lg.Ie.ue(a,c)}return r.Fe()}rn(e){const t=new s0;return lg.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new s0;return lg.Ie.ue(Jo(this.databaseId,t),r.qe(function(i){const a=ao(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new s0);let a=0;for(const c of ao(e)){const p=r[a++];for(const _ of i)if(this.hn(t,c.fieldPath)&&w_(p))i=this.ln(i,c,p);else{const b=_.qe(c.kind);lg.Ie.ue(p,b)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new s0;_.seed(p.Fe()),lg.Ie.ue(c,_.qe(t.kind)),a.push(_)}return a}hn(e,t){return!!e.filters.find(r=>r instanceof tn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=oC(e),i=a0(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const c=[];return ue.forEach(a,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(b,I){const x=I?new nc(I.sequenceNumber,new ys(og(I.readTime),new $e(na(I.documentKey)),I.largestBatchId)):nc.empty(),L=b.fields.map(([G,X])=>new f_(Xn.fromServerFormat(G),X));return new h_(b.indexId,b.collectionGroup,L,x)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=oC(e),a=a0(e);return this.dn(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ue.forEach(p,_=>a.put(jR(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ue.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ue.forEach(p,_=>this._n(e,i,_).next(b=>{const I=this.wn(a,_);return b.isEqual(I)?ue.resolve():this.mn(e,a,_,b,I)}))))})}gn(e,t,r,i){return o0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return o0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=o0(e);let a=new Mn(Ph);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(c,p)=>{a=a.add(new cg(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}wn(e,t){let r=new Mn(Ph);const i=this.cn(t,e);if(null==i)return r;const a=Vp(t);if(null!=a){const c=e.data.field(a.fieldPath);if(w_(c))for(const p of c.arrayValue.values||[])r=r.add(new cg(t.indexId,e.key,this.rn(p),i))}else r=r.add(new cg(t.indexId,e.key,sC,i));return r}mn(e,t,r,i,a){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,b,I,x){const L=p.getIterator(),G=_.getIterator();let X=Wa(L),oe=Wa(G);for(;X||oe;){let _e=!1,Ke=!1;if(X&&oe){const ut=b(X,oe);ut<0?Ke=!0:ut>0&&(_e=!0)}else null!=X?Ke=!0:_e=!0;_e?(I(oe),oe=Wa(G)):Ke?(x(X),X=Wa(L)):(X=Wa(L),oe=Wa(G))}}(i,a,Ph,p=>{c.push(this.gn(e,t,r,p))},p=>{c.push(this.yn(e,t,r,p))}),ue.waitFor(c)}dn(e){let t=1;return a0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Ph(c,p)).filter((c,p,_)=>!p||0!==Ph(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=Ph(c,e),_=Ph(c,t);if(0===p)i[0]=e.Ue();else if(p>0&&_<0)i.push(c),i.push(c.Ue());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,sC,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,sC,[]]))}return a}pn(e,t){return Ph(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(YR)}getMinOffset(e,t){return ue.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||Je())).next(YR)}}function KR(n){return et(n,"collectionParents")}function o0(n){return et(n,"indexEntries")}function oC(n){return et(n,"indexConfiguration")}function a0(n){return et(n,"indexState")}function YR(n){ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;p_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ys(e.readTime,e.documentKey,t)}const QR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Us(e,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Z({range:c},(I,x,L)=>(p++,L.delete()));a.push(_.next(()=>{ct(1===p)}));const b=[];for(const I of t.mutations){const x=iA(e,I.key.path,t.batchId);a.push(i.delete(x)),b.push(I.key)}return ue.waitFor(a).next(()=>b)}function aC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Je();e=n.noDocument}return JSON.stringify(e).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class lC{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new lC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fh(e).Z({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=O_(e),c=Fh(e);return c.add({}).next(p=>{ct("number"==typeof p);const _=new Oe(p,t,r,i),b=function(L,G,X){const oe=X.baseMutations.map(Ke=>ig(L.ie,Ke)),_e=X.mutations.map(Ke=>ig(L.ie,Ke));return{userId:G,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:oe,mutations:_e}}(this.yt,this.userId,_),I=[];let x=new Mn((L,G)=>zt(L.canonicalString(),G.canonicalString()));for(const L of i){const G=iA(this.userId,L.key.path,p);x=x.add(L.key.path.popLast()),I.push(c.put(b)),I.push(a.put(G,PR))}return x.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.In[p]=_.keys()}),ue.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Fh(e).get(t).next(r=>r?(ct(r.userId===this.userId),ag(this.yt,r)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Fh(e).Z({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(ct(p.batchId>=r),a=ag(this.yt,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fh(e).W("userMutationsIndex",t).next(r=>r.map(i=>ag(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=t0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return O_(e).Z({range:i},(c,p,_)=>{const[b,I,x]=c,L=na(I);if(b===this.userId&&t.path.isEqual(L))return Fh(e).get(x).next(G=>{if(!G)throw Je();ct(G.userId===this.userId),a.push(ag(this.yt,G))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(zt);const i=[];return t.forEach(a=>{const c=t0(this.userId,a.path),p=IDBKeyRange.lowerBound(c),_=O_(e).Z({range:p},(b,I,x)=>{const[L,G,X]=b,oe=na(G);L===this.userId&&a.path.isEqual(oe)?r=r.add(X):x.done()});i.push(_)}),ue.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=t0(this.userId,r),c=IDBKeyRange.lowerBound(a);let p=new Mn(zt);return O_(e).Z({range:c},(_,b,I)=>{const[x,L,G]=_,X=na(L);x===this.userId&&r.isPrefixOf(X)?X.length===i&&(p=p.add(G)):I.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Fh(e).get(a).next(c=>{if(null===c)throw Je();ct(c.userId===this.userId),r.push(ag(this.yt,c))}))}),ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return XR(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return O_(e).Z({range:r},(a,c,p)=>{if(a[0]===this.userId){const _=na(a[1]);i.push(_)}else p.done()}).next(()=>{ct(0===i.length)})})}containsKey(e,t){return JR(e,this.userId,t)}Rn(e){return ek(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function JR(n,e,t){const r=t0(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return O_(n).Z({range:a,X:!0},(p,_,b)=>{const[I,x,L]=p;I===e&&x===i&&(c=!0),b.done()}).next(()=>c)}function Fh(n){return et(n,"mutations")}function O_(n){return et(n,"documentMutations")}function ek(n){return et(n,"mutationQueues")}class ug{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ug(0)}static vn(){return new ug(-1)}}class G1{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ug(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bt.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>N_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return N_(e).Z((c,p)=>{const _=n0(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return N_(e).Z((r,i)=>{const a=n0(i);t(a)})}Vn(e){return tk(e).get("targetGlobalKey").next(t=>(ct(null!==t),t))}Sn(e,t){return tk(e).put("targetGlobalKey",t)}Dn(e,t){return N_(e).put(UR(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Za(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return N_(e).Z({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const b=n0(p);Mh(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Lh(e);return t.forEach(c=>{const p=ns(c.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Lh(e);return ue.forEach(t,a=>{const c=ns(a.path);return ue.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Lh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Lh(e);let a=Wt();return i.Z({range:r,X:!0},(c,p,_)=>{const b=na(c[1]),I=new $e(b);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=ns(t.path),i=IDBKeyRange.bound([r],[iD(r)],!1,!0);let a=0;return Lh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],_,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return N_(e).get(t).next(r=>r?n0(r):null)}}function N_(n){return et(n,"targets")}function tk(n){return et(n,"targetGlobal")}function Lh(n){return et(n,"targetDocuments")}function nk([n,e],[t,r]){const i=zt(n,t);return 0===i?zt(e,r):i}class z1{constructor(e){this.xn=e,this.buffer=new Mn(nk),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class q1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){rc(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield qa(r)}yield t.Fn(3e5)}))}}class W1{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(ts.at);const r=new z1(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(QR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QR):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,a,c,p,_,b;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(b=Date.now(),d_()<=Js.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-I}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${x} documents in `+(b-_)+`ms\nTotal Duration: ${b-I}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class Z1{constructor(e,t){this.db=e,this.garbageCollector=new W1(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return cC(e,r)}removeReference(e,t,r){return cC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cC(e,t)}Gn(e,t){return function(r,i){let a=!1;return ek(r).tt(c=>JR(r,c,i).next(p=>(p&&(a=!0),ue.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(c,p)=>{if(p<=t){const _=this.Gn(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,bt.min()),Lh(e).delete([0,ns(c.path)])))});i.push(_)}}).next(()=>ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cC(e,t)}Kn(e,t){const r=Lh(e);let i,a=ts.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:b})=>{0===c?(a!==ts.at&&t(new $e(na(i)),a),a=b,i=_):a=ts.at}).next(()=>{a!==ts.at&&t(new $e(na(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cC(n,e){return Lh(n).put((r=n.currentSequenceNumber,{targetId:0,path:ns(e.path),sequenceNumber:r}));var r}class rk{constructor(){this.changes=new Qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class K1{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return dg(e).put(r)}removeEntry(e,t,r){return dg(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],nC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Fn.newInvalidDocument(t);return dg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l0(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Fn.newInvalidDocument(t)};return dg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(l0(t))},(i,a)=>{r={document:this.jn(t,a),size:aC(a)}}).next(()=>r)}getEntries(e,t){let r=oi();return this.zn(e,t,(i,a)=>{const c=this.jn(i,a);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=oi(),i=new gr($e.comparator);return this.zn(e,t,(a,c)=>{const p=this.jn(a,c);r=r.insert(a,p),i=i.insert(a,aC(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ue.resolve();let i=new Mn(ak);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(l0(i.first()),l0(i.last())),c=i.getIterator();let p=c.getNext();return dg(e).Z({index:"documentKeyIndex",range:a},(_,b,I)=>{const x=$e.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&ak(p,x)<0;)r(p,null),p=c.getNext();p&&p.isEqual(x)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?I.j(l0(p)):I.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),nC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dg(e).W(IDBKeyRange.bound(i,a,!0)).next(c=>{let p=oi();for(const _ of c){const b=this.jn($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let a=oi();const c=ok(t,r),p=ok(t,ys.max());return dg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,b,I)=>{const x=this.jn($e.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(x.key,x),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new Y1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return sk(e).get("remoteDocumentGlobalKey").next(t=>(ct(!!t),t))}Qn(e,t){return sk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function N1(n,e){let t;if(e.document)t=Qw(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=og(e.noDocument.readTime);t=Fn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Je();{const r=$e.fromSegments(e.unknownDocument.path),i=og(e.unknownDocument.version);t=Fn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Qn(r[0],r[1]);return bt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Fn.newInvalidDocument(e)}}function ik(n){return new K1(n)}class Y1 extends rk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Qa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Mn((a,c)=>zt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const p=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,p.readTime)),c.isValidDocument()){const _=VR(this.Yn.yt,c);i=i.add(a.path.popLast());const b=aC(_);r+=b-p.size,t.push(this.Yn.addEntry(e,a,_))}else if(r-=p.size,this.trackRemovals){const _=VR(this.Yn.yt,c.convertToNoDocument(bt.min()));t.push(this.Yn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function sk(n){return et(n,"remoteDocumentGlobal")}function dg(n){return et(n,"remoteDocumentsV14")}function l0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ok(n,e){const t=e.documentKey.path.toArray();return[n,nC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ak(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=zt(t[a],r[a]),i)return i;return i=zt(t.length,r.length),i||(i=zt(t[t.length-2],r[r.length-2]),i||zt(t[t.length-1],r[r.length-1]))}class Q1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&eg(r.mutation,i,Fs.empty(),Qn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Wt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Wt()){const i=Xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=tg();return a.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Wt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let a=oi();const c=S_(),p=S_();return t.forEach((_,b)=>{const I=r.get(b.key);i.has(b.key)&&(void 0===I||I.mutation instanceof ta)?a=a.insert(b.key,b):void 0!==I&&(c.set(b.key,I.mutation.getFieldMask()),eg(I.mutation,b,I.mutation.getFieldMask(),Qn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,I)=>c.set(b,I)),t.forEach((b,I)=>{var x;return p.set(b,new Q1(I,null!==(x=c.get(b))&&void 0!==x?x:null))}),p))}recalculateAndSaveOverlays(e,t){const r=S_();let i=new gr((c,p)=>c-p),a=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let I=r.get(_)||Fs.empty();I=p.applyToLocalView(b,I),r.set(_,I);const x=(i.get(p.batchId)||Wt()).add(_);i=i.insert(p.batchId,x)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),b=_.key,I=_.value,x=ZT();I.forEach(L=>{if(!a.has(L)){const G=LD(t.get(L),r.get(L));null!==G&&x.set(L,G),a=a.add(L)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,x))}return ue.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):RD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ue.resolve(Xa());let p=-1,_=a;return c.next(b=>ue.forEach(b,(I,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),a.get(I)?ue.resolve():this.remoteDocumentCache.getEntry(e,I).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Wt())).next(I=>({batchId:p,changes:jD(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=tg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=tg();return this.indexManager.getCollectionParents(e,i).next(c=>ue.forEach(c,p=>{const _=(b=t,I=p.child(i),new Ka(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((p,_)=>{const b=_.getKey();null===i.get(b)&&(i=i.insert(b,Fn.newInvalidDocument(b)))});let c=tg();return i.forEach((p,_)=>{const b=a.get(p);void 0!==b&&eg(b.mutation,_,Fs.empty(),Qn.now()),kD(t,_)&&(c=c.insert(p,_))}),c})}}class X1{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Jn(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:oA(r.bundledQuery),readTime:Jn(r.readTime)}),ue.resolve();var r}}class J1{constructor(){this.overlays=new gr($e.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xa();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.oe(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=Xa(),a=t.length+1,c=new $e(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new gr((b,I)=>b-I);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let I=a.get(b.largestBatchId);null===I&&(I=Xa(),a=a.insert(b.largestBatchId,I)),I.set(b.getKey(),b)}}const p=Xa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,I)=>p.set(b,I)),!(p.size()>=i)););return ue.resolve(p)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ln(t,r));let a=this.es.get(t);void 0===a&&(a=Wt(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class fA{constructor(){this.ns=new Mn(Ti.ss),this.rs=new Mn(Ti.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Ti(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new $e(new Qt([])),r=new Ti(t,e),i=new Ti(t,e+1),a=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new $e(new Qt([])),r=new Ti(t,e),i=new Ti(t,e+1);let a=Wt();return this.rs.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Ti(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return $e.comparator(e.key,t.key)||zt(e._s,t._s)}static os(e,t){return zt(e._s,t._s)||$e.comparator(e.key,t.key)}}class eF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Mn(Ti.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const c=new Oe(a,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new Ti(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);a.push(p)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(zt);return t.forEach(i=>{const a=new Ti(i,0),c=new Ti(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],p=>{r=r.add(p._s)})}),ue.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;$e.isDocumentKey(a)||(a=a.child(""));const c=new Ti(new $e(a),0);let p=new Mn(zt);return this.gs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(_._s)),!0)},c),ue.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ct(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ue.forEach(t.mutations,i=>{const a=new Ti(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Ti(t,0),i=this.gs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tF{constructor(e){this.Es=e,this.docs=new gr($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Fn.newInvalidDocument(i))}),ue.resolve(r)}getAllFromCollection(e,t,r){let i=oi();const a=new $e(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:p,value:{document:_}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||p_(sD(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Je()}As(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nF(this)}getSize(e){return ue.resolve(this.size)}}class nF extends rk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class rF{constructor(e){this.persistence=e,this.Rs=new Qa(t=>Za(t),Mh),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new fA,this.targetCount=0,this.vs=ug.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ug(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ue.waitFor(a).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class ck{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ts(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new rF(this),this.indexManager=new H1,this.remoteDocumentCache=new tF(r=>this.referenceDelegate.xs(r)),this.yt=new sA(t),this.Ns=new X1(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new eF(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new iF(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return ue.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class iF extends g_{constructor(e){super(),this.currentSequenceNumber=e}}class uC{constructor(e){this.persistence=e,this.Fs=new fA,this.$s=null}static Bs(e){return new uC(e)}get Ls(){if(this.$s)return this.$s;throw Je()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,r=>{const i=$e.fromPath(r);return this.qs(e,i).next(a=>{a||t.removeEntry(i,bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class sF{constructor(e){this.yt=e}$(e,t,r,i){const a=new jp("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rA,{unique:!0}),p.createObjectStore("documentMutations"),uk(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ue.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),uk(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rA,{unique:!0});const I=_.store("mutations"),x=b.map(L=>I.put(L));return ue.waitFor(x)})}(e,a))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Us(a))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(a))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(a))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:T});_.createIndex("collectionPathOverlayIndex",k,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",F,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:FR});_.createIndex("documentKeyIndex",LR),_.createIndex("collectionGroupIndex",s)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,a))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:g}).createIndex("sequenceNumberIndex",v,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:E}).createIndex("documentKeyIndex",D,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=aC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ue.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>ue.forEach(p,_=>{ct(_.userId===a.userId);const b=ag(this.yt,_);return XR(e,a.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((c,p)=>{const _=new Qt(c),b=[0,ns(_)];a.push(t.get(b).next(I=>I?ue.resolve():t.put({targetId:0,path:ns(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:h});const r=t.store("collectionParents"),i=new hA,a=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:ns(_)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const _=new Qt(c);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,_],b)=>{const I=na(p);return a(I.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=n0(i),c=UR(this.yt,a);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,c)=>{const p=t.store("remoteDocumentsV14"),_=(b=c,b.document?new $e(Qt.fromString(b.document.name).popFirst(5)):b.noDocument?$e.fromSegments(b.noDocument.path):b.unknownDocument?$e.fromSegments(b.unknownDocument.path):Je()).path.toArray();var b;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(I))}).next(()=>ue.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=ik(this.yt),a=new ck(uC.Bs,this.yt.ie);return r.W().next(c=>{const p=new Map;return c.forEach(_=>{var b;let I=null!==(b=p.get(_.userId))&&void 0!==b?b:Wt();ag(this.yt,_).keys().forEach(x=>I=I.add(x)),p.set(_.userId,I)}),ue.forEach(p,(_,b)=>{const I=new Kr(b),x=rC.re(this.yt,I),L=a.getIndexManager(I),G=lC.re(I,this.yt,L,a.referenceDelegate);return new lk(i,G,x,L).recalculateAndSaveOverlaysForDocumentKeys(new tt(t,ts.at),_).next()})})}}function uk(n){n.createObjectStore("targetDocuments",{keyPath:l}).createIndex("documentTargetsIndex",u,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",o,{unique:!0}),n.createObjectStore("targetGlobal")}const pA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gA{constructor(e,t,r,i,a,c,p,_,b,I,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=c,this.document=p,this.Js=b,this.Ys=I,this.Xs=x,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=L=>Promise.resolve(),!gA.C())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z1(this,i),this.ii=t+"main",this.yt=new sA(_),this.ri=new vs(this.ii,this.Xs,new sF(this.yt)),this.Cs=new G1(this.referenceDelegate,this.yt),this.remoteDocumentCache=ik(this.yt),this.Ns=new P1,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===I&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,pA);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ts(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(rc(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return c0(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return dC(e).delete(this.clientId)}yi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=et(r,"clientMetadata");return i.W().next(a=>{const c=e.Ii(a,18e5),p=a.filter(_=>-1===c.indexOf(_));return ue.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):c0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,pA);return!1}}return!(!this.networkEnabled||!this.inForeground)||dC(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new tt(t,ts.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>dC(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return lC.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $1(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return rC.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?We:14===c?Be:13===c?we:12===c?ne:11===c?z:void Je();var c;let p;return this.ri.runTransaction(e,i,a,_=>(p=new tt(_,this.Ss?this.Ss.next():ts.at),"readwrite-primary"===t?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Re(de.FAILED_PRECONDITION,ww);return r(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Vi(e){return c0(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,pA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return c0(e).put("owner",t)}static C(){return vs.C()}_i(e){const t=c0(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,rn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function c0(n){return et(n,"owner")}function dC(n){return et(n,"clientMetadata")}function mA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _A{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Wt(),i=Wt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new _A(e,t.fromCache,r,i)}}class dk{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(MD(t))return ue.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=kw(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Wt(...a);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Fi(t,p);return this.$i(t,b,c,_.readTime)?this.ki(e,kw(t,null,"F")):this.Bi(e,b,t,_)}))})))}Oi(e,t,r,i){return MD(t)||i.isEqual(bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,r,i)?this.Mi(e,t):(d_()<=Js.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),D_(t)),this.Bi(e,c,t,Up(i,-1)))})}Fi(e,t){let r=new Mn(OD(e));return t.forEach((i,a)=>{kD(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return d_()<=Js.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",D_(t)),this.Ni.getDocumentsMatchingQuery(e,t,ys.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class oF{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new gr(zt),this.Ui=new Qa(a=>Za(a),Mh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function hk(n,e,t,r){return new oF(n,e,t,r)}function fk(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,pe.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],p=[];let _=Wt();for(const b of i){c.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}for(const b of a){p.push(b.batchId);for(const I of b.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(b=>({ji:b,removedBatchIds:c,addedBatchIds:p}))})})}),yA.apply(this,arguments)}function aF(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,b){const I=_.batch,x=I.keys();let L=ue.resolve();return x.forEach(G=>{L=L.next(()=>b.getEntry(p,G)).next(X=>{const oe=_.docVersions.get(G);ct(null!==oe),X.version.compareTo(oe)<0&&(I.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),b.addEntry(X)))})}),L.next(()=>c.mutationQueue.removeMutationBatch(p,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Wt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function pk(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function lF(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const p=[];e.targetChanges.forEach((I,x)=>{const L=i.get(x);if(!L)return;p.push(t.Cs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Cs.addMatchingKeys(a,I.addedDocuments,x)));let G=L.withSequenceNumber(a.currentSequenceNumber);var X,oe,_e;e.targetMismatches.has(x)?G=G.withResumeToken(Lr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):I.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(I.resumeToken,r)),i=i.insert(x,G),oe=G,_e=I,(0===(X=L).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(a,G))});let _=oi(),b=Wt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),p.push(gk(a,c,e.documentUpdates).next(I=>{_=I.Wi,b=I.zi})),!r.isEqual(bt.min())){const I=t.Cs.getLastRemoteSnapshotVersion(a).next(x=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(I)}return ue.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.qi=i,a))}function gk(n,e,t){let r=Wt(),i=Wt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=oi();return t.forEach((p,_)=>{const b=a.get(p);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Ne("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",_.version)}),{Wi:c,zi:i}})}function cF(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P_(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,ue.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new In(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function F_(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,pe.Z)(function*(n,e,t){const r=qe(n),i=r.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!rc(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),vA.apply(this,arguments)}function hC(n,e,t){const r=qe(n);let i=bt.min(),a=Wt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,b){const I=qe(p),x=I.Ui.get(b);return void 0!==x?ue.resolve(I.qi.get(x)):I.Cs.getTargetData(_,b)}(r,c,Vi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?a:Wt())).next(p=>(yk(r,Ls(e),p),{documents:p,Hi:a})))}function mk(n,e){const t=qe(n),r=qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.ne(a,e).next(c=>c?c.target:null))}function _k(n,e){const t=qe(n),r=t.Ki.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Up(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yk(t,e,i),i))}function yk(n,e,t){let r=n.Ki.get(e)||bt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function wA(){return wA=(0,pe.Z)(function*(n,e,t,r){const i=qe(n);let a=Wt(),c=oi();for(const b of t){const I=e.Ji(b.metadata.name);b.document&&(a=a.add(I));const x=e.Yi(b);x.setReadTime(e.Xi(b.metadata.readTime)),c=c.insert(I,x)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield P_(i,(b=r,Vi(Ya(Qt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>gk(b,p,c).next(I=>(p.apply(b),I)).next(I=>i.Cs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Cs.addMatchingKeys(b,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,I.Wi,I.zi)).next(()=>I.Wi)))}),wA.apply(this,arguments)}function dF(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,pe.Z)(function*(n,e,t=Wt()){const r=yield P_(n,Vi(oA(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Jn(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(a,e);const p=r.withResumeToken(Lr.EMPTY_BYTE_STRING,c);return i.qi=i.qi.insert(p.targetId,p),i.Cs.updateTargetData(a,p).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),bA.apply(this,arguments)}function vk(n,e){return`firestore_clients_${n}_${e}`}function wk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function EA(n,e){return`firestore_targets_${n}_${e}`}class fC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Re(i.error.code,i.error.message))),c?new fC(e,t,i.state,a):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class u0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Re(r.error.code,r.error.message))),a?new u0(e,r.state,i):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=zw();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Ii(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new pC(e,a):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DA(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class CA{constructor(){this.activeTargetIds=zw()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IA{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new gr(zt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=vk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new CA),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(vk(e.persistenceKey,i));if(a){const c=pC.Zi(i,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(EA(this.persistenceKey,e));if(r){const i=u0.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(EA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let c=ts.at;if(null!=a)try{const p=JSON.parse(a);ct("number"==typeof p),c=p}catch(p){Cr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==ts.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new fC(this.currentUser,e,t,r),a=wk(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=wk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=EA(this.persistenceKey,e),a=new u0(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return pC.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return fC.Zi(new Kr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return u0.Zi(i,t)}yr(e){return DA.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),c=[],p=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=zw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class bk{constructor(){this.Lr=new CA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new CA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hF{Ur(e){}shutdown(){}}class Ek{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pF{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const c=this.ho(e,t);Ne("RestConnection","Sending: ",c,r);const p={};return this.lo(p,i,a),this.fo(e,c,p,r).then(_=>(Ne("RestConnection","Received: ",_),_),_=>{throw Bu("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,a,c){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${fF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const p=new TT;p.setWithCredentials(!0),p.listenOnce(KE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Pp.NO_ERROR:const b=p.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(b)),a(b);break;case Pp.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case Pp.HTTP_ERROR:const I=p.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',I,"response text:",p.getResponseText()),I>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const L=x?.error;if(L&&L.status&&L.message){const G=function(X){const oe=X.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(oe)>=0?oe:de.UNKNOWN}(L.status);c(new Re(G,L.message))}else c(new Re(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Re(de.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);p.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ST(),c=ZE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new QE({})),this.lo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=i.join("");Ne("Connection","Creating WebChannel: "+_,p);const b=a.createWebChannel(_,p);let I=!1,x=!1;const L=new pF({Hr:X=>{x?Ne("Connection","Not sending because WebChannel is closed:",X):(I||(Ne("Connection","Opening WebChannel transport."),b.open(),I=!0),Ne("Connection","WebChannel sending:",X),b.send(X))},Jr:()=>b.close()}),G=(X,oe,_e)=>{X.listen(oe,Ke=>{try{_e(Ke)}catch(ut){setTimeout(()=>{throw ut},0)}})};return G(b,u_.EventType.OPEN,()=>{x||Ne("Connection","WebChannel transport opened.")}),G(b,u_.EventType.CLOSE,()=>{x||(x=!0,Ne("Connection","WebChannel transport closed"),L.io())}),G(b,u_.EventType.ERROR,X=>{x||(x=!0,Bu("Connection","WebChannel transport errored:",X),L.io(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),G(b,u_.EventType.MESSAGE,X=>{var oe;if(!x){const _e=X.data[0];ct(!!_e);const Ke=_e,ut=Ke.error||(null===(oe=Ke[0])||void 0===oe?void 0:oe.error);if(ut){Ne("Connection","WebChannel received error:",ut);const gt=ut.status;let dt=function(Ot){const un=mr[Ot];if(void 0!==un)return $w(un)}(gt),At=ut.message;void 0===dt&&(dt=de.INTERNAL,At="Unknown error status: "+gt+" with message "+ut.message),x=!0,L.io(new Re(dt,At)),b.close()}else Ne("Connection","WebChannel received:",_e),L.ro(_e)}}),G(c,YE.STAT_EVENT,X=>{X.stat===_w.PROXY?Ne("Connection","Detected buffering proxy"):X.stat===_w.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.so()},0),L}}function Dk(){return typeof window<"u"?window:null}function gC(){return typeof document<"u"?document:null}function d0(n){return new Kw(n,!0)}class SA{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ck{constructor(e,t,r,i,a,c,p,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new SA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,pe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,pe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Re(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,pe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mF extends Ck{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function QD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Je(),i=e.targetChange.targetIds||[],a=function(_,b){return _.wt?(ct(void 0===b||"string"==typeof b),Lr.fromBase64String(b||"")):(ct(void 0===b||b instanceof Uint8Array),Lr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const b=void 0===_.code?de.UNKNOWN:$w(_.code);return new Re(b,_.message||"")}(c);t=new $D(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Ja(n,r.document.name),a=Jn(r.document.updateTime),c=r.document.createTime?Jn(r.document.createTime):bt.min(),p=new Yr({mapValue:{fields:r.document.fields}}),_=Fn.newFoundDocument(i,a,c,p);t=new qw(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Ja(n,r.document),a=r.readTime?Jn(r.readTime):bt.min(),c=Fn.newNoDocument(i,a);t=new qw([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ja(n,r.document);t=new qw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Je();{const r=e.filter,a=new jw(r.count||0);t=new QT(r.targetId,a)}}var _;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return bt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?Jn(a.readTime):bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=rg(this.yt),t.addTarget=function(i,a){let c;const p=a.target;return c=E_(p)?{documents:k_(i,p)}:{query:JD(i,p)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=M_(i,a.resumeToken):a.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=kh(i,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function e0(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=rg(this.yt),t.removeTarget=e,this.Bo(t)}}class _F extends Ck{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function XD(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(r,i){let a=Jn(r.updateTime?r.updateTime:i);return a.isEqual(bt.min())&&(a=Jn(i)),new dc(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.Zo(r,t)}return ct(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=rg(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ig(this.yt,r))};this.Bo(t)}}class yF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(de.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class wF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Cr(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class bF{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(p=>{r.enqueueAndForget((0,pe.Z)(function*(){var _;Yu(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,pe.Z)(function*(b){const I=qe(b);I._u.add(4),yield L_(I),I.gu.set("Unknown"),I._u.delete(4),yield h0(I)}),function(b){return _.apply(this,arguments)})(c))}))}),this.gu=new wF(r,i)}}function h0(n){return AA.apply(this,arguments)}function AA(){return AA=(0,pe.Z)(function*(n){if(Yu(n))for(const e of n.wu)yield e(!0)}),AA.apply(this,arguments)}function L_(n){return MA.apply(this,arguments)}function MA(){return MA=(0,pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),MA.apply(this,arguments)}function mC(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),kA(t)?RA(t):U_(t).ko()&&xA(t,e))}function f0(n,e){const t=qe(n),r=U_(t);t.du.delete(e),r.ko()&&Ik(t,e),0===t.du.size&&(r.ko()?r.Fo():Yu(t)&&t.gu.set("Unknown"))}function xA(n,e){n.yu.Ot(e.targetId),U_(n).zo(e)}function Ik(n,e){n.yu.Ot(e),U_(n).Ho(e)}function RA(n){n.yu=new XT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),U_(n).start(),n.gu.uu()}function kA(n){return Yu(n)&&!U_(n).No()&&n.du.size>0}function Yu(n){return 0===qe(n)._u.size}function Sk(n){n.yu=void 0}function EF(n){return OA.apply(this,arguments)}function OA(){return OA=(0,pe.Z)(function*(n){n.du.forEach((e,t)=>{xA(n,e)})}),OA.apply(this,arguments)}function DF(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,pe.Z)(function*(n,e){Sk(n),kA(n)?(n.gu.hu(e),RA(n)):n.gu.set("Unknown")}),NA.apply(this,arguments)}function CF(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,pe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof $D&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(i,a){const c=a.cause;for(const p of a.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _C(n,r)}else if(e instanceof qw?n.yu.Kt(e):e instanceof QT?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(bt.min()))try{const r=yield pk(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.yu.Zt(a);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.du.get(_);b&&i.du.set(_,b.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach(p=>{const _=i.du.get(p);if(!_)return;i.du.set(p,_.withResumeToken(Lr.EMPTY_BYTE_STRING,_.snapshotVersion)),Ik(i,p);const b=new In(_.target,p,1,_.sequenceNumber);xA(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield _C(n,r)}var r}),PA.apply(this,arguments)}function _C(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,pe.Z)(function*(n,e,t){if(!rc(e))throw e;n._u.add(1),yield L_(n),n.gu.set("Offline"),t||(t=()=>pk(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield h0(n)}))}),FA.apply(this,arguments)}function Tk(n,e){return e().catch(t=>_C(n,t,e))}function V_(n){return LA.apply(this,arguments)}function LA(){return LA=(0,pe.Z)(function*(n){const e=qe(n),t=Vh(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;IF(e);)try{const i=yield cF(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,SF(e,i)}catch(i){yield _C(e,i)}Ak(e)&&Mk(e)}),LA.apply(this,arguments)}function IF(n){return Yu(n)&&n.fu.length<10}function SF(n,e){n.fu.push(e);const t=Vh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Ak(n){return Yu(n)&&!Vh(n).No()&&n.fu.length>0}function Mk(n){Vh(n).start()}function TF(n){return VA.apply(this,arguments)}function VA(){return VA=(0,pe.Z)(function*(n){Vh(n).eu()}),VA.apply(this,arguments)}function AF(n){return UA.apply(this,arguments)}function UA(){return UA=(0,pe.Z)(function*(n){const e=Vh(n);for(const t of n.fu)e.Xo(t.mutations)}),UA.apply(this,arguments)}function MF(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,pe.Z)(function*(n,e,t){const r=n.fu.shift(),i=Ft.from(r,e,t);yield Tk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield V_(n)}),BA.apply(this,arguments)}function xF(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,pe.Z)(function*(n,e){var t;e&&Vh(n).Yo&&(yield(t=(0,pe.Z)(function*(r,i){if(Hw(a=i.code)&&a!==de.ABORTED){const c=r.fu.shift();Vh(r).Mo(),yield Tk(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield V_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Ak(n)&&Mk(n)}),jA.apply(this,arguments)}function xk(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,pe.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Yu(t);t._u.add(3),yield L_(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield h0(t)}),HA.apply(this,arguments)}function $A(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,pe.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield h0(t)):e||(t._u.add(2),yield L_(t),t.gu.set("Unknown"))}),GA.apply(this,arguments)}function U_(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new mF(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:EF.bind(null,n),Zr:DF.bind(null,n),Wo:CF.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.pu.Mo(),kA(n)?RA(n):n.gu.set("Unknown")):(yield n.pu.stop(),Sk(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Vh(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new _F(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:TF.bind(null,n),Zr:xF.bind(null,n),tu:AF.bind(null,n),Zo:MF.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Iu.Mo(),yield V_(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class zA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,p=new zA(e,t,c,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B_(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),rc(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class j_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=tg(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new j_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof j_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new j_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Rk{constructor(){this.Tu=new gr($e.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class H_{constructor(e,t,r,i,a,c,p,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new H_(e,t,j_.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class RF{constructor(){this.Au=void 0,this.listeners=[]}}class kF{constructor(){this.queries=new Qa(e=>Ow(e),Xp),this.onlineState="Unknown",this.Ru=new Set}}function qA(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new RF),i)try{a.Au=yield t.onListen(r)}catch(c){const p=B_(c,`Initialization of query '${D_(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&YA(t)}),WA.apply(this,arguments)}function ZA(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),KA.apply(this,arguments)}function OF(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&YA(t)}function NF(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function YA(n){n.Ru.forEach(e=>{e.next()})}class QA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new H_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=H_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class PF{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class kk{constructor(e){this.yt=e}Ji(e){return Ja(this.yt,e)}Yi(e){return e.metadata.exists?Qw(this.yt,e.document,!1):Fn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Jn(e)}}class FF{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ok(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=Qt.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new kk(this.yt);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Wt()).add(a);t.set(c,p)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function uF(n,e,t,r){return wA.apply(this,arguments)}(e.localStore,new kk(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield dF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Ok(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Nk{constructor(e){this.key=e}}class Pk{constructor(e){this.key=e}}class Fk{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Wt(),this.mutatedKeys=Wt(),this.Gu=OD(e),this.Qu=new j_(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new Rk,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,x)=>{const L=i.get(I),G=kD(this.query,x)?x:null,X=!!L&&this.mutatedKeys.has(L.key),oe=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let _e=!1;L&&G?L.data.isEqual(G.data)?X!==oe&&(r.track({type:3,doc:G}),_e=!0):this.Hu(L,G)||(r.track({type:2,doc:G}),_e=!0,(_&&this.Gu(G,_)>0||b&&this.Gu(G,b)<0)&&(p=!0)):!L&&G?(r.track({type:0,doc:G}),_e=!0):L&&!G&&(r.track({type:1,doc:L}),_e=!0,(_||b)&&(p=!0)),_e&&(G?(c=c.add(G),a=oe?a.add(I):a.delete(I)):(c=c.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const I="F"===this.query.limitType?c.last():c.first();c=c.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Qu:c,zu:r,$i:p,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((b,I)=>function(x,L){const G=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return G(x)-G(L)}(b.type,I.type)||this.Gu(b.doc,I.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,_=p!==this.Uu;return this.Uu=p,0!==a.length||_?{snapshot:new H_(this.query,e.Qu,i,a,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Rk,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Wt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Pk(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Nk(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Wt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return H_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class LF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VF{constructor(e){this.key=e,this.nc=!1}}class UF{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Qa(p=>Ow(p),Xp),this.rc=new Map,this.oc=new Set,this.uc=new gr($e.comparator),this.cc=new Map,this.ac=new fA,this.hc={},this.lc=new Map,this.fc=ug.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function BF(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,pe.Z)(function*(n,e){const t=bM(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const c=yield P_(t.localStore,Vi(e));t.isPrimaryClient&&mC(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield JA(t,e,r,"current"===p,c.resumeToken)}return i}),XA.apply(this,arguments)}function JA(n,e,t,r,i){return eM.apply(this,arguments)}function eM(){return eM=(0,pe.Z)(function*(n,e,t,r,i){n._c=(x,L,G)=>{return(X=(0,pe.Z)(function*(oe,_e,Ke,ut){let gt=_e.view.Wu(Ke);gt.$i&&(gt=yield hC(oe.localStore,_e.query,!1).then(({documents:Ot})=>_e.view.Wu(Ot,gt)));const dt=ut&&ut.targetChanges.get(_e.targetId),At=_e.view.applyChanges(gt,oe.isPrimaryClient,dt);return uM(oe,_e.targetId,At.Xu),At.snapshot}),function(oe,_e,Ke,ut){return X.apply(this,arguments)})(n,x,L,G);var X};const a=yield hC(n.localStore,e,!0),c=new Fk(e,a.Hi),p=c.Wu(a.documents),_=A_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(p,n.isPrimaryClient,_);uM(n,t,b.Xu);const I=new LF(e,t,c);return n.ic.set(e,I),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),b.snapshot}),eM.apply(this,arguments)}function jF(n,e){return tM.apply(this,arguments)}function tM(){return tM=(0,pe.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!Xp(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield F_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),f0(t.remoteStore,r.targetId),$_(t,r.targetId)}).catch(qa))):($_(t,r.targetId),yield F_(t.localStore,r.targetId,!0))}),tM.apply(this,arguments)}function nM(){return nM=(0,pe.Z)(function*(n,e,t){const r=EM(n);try{const i=yield function(a,c){const p=qe(a),_=Qn.now(),b=c.reduce((L,G)=>L.add(G.key),Wt());let I,x;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let G=oi(),X=Wt();return p.Gi.getEntries(L,b).next(oe=>{G=oe,G.forEach((_e,Ke)=>{Ke.isValidDocument()||(X=X.add(_e))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,G)).next(oe=>{I=oe;const _e=[];for(const Ke of c){const ut=qT(Ke,I.get(Ke.key).overlayedDocument);null!=ut&&_e.push(new ta(Ke.key,ut,Yp(ut.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(L,_,_e,c)}).next(oe=>{x=oe;const _e=oe.applyToLocalDocumentSet(I,X);return p.documentOverlayCache.saveOverlays(L,oe.batchId,_e)})}).then(()=>({batchId:x.batchId,changes:jD(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let _=a.hc[a.currentUser.toKey()];_||(_=new gr(zt)),_=_.insert(c,p),a.hc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Qu(r,i.changes),yield V_(r.remoteStore)}catch(i){const a=B_(i,"Failed to persist write");t.reject(a)}}),nM.apply(this,arguments)}function Lk(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,pe.Z)(function*(n,e){const t=qe(n);try{const r=yield lF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.cc.get(a);c&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?ct(c.nc):i.removedDocuments.size>0&&(ct(c.nc),c.nc=!1))}),yield Qu(t,r,e)}catch(r){yield qa(r)}}),rM.apply(this,arguments)}function Vk(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(a,c){const p=qe(a);p.onlineState=c;let _=!1;p.queries.forEach((b,I)=>{for(const x of I.listeners)x.bu(c)&&(_=!0)}),_&&YA(p)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $F(n,e,t){return iM.apply(this,arguments)}function iM(){return iM=(0,pe.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let c=new gr($e.comparator);c=c.insert(a,Fn.newNoDocument(a,bt.min()));const p=Wt().add(a),_=new T_(bt.min(),new Map,new Mn(zt),c,p);yield Lk(r,_),r.uc=r.uc.remove(a),r.cc.delete(e),dM(r)}else yield F_(r.localStore,e,!1).then(()=>$_(r,e,t)).catch(qa)}),iM.apply(this,arguments)}function GF(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,pe.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield aF(t.localStore,e);cM(t,r,null),lM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Qu(t,i)}catch(i){yield qa(i)}}),sM.apply(this,arguments)}function zF(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,pe.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(a,c){const p=qe(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return p.mutationQueue.lookupMutationBatch(_,c).next(I=>(ct(null!==I),b=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>p.localDocuments.getDocuments(_,b))})}(r.localStore,e);cM(r,e,t),lM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Qu(r,i)}catch(i){yield qa(i)}}),oM.apply(this,arguments)}function aM(){return aM=(0,pe.Z)(function*(n,e){const t=qe(n);Yu(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=qe(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=B_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),aM.apply(this,arguments)}function lM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function cM(n,e,t){const r=qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function $_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||Uk(n,r)})}function Uk(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(f0(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),dM(n))}function uM(n,e,t){for(const r of t)r instanceof Nk?(n.ac.addReference(r.key,e),WF(n,r)):r instanceof Pk?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||Uk(n,r.key)):Je()}function WF(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.oc.add(r),dM(n))}function dM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new $e(Qt.fromString(e)),r=n.fc.next();n.cc.set(r,new VF(t)),n.uc=n.uc.insert(t,r),mC(n.remoteStore,new In(Vi(Ya(t.path)),r,2,ts.at))}}function Qu(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,pe.Z)(function*(n,e,t){const r=qe(n),i=[],a=[],c=[];var p;r.ic.isEmpty()||(r.ic.forEach((p,_)=>{c.push(r._c(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const I=_A.Ci(_.targetId,b);a.push(I)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(p=(0,pe.Z)(function*(_,b){const I=qe(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ue.forEach(b,L=>ue.forEach(L.Si,G=>I.persistence.referenceDelegate.addReference(x,L.targetId,G)).next(()=>ue.forEach(L.Di,G=>I.persistence.referenceDelegate.removeReference(x,L.targetId,G)))))}catch(x){if(!rc(x))throw x;Ne("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const L=x.targetId;if(!x.fromCache){const G=I.qi.get(L),oe=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);I.qi=I.qi.insert(L,oe)}}}),function(_,b){return p.apply(this,arguments)})(r.localStore,a))}),hM.apply(this,arguments)}function ZF(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,pe.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield fk(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(p=>{p.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Qu(t,r.ji)}var i}),fM.apply(this,arguments)}function KF(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return Wt().add(r.key);{let i=Wt();const a=t.rc.get(e);if(!a)return i;for(const c of a){const p=t.ic.get(c);i=i.unionWith(p.view.ju)}return i}}function YF(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,pe.Z)(function*(n,e){const t=qe(n),r=yield hC(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&uM(t,e.targetId,i.Xu),i}),pM.apply(this,arguments)}function QF(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,pe.Z)(function*(n,e){const t=qe(n);return _k(t.localStore,e).then(r=>Qu(t,r))}),gM.apply(this,arguments)}function XF(n,e,t,r){return mM.apply(this,arguments)}function mM(){return mM=(0,pe.Z)(function*(n,e,t,r){const i=qe(n),a=yield function(c,p){const _=qe(c),b=qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>b.Tn(I,p).next(x=>x?_.localDocuments.getDocuments(I,x):ue.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield V_(i.remoteStore):"acknowledged"===t||"rejected"===t?(cM(i,e,r||null),lM(i,e),p=e,qe(qe(i.localStore).mutationQueue).An(p)):Je(),yield Qu(i,a)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),mM.apply(this,arguments)}function _M(){return _M=(0,pe.Z)(function*(n,e){const t=qe(n);if(bM(t),EM(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Bk(t,r.toArray());t.dc=!0,yield $A(t.remoteStore,!0);for(const a of i)mC(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>($_(t,c),F_(t.localStore,c,!0))),f0(t.remoteStore,c)}),yield i,yield Bk(t,r),function(a){const c=qe(a);c.cc.forEach((p,_)=>{f0(c.remoteStore,_)}),c.ac.fs(),c.cc=new Map,c.uc=new gr($e.comparator)}(t),t.dc=!1,yield $A(t.remoteStore,!1)}}),_M.apply(this,arguments)}function Bk(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=(0,pe.Z)(function*(n,e,t){const r=qe(n),i=[],a=[];for(const c of e){let p;const _=r.rc.get(c);if(_&&0!==_.length){p=yield P_(r.localStore,Vi(_[0]));for(const b of _){const I=r.ic.get(b),x=yield YF(r,I);x.snapshot&&a.push(x.snapshot)}}else{const b=yield mk(r.localStore,c);p=yield P_(r.localStore,b),yield JA(r,jk(b),c,!1,p.resumeToken)}i.push(p)}return r.sc.Wo(a),i}),yM.apply(this,arguments)}function jk(n){return AD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eL(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function tL(n,e,t,r){return vM.apply(this,arguments)}function vM(){return vM=(0,pe.Z)(function*(n,e,t,r){const i=qe(n);if(i.dc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield _k(i.localStore,Ls(a[0])),p=T_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Lr.EMPTY_BYTE_STRING);yield Qu(i,c,p);break}case"rejected":yield F_(i.localStore,e,!0),$_(i,e,r);break;default:Je()}}),vM.apply(this,arguments)}function nL(n,e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,pe.Z)(function*(n,e,t){const r=bM(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const a=yield mk(r.localStore,i),c=yield P_(r.localStore,a);yield JA(r,jk(a),c.targetId,!1,c.resumeToken),mC(r.remoteStore,c)}for(const i of t)r.rc.has(i)&&(yield F_(r.localStore,i,!1).then(()=>{f0(r.remoteStore,i),$_(r,i)}).catch(qa))}}),wM.apply(this,arguments)}function bM(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$F.bind(null,e),e.sc.Wo=OF.bind(null,e.eventManager),e.sc.wc=NF.bind(null,e.eventManager),e}function EM(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zF.bind(null,e),e}class Hk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.yt=d0(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return hk(this.persistence,new dk,e.initialUser,this.yt)}yc(e){return new ck(uC.Bs,this.yt)}gc(e){return new bk}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $k extends Hk{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield EM(r.Ac.syncEngine),yield V_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return hk(this.persistence,new dk,e.initialUser,this.yt)}Tc(e,t){return new q1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new aD(t,this.persistence);return new oD(e.asyncQueue,r)}yc(e){const t=mA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new gA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Dk(),gC(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new bk}}class iL extends $k{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof IA&&(r.sharedClientState.syncEngine={Fr:XF.bind(null,i),$r:tL.bind(null,i),Br:nL.bind(null,i),vi:eL.bind(null,i),Mr:QF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,pe.Z)(function*(c){yield function JF(n,e){return _M.apply(this,arguments)}(r.Ac.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=Dk();if(!IA.C(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=mA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class DM{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Vk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=ZF.bind(null,r.syncEngine),yield $A(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kF}createDatastore(e){const t=d0(e.databaseInfo.databaseId),r=new gF(e.databaseInfo);return new yF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>Vk(this.syncEngine,p,0),c=Ek.C()?new Ek:new hF,new bF(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,p,_,b){const I=new UF(r,i,a,c,p,_);return b&&(I.dc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=qe(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield L_(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function CM(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gk(n,e,t,r){if(!0===e&&!0===r)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zk(n){if(!$e.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qk(n){if($e.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Je()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yC(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wk(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const Zk=new Map;class Kk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class p0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xT;switch(t.type){case"gapi":return new tD(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zk.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),Zk.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class Ui{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class hc extends Ui{constructor(e,t,r){super(e,t,Ya(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new $e(e))}withConverter(e){return new hc(this.firestore,e,this._path)}}function Qk(n,e,...t){if(n=(0,rn.m9)(n),CM("collection","path",e),n instanceof p0){const r=Qt.fromString(e,...t);return qk(r),new hc(n,null,r)}{if(!(n instanceof sr||n instanceof hc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return qk(r),new hc(n.firestore,null,r)}}function vC(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=rD.R()),CM("doc","path",e),n instanceof p0){const r=Qt.fromString(e,...t);return zk(r),new sr(n,null,new $e(r))}{if(!(n instanceof sr||n instanceof hc))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return zk(r),new sr(n.firestore,n instanceof hc?n.converter:null,new $e(r))}}function Xk(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof sr||n instanceof hc)&&(e instanceof sr||e instanceof hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function IM(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof Ui&&e instanceof Ui&&n.firestore===e.firestore&&Xp(n._query,e._query)&&n.converter===e.converter}function Jk(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oL{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new Fr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new PF(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,pe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class cL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pe.Z)(function*(a,c){const p=qe(a),_=rg(p.yt)+"/documents",b={documents:c.map(G=>x_(p.yt,G))},I=yield p._o("BatchGetDocuments",_,b,c.length),x=new Map;I.forEach(G=>{const X=function YD(n,e){return"found"in e?function(t,r){ct(!!r.found);const i=Ja(t,r.found.name),a=Jn(r.found.updateTime),c=r.found.createTime?Jn(r.found.createTime):bt.min(),p=new Yr({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(i,a,c,p)}(n,e):"missing"in e?function(t,r){ct(!!r.missing),ct(!!r.readTime);const i=Ja(t,r.missing),a=Jn(r.readTime);return Fn.newNoDocument(i,a)}(n,e):Je()}(p.yt,G);x.set(X.key.toString(),X)});const L=[];return c.forEach(G=>{const X=x.get(G.toString());ct(!!X),L.push(X)}),L}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=$e.fromPath(i);e.mutations.push(new BD(a,e.precondition(a)))}),yield(r=(0,pe.Z)(function*(i,a){const c=qe(i),p=rg(c.yt)+"/documents",_={writes:a.map(b=>ig(c.yt,b))};yield c.ao("Commit",p,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Je();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?$n.exists(!1):$n.updateTime(t):$n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $n.updateTime(t)}return $n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uL{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new SA(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,pe.Z)(function*(){const t=new cL(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Ih(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hw(t)}return!1}}class dL{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=rD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,pe.Z)(function*(p){Ne("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=B_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function eO(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pe.Z)(function*(a){r.isEqual(a)||(yield fk(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SM.apply(this,arguments)}function tO(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AM(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>xk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>xk(e.remoteStore,a)),n.onlineComponents=e}),TM.apply(this,arguments)}function AM(n){return MM.apply(this,arguments)}function MM(){return MM=(0,pe.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield eO(n,new Hk)),n.offlineComponents}),MM.apply(this,arguments)}function bC(n){return xM.apply(this,arguments)}function xM(){return xM=(0,pe.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield tO(n,new DM)),n.onlineComponents}),xM.apply(this,arguments)}function nO(n){return AM(n).then(e=>e.persistence)}function EC(n){return AM(n).then(e=>e.localStore)}function RM(n){return bC(n).then(e=>e.remoteStore)}function kM(n){return bC(n).then(e=>e.syncEngine)}function G_(n){return OM.apply(this,arguments)}function OM(){return OM=(0,pe.Z)(function*(n){const e=yield bC(n),t=e.eventManager;return t.onListen=BF.bind(null,e.syncEngine),t.onUnlisten=jF.bind(null,e.syncEngine),t}),OM.apply(this,arguments)}function iO(n,e,t={}){const r=new Fr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,a,c,p,_){const b=new wC({next:x=>{a.enqueueAndForget(()=>ZA(i,I));const L=x.docs.has(c);!L&&x.fromCache?_.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&"server"===p.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new QA(Ya(c.path),b,{includeMetadataChanges:!0,Nu:!0});return qA(i,I)}(yield G_(n),n.asyncQueue,e,t,r)})),r.promise}function sO(n,e,t={}){const r=new Fr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,a,c,p,_){const b=new wC({next:x=>{a.enqueueAndForget(()=>ZA(i,I)),x.fromCache&&"server"===p.source?_.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new QA(c,b,{includeMetadataChanges:!0,Nu:!0});return qA(i,I)}(yield G_(n),n.asyncQueue,e,t,r)})),r.promise}class vL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new SA(this,"async_queue_retry"),this.Wc=()=>{const t=gC();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=gC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=gC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Fr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!rc(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=zA.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.Uc.push(i),i}zc(){this.Kc&&Je()}verifyOperationInProgress(){}Xc(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function NM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class wL{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class or extends p0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new vL,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oO(this),this._firestoreClient.terminate()}}function Vr(n){return n._firestoreClient||oO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function oO(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lD(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new dL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function aO(n,e,t){const r=new Fr;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield eO(n,t),yield tO(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(c=a).name?c.code===de.FAILED_PRECONDITION||c.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Bu("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var c})).then(()=>r.promise)}function lO(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fc(Lr.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fc(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._methodName=e}}class DC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const xL=/^__.*__$/;class RL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rh(e,this.data,t,this.fieldTransforms)}}class cO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class CC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new CC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return TC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(uO(this.sa)&&xL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class kL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||d0(e)}da(e,t,r,i=!1){return new CC({sa:e,methodName:t,fa:r,path:Xn.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function fg(n){const e=n._freezeSettings(),t=d0(n._databaseId);return new kL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IC(n,e,t,r,i,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,i);VM("Data must be an object, but it was:",c,r);const p=fO(r,c);let _,b;if(a.merge)_=new Fs(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const L=UM(e,x,t);if(!c.contains(L))throw new Re(de.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);gO(I,L)||I.push(L)}_=new Fs(I),b=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,b=c.fieldTransforms;return new RL(new Yr(p),_,b)}class g0 extends hg{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof g0}}function dO(n,e,t){return new CC({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class PM extends hg{_toFieldTransform(e){return new Jp(e.path,new cc)}isEqual(e){return e instanceof PM}}class OL extends hg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dO(this,e,!0),r=this._a.map(a=>pg(a,t)),i=new uc(r);return new Jp(e.path,i)}isEqual(e){return this===e}}class NL extends hg{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=dO(this,e,!0),r=this._a.map(a=>pg(a,t)),i=new qu(r);return new Jp(e.path,i)}isEqual(e){return this===e}}class PL extends hg{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Wu(e.yt,ws(e.yt,this.wa));return new Jp(e.path,t)}isEqual(e){return this===e}}function FM(n,e,t,r){const i=n.da(1,e,t);VM("Data must be an object, but it was:",i,r);const a=[],c=Yr.empty();sc(r,(_,b)=>{const I=SC(e,_,t);b=(0,rn.m9)(b);const x=i.ca(I);if(b instanceof g0)a.push(I);else{const L=pg(b,x);null!=L&&(a.push(I),c.set(I,L))}});const p=new Fs(a);return new cO(c,p,i.fieldTransforms)}function LM(n,e,t,r,i,a){const c=n.da(1,e,t),p=[UM(e,r,t)],_=[i];if(a.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)p.push(UM(e,a[L])),_.push(a[L+1]);const b=[],I=Yr.empty();for(let L=p.length-1;L>=0;--L)if(!gO(b,p[L])){const G=p[L];let X=_[L];X=(0,rn.m9)(X);const oe=c.ca(G);if(X instanceof g0)b.push(G);else{const _e=pg(X,oe);null!=_e&&(b.push(G),I.set(G,_e))}}const x=new Fs(b);return new cO(I,x,c.fieldTransforms)}function hO(n,e,t,r=!1){return pg(t,n.da(r?4:3,e))}function pg(n,e){if(pO(n=(0,rn.m9)(n)))return VM("Unsupported field value:",e,n),fO(n,e);if(n instanceof hg)return function(t,r){if(!uO(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let p=pg(c,r.aa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ws(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Qn.fromDate(t);return{timestampValue:kh(r.yt,i)}}if(t instanceof Qn){const i=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:kh(r.yt,i)}}if(t instanceof DC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fc)return{bytesValue:M_(r.yt,t._byteString)};if(t instanceof sr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qD(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${yC(t)}`)}(n,e)}function fO(n,e){const t={};return cD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(n,(r,i)=>{const a=pg(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function pO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof DC||n instanceof fc||n instanceof sr||n instanceof hg)}function VM(n,e,t){if(!pO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function UM(n,e,t){if((e=(0,rn.m9)(e))instanceof Xu)return e._internalPath;if("string"==typeof e)return SC(n,e);throw TC("Field path arguments must be of type string or ",n,!1,void 0,t)}const FL=new RegExp("[~\\*/\\[\\]]");function SC(n,e,t){if(e.search(FL)>=0)throw TC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xu(...e.split("."))._internalPath}catch{throw TC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function TC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Re(de.INVALID_ARGUMENT,p+n+_)}function gO(n,e){return n.some(t=>t.isEqual(e))}class m0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new LL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class LL extends m0{data(){return super.data()}}function AC(n,e){return"string"==typeof e?SC(n,e):e instanceof Xu?e._internalPath:e._delegate._internalPath}function mO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BM{}class _0 extends BM{}function Uh(n,e,...t){let r=[];e instanceof BM&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof z_).length,c=i.filter(p=>p instanceof y0).length;if(a>1||a>0&&c>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class y0 extends _0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new y0(e,t,r)}_apply(e){const t=this._parse(e);return wO(e._query,t),new Ui(e.firestore,e.converter,Rw(e._query,t))}_parse(e){const t=fg(e.firestore);return function(i,a,c,p,_,b,I){let x;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){vO(I,b);const L=[];for(const G of I)L.push(yO(p,i,G));x={arrayValue:{values:L}}}else x=yO(p,i,I)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||vO(I,b),x=hO(c,"where",I,"in"===b||"not-in"===b);return tn.create(_,b,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class z_ extends BM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new z_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:_n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const p of c)wO(a,p),a=Rw(a,p)}(e._query,t),new Ui(e.firestore,e.converter,Rw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jM extends _0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jM(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Kp(i,a);return function(p,_){if(null===xD(p)){const b=xw(p);null!==b&&bO(0,b,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ka(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class MC extends _0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new MC(e,t,r)}_apply(e){return new Ui(e.firestore,e.converter,kw(e._query,this._limit,this._limitType))}}class xC extends _0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new xC(e,t,r)}_apply(e){const t=_O(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,(i=t,new Ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class RC extends _0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new RC(e,t,r)}_apply(e){const t=_O(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,(i=t,new Ka((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function _O(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof m0)return function(i,a,c,p,_){if(!p)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const I of zu(i))if(I.field.isKeyField())b.push(Jo(a,p.key));else{const x=p.data.field(I.field);if(m_(x))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}b.push(x)}return new Gu(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=fg(n.firestore);return function(a,c,p,_,b,I){const x=a.explicitOrderBy;if(b.length>x.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<b.length;G++){const X=b[G];if(x[G].field.isKeyField()){if("string"!=typeof X)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof X}`);if(!RD(a)&&-1!==X.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${X}' contains a slash.`);const oe=a.path.child(Qt.fromString(X));if(!$e.isDocumentKey(oe))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${oe}' is not because it contains an odd number of segments.`);const _e=new $e(oe);L.push(Jo(c,_e))}else{const oe=hO(p,_,X);L.push(oe)}}return new Gu(L,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function yO(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RD(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!$e.isDocumentKey(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jo(n,new $e(r))}if(t instanceof sr)return Jo(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yC(t)}.`)}function vO(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wO(n,e){if(e.isInequality()){const r=xw(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=xD(n);null!==a&&bO(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bO(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HM{convertValue(e,t="none"){switch(ac(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Je()}}convertObject(e,t){const r={};return sc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new DC(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zp(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);ct(tA(r));const i=new ic(r.get(1),r.get(3)),a=new $e(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function kC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qL extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class gg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends m0{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new v0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(AC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class v0 extends Ju{data(e={}){return super.data(e)}}class Bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new v0(this._firestore,this._userDataWriter,r.key,r,new gg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new v0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new gg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new v0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new gg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:WL(c.type),doc:p,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function DO(n,e){return n instanceof Ju&&e instanceof Ju?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&IM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class jh extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function CO(n,e,t){n=ln(n,sr);const r=ln(n.firestore,or),i=kC(n.converter,e,t);return q_(r,[IC(fg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,$n.none())])}function IO(n,e,t,...r){n=ln(n,sr);const i=ln(n.firestore,or),a=fg(i);let c;return c="string"==typeof(e=(0,rn.m9)(e))||e instanceof Xu?LM(a,"updateDoc",n._key,e,t,r):FM(a,"updateDoc",n._key,e),q_(i,[c.toMutation(n._key,$n.exists(!0))])}function SO(n,...e){var t,r,i;n=(0,rn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||NM(e[c])||(a=e[c],c++);const p={includeMetadataChanges:a.includeMetadataChanges};if(NM(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,b,I;if(n instanceof sr)b=ln(n.firestore,or),I=Ya(n._key.path),_={next:x=>{e[c]&&e[c]($M(b,n,x))},error:e[c+1],complete:e[c+2]};else{const x=ln(n,Ui);b=ln(x.firestore,or),I=x._query;const L=new jh(b);_={next:G=>{e[c]&&e[c](new Bh(b,L,x,G))},error:e[c+1],complete:e[c+2]},mO(n._query)}return function(x,L,G,X){const oe=new wC(X),_e=new QA(L,oe,G);return x.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return qA(yield G_(x),_e)})),()=>{oe.bc(),x.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return ZA(yield G_(x),_e)}))}}(Vr(b),I,p,_)}function q_(n,e){return function(t,r){const i=new Fr;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function HF(n,e,t){return nM.apply(this,arguments)}(yield kM(t),r,i)})),i.promise}(Vr(n),e)}function $M(n,e,t){const r=t.docs.get(e._key),i=new jh(n);return new Ju(n,i,e._key,r,new gg(t.hasPendingWrites,t.fromCache),e.converter)}const rV={maxAttempts:5};class TO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fg(e)}set(e,t,r){this._verifyNotCommitted();const i=Hh(e,this._firestore),a=kC(i.converter,t,r),c=IC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,$n.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,rn.m9)(t))||t instanceof Xu?LM(this._dataReader,"WriteBatch.update",a._key,t,r,i):FM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,$n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hh(e,this._firestore);return this._mutations=this._mutations.concat(new Zu(t._key,$n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class iV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=fg(e)}get(e){const t=Hh(e,this._firestore),r=new qL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Je();const a=i[0];if(a.isFoundDocument())return new m0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new m0(this._firestore,r,t._key,null,t.converter);throw Je()})}set(e,t,r){const i=Hh(e,this._firestore),a=kC(i.converter,t,r),c=IC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Hh(e,this._firestore);let c;return c="string"==typeof(t=(0,rn.m9)(t))||t instanceof Xu?LM(this._dataReader,"Transaction.update",a._key,t,r,i):FM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Hh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hh(e,this._firestore),r=new jh(this._firestore);return super.get(e).then(i=>new Ju(this._firestore,r,t._key,i._document,new gg(!1,!1),t.converter))}}function GM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function MO(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function xO(){if(!function Sh(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Vu=kl.SDK_VERSION,(0,kl._registerComponent)(new gf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new or(new Fp(t.getProvider("auth-internal")),new nD(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,kl.registerVersion)(XE,"3.8.0",n),(0,kl.registerVersion)(XE,"3.8.0","esm2017")}();class w0{constructor(e){this._delegate=e}static fromBase64String(e){return xO(),new w0(fc.fromBase64String(e))}static fromUint8Array(e){return MO(),new w0(fc.fromUint8Array(e))}toBase64(){return xO(),this._delegate.toBase64()}toUint8Array(){return MO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zM(n){return function fV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class pV{enableIndexedDbPersistence(e,t){return function EL(n,e){lO(n=ln(n,or));const t=Vr(n),r=n._freezeSettings(),i=new DM;return aO(t,i,new $k(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function DL(n){lO(n=ln(n,or));const e=Vr(n),t=n._freezeSettings(),r=new DM;return aO(e,r,new iL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function CL(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!vs.C())return Promise.resolve();const i=r+"main";yield vs.delete(i)}),function(r){return t.apply(this,arguments)})(mA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class RO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ic||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Bu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Yk(n,e,t,r={}){var i;const a=(n=ln(n,p0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Bu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Kr.MOCK_USER;else{c=(0,rn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kr(_)}n._authCredentials=new RT(new JE(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function SL(n){return function hL(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield nO(n),t=yield RM(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),h0(i)}(t)}))}(Vr(n=ln(n,or)))}(this._delegate)}disableNetwork(){return function TL(n){return function fL(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield nO(n),t=yield RM(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(i){const a=qe(i);a._u.add(0),yield L_(a),a.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Vr(n=ln(n,or)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Gk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function IL(n){return function(e){const t=new Fr;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function qF(n,e){return aM.apply(this,arguments)}(yield kM(e),t)})),t.promise}(Vr(n=ln(n,or)))}(this._delegate)}onSnapshotsInSync(e){return function nV(n,e){return function mL(n,e){const t=new wC(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield G_(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield G_(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}(Vr(n=ln(n,or)),NM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new W_(this,Qk(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,vC(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Es(this,function sL(n,e){if(n=ln(n,p0),CM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(n,null,(t=e,new Ka(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sV(n,e,t){n=ln(n,or);const r=Object.assign(Object.assign({},rV),t);return function(i){if(i.maxAttempts<1)throw new Re(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const p=new Fr;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const _=yield function rO(n){return bC(n).then(e=>e.datastore)}(i);new uL(i.asyncQueue,_,c,a,p).run()})),p.promise}(Vr(n),i=>e(new iV(n,i)),r)}(this._delegate,t=>e(new kO(this,t)))}batch(){return Vr(this._delegate),new OO(new TO(this._delegate,e=>q_(this._delegate,e)))}loadBundle(e){return function AL(n,e){const t=Vr(n=ln(n,or)),r=new wL;return function _L(n,e,t,r){const i=function(a,c){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return Jk(_,b);if(_ instanceof ArrayBuffer)return Jk(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new oL(_,c);var _}(t,d0(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function rL(n,e,t){const r=qe(n);var i;(i=(0,pe.Z)(function*(a,c,p){try{const _=yield c.getMetadata();if(yield function(L,G){const X=qe(L),oe=Jn(G.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",_e=>X.Ns.getBundleMetadata(_e,G.id)).then(_e=>!!_e&&_e.createTime.compareTo(oe)>=0)}(a.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(Ok(_));const b=new FF(_,a.localStore,c.yt);let I=yield c.mc();for(;I;){const L=yield b.Fu(I);L&&p._updateProgress(L),I=yield c.mc()}const x=yield b.complete();return yield Qu(a,x.Lu,void 0),yield function(L,G){const X=qe(L);return X.persistence.runTransaction("Save bundle","readwrite",oe=>X.Ns.saveBundleMetadata(oe,G))}(a.localStore,_),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(_){return Bu("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var L}),function(a,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ML(n,e){return function yL(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield EC(n),e)}))}(Vr(n=ln(n,or)),e).then(t=>t?new Ui(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Es(this,t):null)}}class OC extends HM{constructor(e){super(),this.firestore=e}convertBytes(e){return new w0(new fc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class kO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}get(e){const t=_g(e);return this._delegate.get(t).then(r=>new b0(this._firestore,new Ju(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=_g(e);return r?(GM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=_g(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}}class OO{constructor(e){this._delegate=e}set(e,t,r){const i=_g(e);return r?(GM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=_g(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=_g(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new v0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=mg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new mg(e,new OC(e),t),i.set(t,a)),a}}mg.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new sr(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new ra(t,new sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new W_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new W_(this.firestore,Qk(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof sr&&Xk(this._delegate,e)}set(e,t){t=GM("DocumentReference.set",t);try{return t?CO(this._delegate,e,t):CO(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?IO(this._delegate,e):IO(this._delegate,e,t,...r)}catch(i){throw bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function eV(n){return q_(ln(n.firestore,or),[new Zu(n._key,$n.none())])}(this._delegate)}onSnapshot(...e){const t=NO(e),r=PO(e,i=>new b0(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return SO(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function KL(n){n=ln(n,sr);const e=ln(n.firestore,or),t=Vr(e),r=new jh(e);return function pL(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,a,c){try{const p=yield function(_,b){const I=qe(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,b))}(i,a);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=B_(p,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield EC(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ju(e,r,n._key,i,new gg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function YL(n){n=ln(n,sr);const e=ln(n.firestore,or);return iO(Vr(e),n._key,{source:"server"}).then(t=>$M(e,n,t))}(this._delegate):function ZL(n){n=ln(n,sr);const e=ln(n.firestore,or);return iO(Vr(e),n._key).then(t=>$M(e,n,t))}(this._delegate),t.then(r=>new b0(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function NO(n){for(const e of n)if("object"==typeof e&&!zM(e))return e;return{}}function PO(n,e){var t,r;let i;return i=zM(n[0])?n[0]:zM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class b0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DO(this._delegate,e._delegate)}}class E0 extends b0{data(e){const t=this._delegate.data(e);return function MT(n,e){n||Je()}(void 0!==t),t}}class Es{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new OC(e)}where(e,t,r){try{return new Es(this.firestore,Uh(this._delegate,function VL(n,e,t){const r=e,i=AC("where",n);return y0._create(i,r,t)}(e,t,r)))}catch(i){throw bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Es(this.firestore,Uh(this._delegate,function UL(n,e="asc"){const t=e,r=AC("orderBy",n);return jM._create(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Es(this.firestore,Uh(this._delegate,function BL(n){return Wk("limit",n),MC._create("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Es(this.firestore,Uh(this._delegate,function jL(n){return Wk("limitToLast",n),MC._create("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Es(this.firestore,Uh(this._delegate,function HL(...n){return xC._create("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Es(this.firestore,Uh(this._delegate,function $L(...n){return xC._create("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Es(this.firestore,Uh(this._delegate,function GL(...n){return RC._create("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Es(this.firestore,Uh(this._delegate,function zL(...n){return RC._create("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return IM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function XL(n){n=ln(n,Ui);const e=ln(n.firestore,or),t=Vr(e),r=new jh(e);return function gL(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,a,c){try{const p=yield hC(i,a,!0),_=new Fk(a,p.Hi),b=_.Wu(p.documents),I=_.applyChanges(b,!1);c.resolve(I.snapshot)}catch(p){const _=B_(p,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield EC(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Bh(e,r,n,i))}(this._delegate):"server"===e?.source?function JL(n){n=ln(n,Ui);const e=ln(n.firestore,or),t=Vr(e),r=new jh(e);return sO(t,n._query,{source:"server"}).then(i=>new Bh(e,r,n,i))}(this._delegate):function QL(n){n=ln(n,Ui);const e=ln(n.firestore,or),t=Vr(e),r=new jh(e);return mO(n._query),sO(t,n._query).then(i=>new Bh(e,r,n,i))}(this._delegate),t.then(r=>new qM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=NO(e),r=PO(e,i=>new qM(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return SO(this._delegate,t,r)}withConverter(e){return new Es(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}class mV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new E0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Es(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new E0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new E0(this._firestore,r))})}isEqual(e){return DO(this._delegate,e._delegate)}}class W_ extends Es{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?vC(this._delegate):vC(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function tV(n,e){const t=ln(n.firestore,or),r=vC(n),i=kC(n.converter,e);return q_(t,[IC(fg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return Xk(this._delegate,e._delegate)}withConverter(e){return new W_(this.firestore,this._delegate.withConverter(e?mg.getInstance(this.firestore,e):null))}}function _g(n){return ln(n,sr)}class WM{constructor(...e){this._delegate=new Xu(...e)}static documentId(){return new WM(Xn.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof Xu&&this._delegate._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aV(){return new PM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new yg(e)}static delete(){const e=function oV(){return new g0("deleteField")}();return e._methodName="FieldValue.delete",new yg(e)}static arrayUnion(...e){const t=function lV(...n){return new OL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new yg(t)}static arrayRemove(...e){const t=function cV(...n){return new NL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new yg(t)}static increment(e){const t=function uV(n){return new PL("increment",n)}(e);return t._methodName="FieldValue.increment",new yg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _V={Firestore:RO,GeoPoint:DC,Timestamp:Qn,Blob:w0,Transaction:kO,WriteBatch:OO,DocumentReference:ra,DocumentSnapshot:b0,Query:Es,QueryDocumentSnapshot:E0,QuerySnapshot:qM,CollectionReference:W_,FieldPath:WM,FieldValue:yg,setLogLevel:function gV(n){!function AT(n){Uu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function FO(n,e){return function wV(n,e=cp.z){return new bn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function ZM(n,e){return FO(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function NC(n,e){return ZM(n,e).pipe(Xd(void 0),Mm(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(I=>I.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(I=>I.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),a}))}function LO(n,e,t){return NC(n,t).pipe(Nf((r,i)=>function EV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function DV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Tv(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function KM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function vV(n){(function yV(n,e){n.INTERNAL.registerComponent(new gf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},_V)))})(n,(e,t)=>new RO(e,t,new pV)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(iE.Z);class UO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=NC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Xd(void 0),Mm(),ee(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VO(e);return LO(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return ZM(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),jn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(jn.iC)}add(e){return this.ref.add(e)}doc(e){return new BO(this.ref.doc(e),this.afs)}}class BO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=jO(r,t);return new UO(i,a,this.afs)}snapshotChanges(){return function bV(n,e){return FO(n,e).pipe(Xd(void 0),Mm(),(0,wt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(jn.iC)}}class CV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?NC(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ee(t=>t.length>0),jn.iC):NC(this.query,this.afs.schedulers.outsideAngular).pipe(jn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Nf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VO(e);return LO(this.query,t,this.afs.schedulers.outsideAngular).pipe(jn.iC)}valueChanges(e={}){return ZM(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),jn.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(jn.iC)}}const IV=new d.OlP("angularfire2.enableFirestorePersistence"),SV=new d.OlP("angularfire2.firestore.persistenceSettings"),TV=new d.OlP("angularfire2.firestore.settings"),AV=new d.OlP("angularfire2.firestore.use-emulator");function jO(n,e=(t=>t)){return{query:e(n),ref:n}}let MV=(()=>{class n{constructor(t,r,i,a,c,p,_,b,I,x,L,G,X,oe,_e,Ke,ut){this.schedulers=_;const gt=(0,wn.on)(t,p,r),dt=I;x&&Qi(gt,p,L,X,oe,_e,G,Ke),[this.firestore,this.persistenceEnabled$]=(0,wn.cc)(`${gt.name}.firestore`,"AngularFirestore",gt.name,()=>{const At=p.runOutsideAngular(()=>gt.firestore());if(a&&At.settings(a),dt&&At.useEmulator(...dt),i&&!Ic(c)){const Ot=()=>{try{return(0,pn.D)(At.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(un){return typeof console<"u"&&console.warn(un),rt(!1)}};return[At,p.runOutsideAngular(Ot)]}return[At,rt(!1)]},[a,dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=jO(i,r),p=this.schedulers.ngZone.run(()=>a);return new UO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new CV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new BO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wn.Dh),d.LFG(wn.xv,8),d.LFG(IV,8),d.LFG(TV,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(jn.HU),d.LFG(SV,8),d.LFG(AV,8),d.LFG(Ul,8),d.LFG(ge,8),d.LFG(He,8),d.LFG(Xe,8),d.LFG(It,8),d.LFG(pt,8),d.LFG(cr,8),d.LFG(du,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class vg{constructor(e){this.angularFirestore=e}getEntryDoc(e){return this.angularFirestore.collection("entries-collection").doc(e).valueChanges()}getentrylist(){return this.angularFirestore.collection("entries-collection").snapshotChanges()}createentrey(e){return new Promise((t,r)=>{this.angularFirestore.collection("entries-collection").add(e).then(i=>{console.log({entry:e}),console.log(i)},i=>r(i))})}deleteentry(e){return this.angularFirestore.collection("entries-collection").doc(e.id).delete()}updateentry(e,t){return this.angularFirestore.collection("entries-collection").doc(t).update({date:e.date,client:e.client,sip:e.SIP,situation:e.Situation,commentaire:e.Commentaire})}}vg.\u0275fac=function(e){return new(e||vg)(d.LFG(MV))},vg.\u0275prov=d.Yz7({token:vg,factory:vg.\u0275fac,providedIn:"root"});let HO=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),wg=(()=>{class n extends HO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const pc=new d.OlP("NgValueAccessor"),kV={provide:pc,useExisting:(0,d.Gpc)(()=>PC),multi:!0},NV=new d.OlP("CompositionEventMode");let PC=(()=>{class n extends HO{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OV(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(NV,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([kV]),d.qOj]}),n})();const rs=new d.OlP("NgValidators"),Gh=new d.OlP("NgAsyncValidators");function WO(n){return function $h(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function FC(n){return null}function JO(n){return null!=n}function eN(n){return(0,d.QGY)(n)?(0,pn.D)(n):n}function tN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function nN(n,e){return e.map(t=>t(n))}function rN(n){return n.map(e=>function LV(n){return!n.validate}(e)?e:t=>e.validate(t))}function YM(n){return null!=n?function iN(n){if(!n)return null;const e=n.filter(JO);return 0==e.length?null:function(t){return tN(nN(t,e))}}(rN(n)):null}function QM(n){return null!=n?function sN(n){if(!n)return null;const e=n.filter(JO);return 0==e.length?null:function(t){return function xV(...n){const e=(0,Ki.jO)(n),{args:t,keys:r}=xf(n),i=new bn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const p=new Array(c);let _=c,b=c;for(let I=0;I<c;I++){let x=!1;(0,ko.Xf)(t[I]).subscribe((0,Cn.x)(a,L=>{x||(x=!0,b--),p[I]=L},()=>_--,void 0,()=>{(!_||!x)&&(b||a.next(r?BI(r,p):p),a.complete())}))}});return e?i.pipe(fu(e)):i}(nN(t,e).map(eN)).pipe((0,wt.U)(tN))}}(rN(n)):null}function oN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aN(n){return n._rawValidators}function lN(n){return n._rawAsyncValidators}function XM(n){return n?Array.isArray(n)?n:[n]:[]}function LC(n,e){return Array.isArray(n)?n.includes(e):n===e}function cN(n,e){const t=XM(e);return XM(n).forEach(i=>{LC(t,i)||t.push(i)}),t}function uN(n,e){return XM(e).filter(t=>!LC(n,t))}class dN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=YM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ds extends dN{get formDirective(){return null}get path(){return null}}class zh extends dN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fN=(()=>{class n extends hN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(zh,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),pN=(()=>{class n extends hN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ds,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const D0="VALID",UC="INVALID",Z_="PENDING",C0="DISABLED";function nx(n){return(BC(n)?n.validators:n)||null}function rx(n,e){return(BC(e)?e.asyncValidators:n)||null}function BC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function mN(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")}function _N(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})}class jC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===D0}get invalid(){return this.status===UC}get pending(){return this.status==Z_}get disabled(){return this.status===C0}get enabled(){return this.status!==C0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uN(e,this._rawAsyncValidators))}hasValidator(e){return LC(this._rawValidators,e)}hasAsyncValidator(e){return LC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Z_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=C0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=D0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D0||this.status===Z_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?C0:D0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Z_,this._hasOwnPendingAsyncValidator=!0;const t=eN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?C0:this.errors?UC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Z_)?Z_:this._anyControlsHaveStatus(UC)?UC:D0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){BC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function GV(n){return Array.isArray(n)?YM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zV(n){return Array.isArray(n)?QM(n):n||null}(this._rawAsyncValidators)}}class I0 extends jC{constructor(e,t,r){super(nx(t),rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_N(this,0,e),Object.keys(e).forEach(r=>{mN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class yN extends I0{}const K_=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>HC}),HC="always";function S0(n,e,t=HC){ix(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function WV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vN(n,e)})}(n,e),function KV(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ZV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qV(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function GC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ix(n,e){const t=aN(n);null!==e.validator?n.setValidators(oN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=lN(n);null!==e.asyncValidator?n.setAsyncValidators(oN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zC(e._rawValidators,i),zC(e._rawAsyncValidators,i)}function qC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=aN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=lN(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return zC(e._rawValidators,r),zC(e._rawAsyncValidators,r),t}function vN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function DN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const A0=class extends jC{constructor(e=null,t,r){super(nx(t),rx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=DN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const cx=new d.OlP("NgModelWithFormControlWarning"),cU={provide:Ds,useExisting:(0,d.Gpc)(()=>WC)};let WC=(()=>{class n extends Ds{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return S0(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){GC(t.control||null,t,!1),function JV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function bN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(GC(r||null,t),(n=>n instanceof A0)(i)&&(S0(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function wN(n,e){ix(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function YV(n,e){return qC(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ix(this.form,this),this._oldForm&&qC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rs,10),d.Y36(Gh,10),d.Y36(K_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([cU]),d.qOj,d.TTD]}),n})();const hU={provide:zh,useExisting:(0,d.Gpc)(()=>hx)};let hx=(()=>{class n extends zh{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ax(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===PC?t=a:function XV(n){return Object.getPrototypeOf(n.constructor)===wg}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function ox(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function $C(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Ds,13),d.Y36(rs,10),d.Y36(Gh,10),d.Y36(pc,10),d.Y36(cx,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([hU]),d.qOj,d.TTD]}),n})();const fU={provide:pc,useExisting:(0,d.Gpc)(()=>ZC),multi:!0};function PN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ZC=(()=>{class n extends wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=PN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function pU(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([fU]),d.qOj]}),n})(),FN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(PN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ZC,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const gU={provide:pc,useExisting:(0,d.Gpc)(()=>fx),multi:!0};function LN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fx=(()=>{class n extends wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(a=>this._getOptionId(a));r=(a,c)=>{a._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,a)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],a=r.selectedOptions;if(void 0!==a){const c=a;for(let p=0;p<c.length;p++){const b=this._getOptionValue(c[p].value);i.push(b)}}else{const c=r.options;for(let p=0;p<c.length;p++){const _=c[p];if(_.selected){const b=this._getOptionValue(_.value);i.push(b)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function mU(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([gU]),d.qOj]}),n})(),VN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(LN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(fx,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),bg=(()=>{class n{constructor(){this._validator=FC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):FC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const vU={provide:rs,useExisting:(0,d.Gpc)(()=>KC),multi:!0};let KC=(()=>{class n extends bg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>WO}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([vU]),d.qOj]}),n})(),ZN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xN]}),n})(),IU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:K_,useValue:t.callSetDisabledState??HC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ZN]}),n})(),KN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:K_,useValue:t.callSetDisabledState??HC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ZN]}),n})();class YN extends jC{constructor(e,t,r){super(nx(t),rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_N(this,0,e),e.forEach((r,i)=>{mN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function QN(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let px,SU=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return QN(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new I0(i,a)}record(t,r=null){const i=this._reduceControls(t);return new yN(i,r)}control(t,r,i){let a={};return this.useNonNullable?(QN(r)?a=r:(a.validators=r,a.asyncValidators=i),new A0(t,{...a,nonNullable:!0})):new A0(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new YN(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof A0||t instanceof jC?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:KN}),n})();class Y_{constructor(e,t,r,i){this.entryservice=e,this.formBuilder=t,this.router=r,this.firebaseService=i,this.isLogout=new d.vpe,this.entryform=t.group({id:[""],date:[""],name:[""],client:[""],SIP:[],Situation:[""],Commentaire:[""]})}ngOnInit(){}logout(){this.firebaseService.logout(),this.isLogout.emit()}onSubmit(){this.entryservice.createentrey(this.entryform.value),this.router.navigate(["listentries"])}}Y_.\u0275fac=function(e){return new(e||Y_)(d.Y36(vg),d.Y36(SU),d.Y36(Hn),d.Y36(wi))},Y_.\u0275cmp=d.Xpm({type:Y_,selectors:[["app-home"]],outputs:{isLogout:"isLogout"},decls:56,vars:2,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"tab"],[2,"color","aliceblue"],["type","text","formControlName","name","required","","placeholder","Votre Nom",1,"inp",2,"width","199px"],["type","date","formControlName","date","required","",1,"inp",2,"width","199px"],["type","text","formControlName","client","required","","placeholder","Client Nom",1,"inp",2,"width","199px"],["type","text","formControlName","SIP","required","","placeholder","SIP",1,"inp",2,"width","199px"],["formControlName","Situation","required","",2,"width","199px","height","30px"],["rows","2","cols","22","formControlName","Commentaire"],["type","submit",3,"disabled"],["routerLink","loginpage",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(1,"table",1)(2,"tr")(3,"th")(4,"span",2),d._uU(5,"Tech: "),d.qZA()(),d.TgZ(6,"th"),d._UZ(7,"input",3),d.qZA()(),d.TgZ(8,"tr")(9,"th")(10,"span",2),d._uU(11,"Date: "),d.qZA()(),d.TgZ(12,"th"),d._UZ(13,"input",4),d.qZA()(),d.TgZ(14,"tr")(15,"th")(16,"span",2),d._uU(17,"Client: "),d.qZA()(),d.TgZ(18,"th"),d._UZ(19,"input",5),d.qZA()(),d.TgZ(20,"tr")(21,"th")(22,"span",2),d._uU(23,"SIP: "),d.qZA()(),d.TgZ(24,"th"),d._UZ(25,"input",6),d.qZA()(),d.TgZ(26,"tr")(27,"th")(28,"span",2),d._uU(29,"Situation :"),d.qZA()(),d.TgZ(30,"th")(31,"select",7),d._UZ(32,"option"),d.TgZ(33,"option"),d._uU(34,"RACCO"),d.qZA(),d.TgZ(35,"option"),d._uU(36,"RECCO"),d.qZA(),d.TgZ(37,"option"),d._uU(38,"SAV"),d.qZA(),d.TgZ(39,"option"),d._uU(40,"TRAVAUX"),d.qZA()()()(),d.TgZ(41,"tr")(42,"th")(43,"span",2),d._uU(44,"Commetaire"),d.qZA()(),d.TgZ(45,"th"),d._UZ(46,"textarea",8),d.qZA()(),d.TgZ(47,"tr"),d._UZ(48,"th")(49,"th"),d.TgZ(50,"th")(51,"button",9),d._uU(52,"Envoyez"),d.qZA()(),d.TgZ(53,"th")(54,"button",10),d.NdJ("click",function(){return t.logout()}),d._uU(55,"Logout"),d.qZA()()()()()),2&e&&(d.Q6J("formGroup",t.entryform),d.xp6(51),d.Q6J("disabled",!t.entryform.valid))},dependencies:[zo,AN,FN,VN,PC,ZC,fN,pN,KC,WC,hx],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#23242a}.tab[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:2px;border-radius:20px}.box[_ngcontent-%COMP%]{position:relative;width:380px;height:420px;background-color:#1c1c1c;border-radius:8px;overflow:hidden}.box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite}.box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite;animation-delay:-3s}@keyframes _ngcontent-%COMP%_animate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.form[_ngcontent-%COMP%]{position:absolute;inset:2px;border-radius:8px;background-color:#28292d;z-index:10;padding:50px 40px;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#45f3ff;font-weight:500;text-align:center;letter-spacing:.1em}.inputBox[_ngcontent-%COMP%]{position:relative;width:300px;margin-top:35px}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 0 10px;background:transparent;border:none;outline:none;color:#23242a;font-size:1em;letter-spacing:.05em;z-index:10}.inputBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;padding:20px 10px 10px;font-size:1em;color:#8f8f8f;pointer-events:none;letter-spacing:00.05em;transition:.5s}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{color:#45f3ff;transform:translate(0) translateY(-34px);font-size:.7em}.inputBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:2px;background:#45f3ff;border-radius:4px;transition:.5s;pointer-events:none}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ i[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{height:44px}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;font-size:.75em;color:#8f8f8f;text-decoration:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){color:#45f3ff}button[_ngcontent-%COMP%]{border:none;outline:none;background:#45f3ff;padding:11px 25px;width:100px;margin-top:10px;border-radius:4px;font-weight:600;cursor:pointer}#log[_ngcontent-%COMP%]{position:relative}']});try{px=typeof Intl<"u"&&Intl.v8BreakIterator}catch{px=!1}let M0,QC,Eg,gx,ed=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Cc(n){return n===gd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!px)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YC(n){return function TU(){if(null==M0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>M0=!0}))}finally{M0=M0||!1}return M0}()?n:!!n.capture}function x0(){if("object"!=typeof document||!document)return 0;if(null==QC){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),QC=0,0===n.scrollLeft&&(n.scrollLeft=1,QC=0===n.scrollLeft?1:2),n.remove()}return QC}function X_(n){return n.composedPath?n.composedPath()[0]:n.target}function JN(n){return ee((e,t)=>n<=t)}var UU=P(5032);function td(n){return(0,tr.e)((e,t)=>{(0,ko.Xf)(n).subscribe((0,Cn.x)(t,()=>t.complete(),UU.Z)),!t.closed&&e.subscribe(t)})}function qh(n){return null!=n&&"false"!=`${n}`}function eP(n){return Array.isArray(n)?n:[n]}function J_(n){return n instanceof d.SBq?n.nativeElement:n}const tP=new Set;let ey,HU=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $U(n){if(!tP.has(n))try{ey||(ey=document.createElement("style"),ey.setAttribute("type","text/css"),document.head.appendChild(ey)),ey.sheet&&(ey.sheet.insertRule(`@media ${n} {body{ }}`,0),tP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ed))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zU=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new an.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nP(eP(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=tm(nP(eP(t)).map(c=>this._registerQuery(c).observable));return a=kf(a.pipe(Ze(1)),a.pipe(JN(1),function jU(n,e=cp.z){return(0,tr.e)((t,r)=>{let i=null,a=null,c=null;const p=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function _(){const b=c+n,I=e.now();if(I<b)return i=this.schedule(void 0,b-I),void r.add(i);p()}t.subscribe((0,Cn.x)(r,b=>{a=b,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe((0,wt.U)(c=>{const p={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{p.matches=p.matches||_,p.breakpoints[b]=_}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new bn.y(c=>{const p=_=>this._zone.run(()=>c.next(_));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(Xd(r),(0,wt.U)(({matches:c})=>({query:t,matches:c})),td(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(HU),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function XC(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const iP="cdk-describedby-message",JC="cdk-describedby-host";let mx=0,ZU=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+mx++,this._document=t,this._id=(0,d.f3M)(d.AFp)+"-"+mx++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=_x(r,i);"string"!=typeof r?(sP(r,this._id),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=_x(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const c=this._messageRegistry.get(a);c&&0===c.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${JC}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(JC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");sP(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(_x(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=XC(t,"aria-describedby").filter(i=>0!=i.indexOf(iP));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function qU(n,e,t){const r=XC(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(JC,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function WU(n,e,t){const i=XC(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(JC)}_isElementDescribedByMessage(t,r){const i=XC(t,"aria-describedby"),a=this._messageRegistry.get(r),c=a&&a.messageElement.id;return!!c&&-1!=i.indexOf(c)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re),d.LFG(ed))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _x(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function sP(n,e){n.id||(n.id=`${iP}-${e}-${mx++}`)}function aP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function lP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const eB=new d.OlP("cdk-input-modality-detector-options"),tB={ignoreKeys:[18,17,224,91,16]},ty=YC({passive:!0,capture:!0});let nB=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Kn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(p=>p===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=X_(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aP(c)?"keyboard":"mouse"),this._mostRecentTarget=X_(c))},this._onTouchstart=c=>{lP(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=X_(c))},this._options={...tB,...a},this.modalityDetected=this._modality.pipe(JN(1)),this.modalityChanged=this.modalityDetected.pipe(Tv()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ty),i.addEventListener("mousedown",this._onMousedown,ty),i.addEventListener("touchstart",this._onTouchstart,ty)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ty),document.removeEventListener("mousedown",this._onMousedown,ty),document.removeEventListener("touchstart",this._onTouchstart,ty))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ed),d.LFG(d.R0b),d.LFG(re),d.LFG(eB,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iB=new d.OlP("cdk-focus-monitor-default-options"),eI=YC({passive:!0,capture:!0});let sB=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new an.x,this._rootNodeFocusAndBlurListener=p=>{for(let b=X_(p);b;b=b.parentElement)"focus"===p.type?this._onFocus(p,b):this._onBlur(p,b)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=J_(t);if(!this._platform.isBrowser||1!==i.nodeType)return rt(null);const a=function xU(n){if(function MU(){if(null==gx){const n=typeof document<"u"?document.head:null;gx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gx}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const p={checkChildren:r,subject:new an.x,rootNode:a};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=J_(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=J_(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=X_(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,eI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,eI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(td(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let c=0;c<a.length;c++)if(a[c].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ed),d.LFG(nB),d.LFG(re,8),d.LFG(iB,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uP="cdk-high-contrast-black-on-white",dP="cdk-high-contrast-white-on-black",yx="cdk-high-contrast-active";let oB=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,d.f3M)(zU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(yx,uP,dP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(yx,uP):2===r&&t.add(yx,dP)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ed),d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aB=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function lB(){return(0,d.f3M)(re)}}),cB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tI=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function uB(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?cB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(aB,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),dB=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),hB=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const pB=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function fB(){return!0}});let vx=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function RU(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oB),d.LFG(pB,8),d.LFG(re))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nI,nI]}),n})();function pP(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=qh(e)}}}function gB(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new bn.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}class _B{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gP=YC({passive:!0,capture:!0});class yB{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=X_(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,r,i){const a=this._events.get(t);if(a){const c=a.get(r);c?c.add(i):a.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,gP)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const a=i.get(t);!a||(a.delete(r),0===a.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,gP)))}}const mP={enterDuration:225,exitDuration:150},_P=YC({passive:!0,capture:!0}),yP=["mousedown","touchstart"],vP=["mouseup","mouseleave","touchend","touchcancel"];class rI{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=J_(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...mP,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function wB(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,_=t-i.top,b=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=p-c+"px",I.style.top=_-c+"px",I.style.height=2*c+"px",I.style.width=2*c+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(I);const x=window.getComputedStyle(I),G=x.transitionDuration,X="none"===x.transitionProperty||"0s"===G||"0s, 0s"===G||0===i.width&&0===i.height,oe=new _B(this,I,r,X);I.style.transform="scale3d(1, 1, 1)",oe.state=0,r.persistent||(this._mostRecentTransientRipple=oe);let _e=null;return!X&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ke=()=>this._finishRippleTransition(oe),ut=()=>this._destroyRipple(oe);I.addEventListener("transitionend",Ke),I.addEventListener("transitioncancel",ut),_e={onTransitionEnd:Ke,onTransitionCancel:ut}}),this._activeRipples.set(oe,_e),(X||!b)&&this._finishRippleTransition(oe),oe}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...mP,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=J_(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,yP.forEach(r=>{rI._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{vP.forEach(t=>{this._triggerElement.addEventListener(t,this,_P)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=aP(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(yP.forEach(t=>rI._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&vP.forEach(t=>e.removeEventListener(t,this,_P)))}}rI._eventManager=new yB;class wP{}class bB{}const nd="*";function ny(n,e){return{type:7,name:n,definitions:e,options:{}}}function rd(n,e=null){return{type:4,styles:e,timings:n}}function bP(n,e=null){return{type:2,steps:n,options:e}}function Ir(n){return{type:6,styles:n,offset:null}}function ia(n,e,t){return{type:0,name:n,styles:e,options:t}}function iI(n){return{type:5,steps:n}}function gc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function EB(n=null){return{type:9,options:n}}function DB(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function EP(n){Promise.resolve().then(n)}class k0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class DP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?EP(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const CB=["mat-sort-header",""];function IB(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",3),d.NdJ("@arrowPosition.start",function(){d.CHM(t);const i=d.oxw();return d.KtG(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){d.CHM(t);const i=d.oxw();return d.KtG(i._disableViewStateAnimation=!1)}),d._UZ(1,"div",4),d.TgZ(2,"div",5),d._UZ(3,"div",6)(4,"div",7)(5,"div",8),d.qZA()()}if(2&n){const t=d.oxw();d.Q6J("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),d.xp6(2),d.Q6J("@indicator",t._getArrowDirectionState()),d.xp6(1),d.Q6J("@leftPointer",t._getArrowDirectionState()),d.xp6(1),d.Q6J("@rightPointer",t._getArrowDirectionState())}}const SB=["*"],CP=new d.OlP("MAT_SORT_DEFAULT_OPTIONS"),TB=gB(pP(class{}));let bx=(()=>{class n extends TB{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new an.x,this.start="asc",this._direction="",this.sortChange=new d.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=qh(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=function AB(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),a=i.indexOf(this.direction)+1;return a>=i.length&&(a=0),i[a]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(CP,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[d.qOj,d.TTD]}),n})();const Wh=hB.ENTERING+" "+dB.STANDARD_CURVE,ry={indicator:ny("indicator",[ia("active-asc, asc",Ir({transform:"translateY(0px)"})),ia("active-desc, desc",Ir({transform:"translateY(10px)"})),gc("active-asc <=> active-desc",rd(Wh))]),leftPointer:ny("leftPointer",[ia("active-asc, asc",Ir({transform:"rotate(-45deg)"})),ia("active-desc, desc",Ir({transform:"rotate(45deg)"})),gc("active-asc <=> active-desc",rd(Wh))]),rightPointer:ny("rightPointer",[ia("active-asc, asc",Ir({transform:"rotate(45deg)"})),ia("active-desc, desc",Ir({transform:"rotate(-45deg)"})),gc("active-asc <=> active-desc",rd(Wh))]),arrowOpacity:ny("arrowOpacity",[ia("desc-to-active, asc-to-active, active",Ir({opacity:1})),ia("desc-to-hint, asc-to-hint, hint",Ir({opacity:.54})),ia("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Ir({opacity:0})),gc("* => asc, * => desc, * => active, * => hint, * => void",rd("0ms")),gc("* <=> *",rd(Wh))]),arrowPosition:ny("arrowPosition",[gc("* => desc-to-hint, * => desc-to-active",rd(Wh,iI([Ir({transform:"translateY(-25%)"}),Ir({transform:"translateY(0)"})]))),gc("* => hint-to-desc, * => active-to-desc",rd(Wh,iI([Ir({transform:"translateY(0)"}),Ir({transform:"translateY(25%)"})]))),gc("* => asc-to-hint, * => asc-to-active",rd(Wh,iI([Ir({transform:"translateY(25%)"}),Ir({transform:"translateY(0)"})]))),gc("* => hint-to-asc, * => active-to-asc",rd(Wh,iI([Ir({transform:"translateY(0)"}),Ir({transform:"translateY(-25%)"})]))),ia("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Ir({transform:"translateY(0)"})),ia("hint-to-desc, active-to-desc, desc",Ir({transform:"translateY(-25%)"})),ia("hint-to-asc, active-to-asc, asc",Ir({transform:"translateY(25%)"}))]),allowChildren:ny("allowChildren",[gc("* <=> *",[DB("@*",EB(),{optional:!0})])])};let sI=(()=>{class n{constructor(){this.changes=new an.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xB={provide:sI,deps:[[new d.FiY,new d.tp0,sI]],useFactory:function MB(n){return n||new sI}},RB=pP(class{});let kB=(()=>{class n extends RB{constructor(t,r,i,a,c,p,_,b){super(),this._intl=t,this._changeDetectorRef=r,this._sort=i,this._columnDef=a,this._focusMonitor=c,this._elementRef=p,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",b?.arrowPosition&&(this.arrowPosition=b?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=qh(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,xl.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(sI),d.Y36(d.sBO),d.Y36(bx,8),d.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),d.Y36(sB),d.Y36(d.SBq),d.Y36(ZU,8),d.Y36(CP,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r._handleClick()})("keydown",function(a){return r._handleKeydown(a)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(d.uIk("aria-sort",r._getAriaSortAttribute()),d.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[d.qOj],attrs:CB,ngContentSelectors:SB,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0)(1,"div",1),d.Hsn(2),d.qZA(),d.YNc(3,IB,6,6,"div",2),d.qZA()),2&t&&(d.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),d.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),d.xp6(3),d.Q6J("ngIf",r._renderArrow()))},dependencies:[Tn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[ry.indicator,ry.leftPointer,ry.rightPointer,ry.arrowOpacity,ry.arrowPosition,ry.allowChildren]},changeDetection:0}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[xB],imports:[ui,vx]}),n})();const NB=["empTbSort"];function PB(n,e){if(1&n&&(d.TgZ(0,"tr")(1,"th",7),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.qZA()()),2&n){const t=e.$implicit,r=e.index;d.xp6(2),d.Oqu(r+1),d.xp6(2),d.Oqu(t.name),d.xp6(2),d.Oqu(t.date),d.xp6(2),d.Oqu(t.client),d.xp6(2),d.Oqu(t.SIP),d.xp6(2),d.Oqu(t.Situation),d.xp6(2),d.Oqu(t.Commentaire)}}class O0{constructor(e,t){this.entryservice=e,this.firebaseService=t,this.isSignedIn=!1,this.isLogout=new d.vpe,this.empTbSort=new bx}ngOnInit(){this.entryservice.getentrylist().subscribe(e=>{this.Entrys=e.map(t=>({id:t.payload.doc.id,...t.payload.doc.data()}))})}sortData(e){const t=this.Entrys.slice();this.Entrys=e.active&&""!==e.direction?t.sort((r,i)=>{const a="asc"===e.direction;switch(e.active){case"name":return Ex(r.name,i.name,a);case"client":return Ex(r.client,i.client,a);case"sip":return Ex(r.SIP,i.SIP,a);default:return 0}}):t}removeentry(e){confirm("you sure")&&this.entryservice.deleteentry(e)}logout(){this.firebaseService.logout()}}function Ex(n,e,t){return(n<e?-1:1)*(t?1:-1)}function FB(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"div",3)(2,"h2"),d._uU(3,"Sign in"),d.qZA(),d.TgZ(4,"div",4),d._UZ(5,"input",5,6),d.TgZ(7,"span"),d._uU(8,"Username"),d.qZA(),d._UZ(9,"i"),d.qZA(),d.TgZ(10,"div",4),d._UZ(11,"input",7,8),d.TgZ(13,"span"),d._uU(14,"Password"),d.qZA(),d._UZ(15,"i"),d.qZA(),d.TgZ(16,"div",9)(17,"a",10),d._uU(18,"Forgot Password"),d.qZA(),d.TgZ(19,"a",10),d._uU(20,"Signup"),d.qZA()(),d.TgZ(21,"button",11),d.NdJ("click",function(){d.CHM(t);const i=d.MAs(6),a=d.MAs(12),c=d.oxw();return d.KtG(c.onSignin(i.value,a.value))}),d._uU(22,"Sign IN "),d.qZA()()()}}function LB(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-home",12),d.NdJ("isLogout",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.handleLogout())}),d.qZA()}}O0.\u0275fac=function(e){return new(e||O0)(d.Y36(vg),d.Y36(wi))},O0.\u0275cmp=d.Xpm({type:O0,selectors:[["app-listentries"]],viewQuery:function(e,t){if(1&e&&d.Gf(NB,5),2&e){let r;d.iGM(r=d.CRH())&&(t.empTbSort=r.first)}},inputs:{dataSource:"dataSource"},outputs:{isLogout:"isLogout"},decls:21,vars:1,consts:[["routerLink","../loginpage",3,"click"],["matSort","",1,"table",3,"matSortChange"],["scope","col"],["scope","col","mat-sort-header","name"],["scope","col","mat-sort-header","client"],["scope","col","mat-sort-header","sip"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(e,t){1&e&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return t.logout()}),d._uU(1,"Logout"),d.qZA(),d.TgZ(2,"table",1),d.NdJ("matSortChange",function(i){return t.sortData(i)}),d.TgZ(3,"thead")(4,"tr")(5,"th",2),d._uU(6,"#"),d.qZA(),d.TgZ(7,"th",3),d._uU(8,"Tech"),d.qZA(),d.TgZ(9,"th",2),d._uU(10,"Date"),d.qZA(),d.TgZ(11,"th",4),d._uU(12,"Client"),d.qZA(),d.TgZ(13,"th",5),d._uU(14,"SIP"),d.qZA(),d.TgZ(15,"th",2),d._uU(16,"Situation"),d.qZA(),d.TgZ(17,"th",2),d._uU(18,"Commantiare"),d.qZA()()(),d.TgZ(19,"tbody"),d.YNc(20,PB,15,7,"tr",6),d.qZA()()),2&e&&(d.xp6(20),d.Q6J("ngForOf",t.Entrys))},dependencies:[bx,kB,ls,zo],styles:['.navbar-brand[_ngcontent-%COMP%]{color:#b8860b}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#23242a}.box[_ngcontent-%COMP%]{position:relative;width:380px;height:420px;background-color:#1c1c1c;border-radius:8px;overflow:hidden}.box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite}.box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite;animation-delay:-3s}@keyframes _ngcontent-%COMP%_animate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.form[_ngcontent-%COMP%]{position:absolute;inset:2px;border-radius:8px;background-color:#28292d;z-index:10;padding:50px 40px;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#45f3ff;font-weight:500;text-align:center;letter-spacing:.1em}.inputBox[_ngcontent-%COMP%]{position:relative;width:300px;margin-top:35px}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 0 10px;background:transparent;border:none;outline:none;color:#23242a;font-size:1em;letter-spacing:.05em;z-index:10}.inputBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;padding:20px 10px 10px;font-size:1em;color:#8f8f8f;pointer-events:none;letter-spacing:00.05em;transition:.5s}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{color:#45f3ff;transform:translate(0) translateY(-34px);font-size:.7em}.inputBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:2px;background:#45f3ff;border-radius:4px;transition:.5s;pointer-events:none}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ i[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{height:44px}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;font-size:.75em;color:#8f8f8f;text-decoration:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){color:#45f3ff}button[_ngcontent-%COMP%]{border:none;outline:none;background:#45f3ff;padding:11px 25px;width:100px;margin-top:10px;border-radius:4px;font-weight:600;cursor:pointer}']});class N0{constructor(e){this.firebaseService=e,this.title="fiber-app",this.isSignedIn=!1}ngOnInit(){this.isSignedIn=null!==localStorage.getItem("user")}onSignup(e,t){var r=this;return(0,pe.Z)(function*(){yield r.firebaseService.signup(e,t),r.firebaseService.isLoggedIn&&(r.isSignedIn=!0)})()}onSignin(e,t){var r=this;return(0,pe.Z)(function*(){yield r.firebaseService.signin(e,t),r.firebaseService.isLoggedIn&&(r.isSignedIn=!0)})()}handleLogout(){this.isSignedIn=!1}}N0.\u0275fac=function(e){return new(e||N0)(d.Y36(wi))},N0.\u0275cmp=d.Xpm({type:N0,selectors:[["app-loginpage"]],decls:3,vars:2,consts:[["class","box",4,"ngIf"],[3,"isLogout",4,"ngIf"],[1,"box"],[1,"form"],[1,"inputBox"],["type","email","required","required"],["email",""],["type","password","required","required"],["password",""],[1,"links"],["href","#"],[3,"click"],[3,"isLogout"]],template:function(e,t){1&e&&(d.TgZ(0,"body"),d.YNc(1,FB,23,0,"div",0),d.YNc(2,LB,1,0,"app-home",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngIf",!t.isSignedIn),d.xp6(1),d.Q6J("ngIf",t.isSignedIn))},dependencies:[Tn,Y_],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#23242a}.box[_ngcontent-%COMP%]{position:relative;width:380px;height:420px;background-color:#1c1c1c;border-radius:8px;overflow:hidden}.box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite}.box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite;animation-delay:-3s}@keyframes _ngcontent-%COMP%_animate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.form[_ngcontent-%COMP%]{position:absolute;inset:2px;border-radius:8px;background-color:#28292d;z-index:10;padding:50px 40px;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#45f3ff;font-weight:500;text-align:center;letter-spacing:.1em}.inputBox[_ngcontent-%COMP%]{position:relative;width:300px;margin-top:35px}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 0 10px;background:transparent;border:none;outline:none;color:#23242a;font-size:1em;letter-spacing:.05em;z-index:10}.inputBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;padding:20px 10px 10px;font-size:1em;color:#8f8f8f;pointer-events:none;letter-spacing:00.05em;transition:.5s}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{color:#45f3ff;transform:translate(0) translateY(-34px);font-size:.7em}.inputBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:2px;background:#45f3ff;border-radius:4px;transition:.5s;pointer-events:none}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ i[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{height:44px}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;font-size:.75em;color:#8f8f8f;text-decoration:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){color:#45f3ff}button[_ngcontent-%COMP%]{border:none;outline:none;background:#45f3ff;padding:11px 25px;width:140px;margin-top:10px;border-radius:4px;font-weight:600;cursor:pointer}']});const VB=[{path:"",redirectTo:"loginpage",pathMatch:"full"},{path:"loginpage",component:N0},{path:"home",component:Y_},{path:"listentries",component:O0},{path:"editentry/id",component:mh}];class iy{}iy.\u0275fac=function(e){return new(e||iy)},iy.\u0275mod=d.oAB({type:iy}),iy.\u0275inj=d.cJS({imports:[lp.forRoot(VB),lp]});class P0{constructor(e){this.firebaseService=e,this.title="fiber-app"}ngOnInit(){this.firebaseService.isLoggedIn=!1,console.log("heloow")}}function IP(n){return new d.vHH(3e3,!1)}function w2(){return typeof window<"u"&&typeof window.document<"u"}function Dx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zh(n){switch(n.length){case 0:return new k0;case 1:return n[0];default:return new DP(n)}}function SP(n,e,t,r,i=new Map,a=new Map){const c=[],p=[];let _=-1,b=null;if(r.forEach(I=>{const x=I.get("offset"),L=x==_,G=L&&b||new Map;I.forEach((X,oe)=>{let _e=oe,Ke=X;if("offset"!==oe)switch(_e=e.normalizePropertyName(_e,c),Ke){case"!":Ke=i.get(oe);break;case nd:Ke=a.get(oe);break;default:Ke=e.normalizeStyleValue(oe,_e,Ke,c)}G.set(_e,Ke)}),L||p.push(G),b=G,_=x}),c.length)throw function l2(n){return new d.vHH(3502,!1)}();return p}function Cx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ix(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ix(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ix(t,"destroy",n)))}}function Ix(n,e,t){const a=Sx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Sx(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function lo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function TP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}P0.\u0275fac=function(e){return new(e||P0)(d.Y36(wi))},P0.\u0275cmp=d.Xpm({type:P0,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-darl","bg-dark"],[1,"contairner-fluid"],[1,"navbar-brand"],[1,"collapse","navbar-collapse"],[1,"container","mt-5"]],template:function(e,t){1&e&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),d._uU(3,"YAR"),d.qZA(),d._UZ(4,"div",3),d.qZA()(),d.TgZ(5,"div",4),d._UZ(6,"router-outlet"),d.qZA())},dependencies:[Nb],styles:['.navbar-brand[_ngcontent-%COMP%]{color:#b8860b}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#23242a}.box[_ngcontent-%COMP%]{position:relative;width:380px;height:420px;background-color:#1c1c1c;border-radius:8px;overflow:hidden}.box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite}.box[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-50%;left:-50%;width:380px;height:420px;background:linear-gradient(0deg,transparent,#45f3ff,#45f3ff);transform-origin:bottom right;animation:_ngcontent-%COMP%_animate 6s linear infinite;animation-delay:-3s}@keyframes _ngcontent-%COMP%_animate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.form[_ngcontent-%COMP%]{position:absolute;inset:2px;border-radius:8px;background-color:#28292d;z-index:10;padding:50px 40px;display:flex;flex-direction:column}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#45f3ff;font-weight:500;text-align:center;letter-spacing:.1em}.inputBox[_ngcontent-%COMP%]{position:relative;width:300px;margin-top:35px}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 0 10px;background:transparent;border:none;outline:none;color:#23242a;font-size:1em;letter-spacing:.05em;z-index:10}.inputBox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:0;padding:20px 10px 10px;font-size:1em;color:#8f8f8f;pointer-events:none;letter-spacing:00.05em;transition:.5s}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{color:#45f3ff;transform:translate(0) translateY(-34px);font-size:.7em}.inputBox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;height:2px;background:#45f3ff;border-radius:4px;transition:.5s;pointer-events:none}.inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ i[_ngcontent-%COMP%], .inputBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{height:44px}.links[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:10px 0;font-size:.75em;color:#8f8f8f;text-decoration:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:nth-child(2){color:#45f3ff}button[_ngcontent-%COMP%]{border:none;outline:none;background:#45f3ff;padding:11px 25px;width:100px;margin-top:10px;border-radius:4px;font-weight:600;cursor:pointer}']});let Tx=(n,e)=>!1,AP=(n,e,t)=>[],MP=null;function Ax(n){const e=n.parentNode||n.host;return e===MP?null:e}(Dx()||typeof Element<"u")&&(w2()?(MP=(()=>document.documentElement)(),Tx=(n,e)=>{for(;e;){if(e===n)return!0;e=Ax(e)}return!1}):Tx=(n,e)=>n.contains(e),AP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Dg=null,xP=!1;const RP=Tx,kP=AP;let OP=(()=>{class n{validateStyleProperty(t){return function E2(n){Dg||(Dg=function D2(){return typeof document<"u"?document.body:null}()||{},xP=!!Dg.style&&"WebkitAppearance"in Dg.style);let e=!0;return Dg.style&&!function b2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Dg.style,!e&&xP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dg.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return RP(t,r)}getParentElement(t){return Ax(t)}query(t,r,i){return kP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,p=[],_){return new k0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Mx=(()=>{class n{}return n.NOOP=new OP,n})();const xx="ng-enter",oI="ng-leave",aI="ng-trigger",lI=".ng-trigger",PP="ng-animating",Rx=".ng-animating";function id(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:kx(parseFloat(e[1]),e[2])}function kx(n,e){return"s"===e?1e3*n:n}function cI(n,e,t){return n.hasOwnProperty("duration")?n:function S2(n,e,t){let i,a=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(IP()),{duration:0,delay:0,easing:""};i=kx(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(a=kx(parseFloat(_),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function UB(){return new d.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function BB(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,IP())}return{duration:i,delay:a,easing:c}}(n,e,t)}function F0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function FP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Kh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function VP(n,e,t){return t?e+":"+t+";":""}function UP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=VP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=VP(0,x2(t),n.style[t]));n.setAttribute("style",e)}function mc(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Nx(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Dx()&&UP(n))}function Cg(n,e){n.style&&(e.forEach((t,r)=>{const i=Nx(r);n.style[i]=""}),Dx()&&UP(n))}function L0(n){return Array.isArray(n)?1==n.length?n[0]:bP(n):n}const Ox=new RegExp("{{\\s*(.+?)\\s*}}","g");function BP(n){let e=[];if("string"==typeof n){let t;for(;t=Ox.exec(n);)e.push(t[1]);Ox.lastIndex=0}return e}function V0(n,e,t){const r=n.toString(),i=r.replace(Ox,(a,c)=>{let p=e[c];return null==p&&(t.push(function HB(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function uI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const M2=/-+([a-z0-9])/g;function Nx(n){return n.replace(M2,(...e)=>e[1].toUpperCase())}function x2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function co(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $B(n){return new d.vHH(3004,!1)}()}}function jP(n,e){return window.getComputedStyle(n)[e]}function F2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function L2(n,e,t){if(":"==n[0]){const _=function V2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function r2(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function n2(n){return new d.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(HP(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(HP(c,i))}(r,t,e)):t.push(n),t}const pI=new Set(["true","1"]),gI=new Set(["false","0"]);function HP(n,e){const t=pI.has(n)||gI.has(n),r=pI.has(e)||gI.has(e);return(i,a)=>{let c="*"==n||n==i,p="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?pI.has(n):gI.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?pI.has(e):gI.has(e)),c&&p}}const U2=new RegExp("s*:selfs*,?","g");function Px(n,e,t,r){return new B2(n).build(e,t,r)}class B2{constructor(e){this._driver=e}build(e,t,r){const i=new $2(t);return this._resetContextStyleTimingState(i),co(this,L0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function zB(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,b=_.name;b.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=b}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function qB(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{BP(_).forEach(b=>{c.hasOwnProperty(b)||a.add(b)})})}),a.size&&(uI(a.values()),t.errors.push(function WB(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=co(this,L0(e.animation),t);return{type:1,matchers:F2(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ig(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>co(this,r,t)),options:Ig(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const p=co(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:Ig(e.options)}}visitAnimate(e,t){const r=function z2(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fx(cI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Fx(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=cI(t,e);return Fx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Ir({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=Ir(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===nd?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push(FP(p));let a=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!a))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),I=b.get(_);let x=!0;I&&(a!=i&&a>=I.startTime&&i<=I.endTime&&(t.errors.push(function KB(n,e,t,r,i){return new d.vHH(3010,!1)}()),x=!1),a=I.startTime),x&&b.set(_,{startTime:a,endTime:i}),t.options&&function A2(n,e,t){const r=e.params||{},i=BP(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function jB(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function YB(){return new d.vHH(3011,!1)}()),r;let a=0;const c=[];let p=!1,_=!1,b=0;const I=e.steps.map(Ke=>{const ut=this._makeStyleAst(Ke,t);let gt=null!=ut.offset?ut.offset:function G2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ut.styles),dt=0;return null!=gt&&(a++,dt=ut.offset=gt),_=_||dt<0||dt>1,p=p||dt<b,b=dt,c.push(dt),ut});_&&t.errors.push(function QB(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function XB(){return new d.vHH(3200,!1)}());const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push(function JB(){return new d.vHH(3202,!1)}()):0==a&&(L=1/(x-1));const G=x-1,X=t.currentTime,oe=t.currentAnimateTimings,_e=oe.duration;return I.forEach((Ke,ut)=>{const gt=L>0?ut==G?1:L*ut:c[ut],dt=gt*_e;t.currentTime=X+oe.delay+dt,oe.duration=dt,this._validateStyleAst(Ke,t),Ke.offset=gt,r.styles.push(Ke)}),r}visitReference(e,t){return{type:8,animation:co(this,L0(e.animation),t),options:Ig(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ig(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ig(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function j2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(U2,"")),n=n.replace(/@\*/g,lI).replace(/@\w+/g,t=>lI+"-"+t.slice(1)).replace(/:animating/g,Rx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,lo(t.collectedStyles,t.currentQuerySelector,new Map);const p=co(this,L0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Ig(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function e2(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:cI(e.timings,t.errors,!0);return{type:12,animation:co(this,L0(e.animation),t),timings:r,options:null}}}class $2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ig(n){return n?(n=F0(n)).params&&(n.params=function H2(n){return n?F0(n):null}(n.params)):n={},n}function Fx(n,e,t){return{duration:n,delay:e,easing:t}}function Lx(n,e,t,r,i,a,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:p}}class mI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Z2=new RegExp(":enter","g"),Y2=new RegExp(":leave","g");function Vx(n,e,t,r,i,a=new Map,c=new Map,p,_,b=[]){return(new Q2).buildKeyframes(n,e,t,r,i,a,c,p,_,b)}class Q2{buildKeyframes(e,t,r,i,a,c,p,_,b,I=[]){b=b||new mI;const x=new Ux(e,t,b,i,a,I,[]);x.options=_;const L=_.delay?id(_.delay):0;x.currentTimeline.delayNextStep(L),x.currentTimeline.setStyles([c],null,x.errors,_),co(this,r,x);const G=x.timelines.filter(X=>X.containsAnimation());if(G.length&&p.size){let X;for(let oe=G.length-1;oe>=0;oe--){const _e=G[oe];if(_e.element===t){X=_e;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([p],null,x.errors,_)}return G.length?G.map(X=>X.buildKeyframes()):[Lx(t,[],[],[],0,L,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:id(V0(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?id(r.duration):null,p=null!=r.delay?id(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,p);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),co(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_I);const c=id(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>co(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?id(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),co(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return cI(t.params?V0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*a),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?id(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_I);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((b,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,b);a&&x.delayNextStep(a),b===t.element&&(_=x.currentTimeline),co(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),p=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;co(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const _I={};class Ux{constructor(e,t,r,i,a,c,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new yI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=id(r.duration)),null!=r.delay&&(i.delay=id(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=V0(a[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Ux(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=_I,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new X2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(Z2,"."+this._enterClassName)).replace(Y2,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!a&&0==p.length&&c.push(function t2(n){return new d.vHH(3014,!1)}()),p}}class yI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||nd),this._currentKeyframe.set(t,nd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function J2(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,nd)}else Kh(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of c){const b=V0(_,a,r);this._pendingStyles.set(p,b),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??nd),this._updateStyle(p,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const b=Kh(p,new Map,this._backFill);b.forEach((I,x)=>{"!"===I?e.add(x):I===nd&&t.add(x)}),r||b.set("offset",_/this.duration),i.push(b)});const a=e.size?uI(e.values()):[],c=t.size?uI(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return Lx(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class X2 extends yI{constructor(e,t,r,i,a,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,p=t/c,_=Kh(e[0]);_.set("offset",0),a.push(_);const b=Kh(e[0]);b.set("offset",zP(p)),a.push(b);const I=e.length-1;for(let x=1;x<=I;x++){let L=Kh(e[x]);const G=L.get("offset");L.set("offset",zP((t+G*r)/c)),a.push(L)}r=c,t=0,i="",e=a}return Lx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function zP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Bx{}const ej=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class tj extends Bx{normalizePropertyName(e,t){return Nx(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(ej.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function GB(n,e){return new d.vHH(3005,!1)}())}return c+a}}function qP(n,e,t,r,i,a,c,p,_,b,I,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:p,queriedElements:_,preStyleProps:b,postStyleProps:I,totalTime:x,errors:L}}const jx={};class WP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function nj(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,p,_,b,I){const x=[],L=this.ast.options&&this.ast.options.params||jx,X=this.buildStyles(r,p&&p.params||jx,x),oe=_&&_.params||jx,_e=this.buildStyles(i,oe,x),Ke=new Set,ut=new Map,gt=new Map,dt="void"===i,At={params:rj(oe,L),delay:this.ast.options?.delay},Ot=I?[]:Vx(e,t,this.ast.animation,a,c,X,_e,At,b,x);let un=0;if(Ot.forEach(ad=>{un=Math.max(ad.duration+ad.delay,un)}),x.length)return qP(t,this._triggerName,r,i,dt,X,_e,[],[],ut,gt,un,x);Ot.forEach(ad=>{const ld=ad.element,M1=lo(ut,ld,new Set);ad.preStyleProps.forEach(Sg=>M1.add(Sg));const G0=lo(gt,ld,new Set);ad.postStyleProps.forEach(Sg=>G0.add(Sg)),ld!==t&&Ke.add(ld)});const Cs=uI(Ke.values());return qP(t,this._triggerName,r,i,dt,X,_e,Ot,Cs,ut,gt,un)}}function rj(n,e){const t=F0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ij{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=F0(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,p)=>{c&&(c=V0(c,i,t));const _=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,_,c,t),r.set(p,c)})}),r}}class oj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ij(i.style,i.options&&i.options.params||{},r))}),ZP(this.states,"true","1"),ZP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new WP(e,i,this.states))}),this.fallbackTransition=function aj(n,e,t){return new WP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ZP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const lj=new mI;class cj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Px(this._driver,t,r,[]);if(r.length)throw function c2(n){return new d.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=SP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const p=new Map;if(a?(c=Vx(this._driver,t,a,xx,oI,new Map,new Map,r,lj,i),c.forEach(I=>{const x=lo(p,I.element,new Map);I.postStyleProps.forEach(L=>x.set(L,null))})):(i.push(function u2(){return new d.vHH(3300,!1)}()),c=[]),i.length)throw function d2(n){return new d.vHH(3504,!1)}();p.forEach((I,x)=>{I.forEach((L,G)=>{I.set(G,this._driver.computeStyle(x,G,nd))})});const b=Zh(c.map(I=>{const x=p.get(I.element);return this._buildPlayer(I,new Map,x)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function h2(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=Sx(t,"","","");return Cx(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const KP="ng-animate-queued",Hx="ng-animate-disabled",pj=[],YP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sa="__ng_removed";class $x{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function vj(n){return n??null}(r?e.value:e),r){const a=F0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const U0="void",Gx=new $x(U0);class mj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function f2(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function p2(n){return new d.vHH(3303,!1)}();if(!function wj(n){return"start"==n||"done"==n}(r))throw function g2(n,e){return new d.vHH(3400,!1)}();const a=lo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const p=lo(this._engine.statesByElement,e,new Map);return p.has(t)||(oa(e,aI),oa(e,aI+"-"+t),p.set(t,Gx)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function m2(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new zx(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(oa(e,aI),oa(e,aI+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const b=new $x(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),p.set(t,b),_||(_=Gx),b.value!==U0&&_.value===b.value){if(!function Dj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const oe=[],_e=a.matchStyles(_.value,_.params,oe),Ke=a.matchStyles(b.value,b.params,oe);oe.length?this._engine.reportError(oe):this._engine.afterFlush(()=>{Cg(e,_e),mc(e,Ke)})}return}const L=lo(this._engine.playersByElement,e,[]);L.forEach(oe=>{oe.namespaceId==this.id&&oe.triggerName==t&&oe.queued&&oe.destroy()});let G=a.matchTransition(_.value,b.value,e,b.params),X=!1;if(!G){if(!i)return;G=a.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:_,toState:b,player:c,isFallbackTransition:X}),X||(oa(e,KP),c.onStart(()=>{sy(e,KP)})),c.onDone(()=>{let oe=this.players.indexOf(c);oe>=0&&this.players.splice(oe,1);const _e=this._engine.playersByElement.get(e);if(_e){let Ke=_e.indexOf(c);Ke>=0&&_e.splice(Ke,1)}}),this.players.push(c),L.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,lI,!0);r.forEach(i=>{if(i[sa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const p=[];if(a.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const I=this.trigger(e,b,U0,i);I&&p.push(I)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Zh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||Gx,I=new $x(U0),x=new zx(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[sa];(!a||a===YP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(p=>{if(p.name==r.triggerName){const _=Sx(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,Cx(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class _j{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(vI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!vI(t))return;const a=t[sa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oa(e,Hx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sy(e,Hx))}removeNode(e,t,r,i){if(vI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[sa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return vI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,lI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Rx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[sa];if(t&&t.setForRemoval){if(e[sa]=YP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Hx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)oa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Zh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function _2(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new mI,i=[],a=new Map,c=[],p=new Map,_=new Map,b=new Map,I=new Set;this.disabledNodes.forEach(ft=>{I.add(ft);const Mt=this.driver.query(ft,".ng-animate-queued",!0);for(let Lt=0;Lt<Mt.length;Lt++)I.add(Mt[Lt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),G=JP(L,this.collectedEnterElements),X=new Map;let oe=0;G.forEach((ft,Mt)=>{const Lt=xx+oe++;X.set(Mt,Lt),ft.forEach(gn=>oa(gn,Lt))});const _e=[],Ke=new Set,ut=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Mt=this.collectedLeaveElements[ft],Lt=Mt[sa];Lt&&Lt.setForRemoval&&(_e.push(Mt),Ke.add(Mt),Lt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(gn=>Ke.add(gn)):ut.add(Mt))}const gt=new Map,dt=JP(L,Array.from(Ke));dt.forEach((ft,Mt)=>{const Lt=oI+oe++;gt.set(Mt,Lt),ft.forEach(gn=>oa(gn,Lt))}),e.push(()=>{G.forEach((ft,Mt)=>{const Lt=X.get(Mt);ft.forEach(gn=>sy(gn,Lt))}),dt.forEach((ft,Mt)=>{const Lt=gt.get(Mt);ft.forEach(gn=>sy(gn,Lt))}),_e.forEach(ft=>{this.processLeaveNode(ft)})});const At=[],Ot=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(t).forEach(Lt=>{const gn=Lt.player,Ai=Lt.element;if(At.push(gn),this.collectedEnterElements.length){const is=Ai[sa];if(is&&is.setForMove){if(is.previousTriggersValues&&is.previousTriggersValues.has(Lt.triggerName)){const Tg=is.previousTriggersValues.get(Lt.triggerName),aa=this.statesByElement.get(Lt.element);if(aa&&aa.has(Lt.triggerName)){const NI=aa.get(Lt.triggerName);NI.value=Tg,aa.set(Lt.triggerName,NI)}}return void gn.destroy()}}const _c=!x||!this.driver.containsElement(x,Ai),uo=gt.get(Ai),Yh=X.get(Ai),_r=this._buildInstruction(Lt,r,Yh,uo,_c);if(_r.errors&&_r.errors.length)return void Ot.push(_r);if(_c)return gn.onStart(()=>Cg(Ai,_r.fromStyles)),gn.onDestroy(()=>mc(Ai,_r.toStyles)),void i.push(gn);if(Lt.isFallbackTransition)return gn.onStart(()=>Cg(Ai,_r.fromStyles)),gn.onDestroy(()=>mc(Ai,_r.toStyles)),void i.push(gn);const k1=[];_r.timelines.forEach(is=>{is.stretchStartingKeyframe=!0,this.disabledNodes.has(is.element)||k1.push(is)}),_r.timelines=k1,r.append(Ai,_r.timelines),c.push({instruction:_r,player:gn,element:Ai}),_r.queriedElements.forEach(is=>lo(p,is,[]).push(gn)),_r.preStyleProps.forEach((is,Tg)=>{if(is.size){let aa=_.get(Tg);aa||_.set(Tg,aa=new Set),is.forEach((NI,lR)=>aa.add(lR))}}),_r.postStyleProps.forEach((is,Tg)=>{let aa=b.get(Tg);aa||b.set(Tg,aa=new Set),is.forEach((NI,lR)=>aa.add(lR))})});if(Ot.length){const ft=[];Ot.forEach(Mt=>{ft.push(function y2(n,e){return new d.vHH(3505,!1)}())}),At.forEach(Mt=>Mt.destroy()),this.reportError(ft)}const un=new Map,Cs=new Map;c.forEach(ft=>{const Mt=ft.element;r.has(Mt)&&(Cs.set(Mt,Mt),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,un))}),i.forEach(ft=>{const Mt=ft.element;this._getPreviousPlayers(Mt,!1,ft.namespaceId,ft.triggerName,null).forEach(gn=>{lo(un,Mt,[]).push(gn),gn.destroy()})});const ad=_e.filter(ft=>t1(ft,_,b)),ld=new Map;XP(ld,this.driver,ut,b,nd).forEach(ft=>{t1(ft,_,b)&&ad.push(ft)});const G0=new Map;G.forEach((ft,Mt)=>{XP(G0,this.driver,new Set(ft),_,"!")}),ad.forEach(ft=>{const Mt=ld.get(ft),Lt=G0.get(ft);ld.set(ft,new Map([...Array.from(Mt?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const Sg=[],x1=[],R1={};c.forEach(ft=>{const{element:Mt,player:Lt,instruction:gn}=ft;if(r.has(Mt)){if(I.has(Mt))return Lt.onDestroy(()=>mc(Mt,gn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(gn.totalTime),void i.push(Lt);let Ai=R1;if(Cs.size>1){let uo=Mt;const Yh=[];for(;uo=uo.parentNode;){const _r=Cs.get(uo);if(_r){Ai=_r;break}Yh.push(uo)}Yh.forEach(_r=>Cs.set(_r,Ai))}const _c=this._buildAnimation(Lt.namespaceId,gn,un,a,G0,ld);if(Lt.setRealPlayer(_c),Ai===R1)Sg.push(Lt);else{const uo=this.playersByElement.get(Ai);uo&&uo.length&&(Lt.parentPlayer=Zh(uo)),i.push(Lt)}}else Cg(Mt,gn.fromStyles),Lt.onDestroy(()=>mc(Mt,gn.toStyles)),x1.push(Lt),I.has(Mt)&&i.push(Lt)}),x1.forEach(ft=>{const Mt=a.get(ft.element);if(Mt&&Mt.length){const Lt=Zh(Mt);ft.setRealPlayer(Lt)}}),i.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<_e.length;ft++){const Mt=_e[ft],Lt=Mt[sa];if(sy(Mt,oI),Lt&&Lt.hasAnimation)continue;let gn=[];if(p.size){let _c=p.get(Mt);_c&&_c.length&&gn.push(..._c);let uo=this.driver.query(Mt,Rx,!0);for(let Yh=0;Yh<uo.length;Yh++){let _r=p.get(uo[Yh]);_r&&_r.length&&gn.push(..._r)}}const Ai=gn.filter(_c=>!_c.destroyed);Ai.length?bj(this,Mt,Ai):this.processLeaveNode(Mt)}return _e.length=0,Sg.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Mt=this.players.indexOf(ft);this.players.splice(Mt,1)}),ft.play()}),Sg}elementContainsData(e,t){let r=!1;const i=t[sa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const _=!a||a==U0;p.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,I=b!==a,x=lo(r,b,[]);this._getPreviousPlayers(b,I,c,p,t.toState).forEach(G=>{const X=G.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),G.destroy(),x.push(G)})}Cg(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const p=t.triggerName,_=t.element,b=[],I=new Set,x=new Set,L=t.timelines.map(X=>{const oe=X.element;I.add(oe);const _e=oe[sa];if(_e&&_e.removedBeforeQueried)return new k0(X.duration,X.delay);const Ke=oe!==_,ut=function Ej(n){const e=[];return e1(n,e),e}((r.get(oe)||pj).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===oe),gt=a.get(oe),dt=c.get(oe),At=SP(0,this._normalizer,0,X.keyframes,gt,dt),Ot=this._buildPlayer(X,At,ut);if(X.subTimeline&&i&&x.add(oe),Ke){const un=new zx(e,p,oe);un.setRealPlayer(Ot),b.push(un)}return Ot});b.forEach(X=>{lo(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function yj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,X.element,X))}),I.forEach(X=>oa(X,PP));const G=Zh(L);return G.onDestroy(()=>{I.forEach(X=>sy(X,PP)),mc(_,t.toStyles)}),x.forEach(X=>{lo(i,X,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new k0(e.duration,e.delay)}}class zx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new k0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Cx(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){lo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vI(n){return n&&1===n.nodeType}function QP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function XP(n,e,t,r,i){const a=[];t.forEach(_=>a.push(QP(_)));const c=[];r.forEach((_,b)=>{const I=new Map;_.forEach(x=>{const L=e.computeStyle(b,x,i);I.set(x,L),(!L||0==L.length)&&(b[sa]=gj,c.push(b))}),n.set(b,I)});let p=0;return t.forEach(_=>QP(_,a[p++])),c}function JP(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(p){if(!p)return 1;let _=a.get(p);if(_)return _;const b=p.parentNode;return _=t.has(b)?b:i.has(b)?1:c(b),a.set(p,_),_}return e.forEach(p=>{const _=c(p);1!==_&&t.get(_).push(p)}),t}function oa(n,e){n.classList?.add(e)}function sy(n,e){n.classList?.remove(e)}function bj(n,e,t){Zh(t).onDone(()=>n.processLeaveNode(e))}function e1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof DP?e1(r.players,e):e.push(r)}}function t1(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class wI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new _j(e,t,r),this._timelineEngine=new cj(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const _=[],I=Px(this._driver,a,_,[]);if(_.length)throw function a2(n,e){return new d.vHH(3404,!1)}();p=function sj(n,e,t){return new oj(n,e,t)}(i,I,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=TP(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,p]=TP(r);return this._timelineEngine.listen(c,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ij=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mc(this._element,this._initialStyles),this._endStyles&&(mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cg(this._element,this._endStyles),this._endStyles=null),mc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qx(n){let e=null;return n.forEach((t,r)=>{(function Sj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class n1{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:jP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tj{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return RP(e,t)}getParentElement(e){return Ax(e)}query(e,t,r){return kP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const b=new Map,I=c.filter(G=>G instanceof n1);(function R2(n,e){return 0===n||0===e})(r,i)&&I.forEach(G=>{G.currentSnapshot.forEach((X,oe)=>b.set(oe,X))});let x=function T2(n){return n.length?n[0]instanceof Map?n:n.map(e=>FP(e)):[]}(t).map(G=>Kh(G));x=function k2(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(p=>c.set(p,jP(n,p)))}}return e}(e,x,b);const L=function Cj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qx(e[0]),e.length>1&&(r=qx(e[e.length-1]))):e instanceof Map&&(t=qx(e)),t||r?new Ij(n,t,r):null}(e,x);return new n1(e,x,_,L)}}let Aj=(()=>{class n extends wP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?bP(t):t;return r1(this._renderer,null,r,"register",[i]),new Mj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Mj extends bB{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xj(this._id,e,t||{},this._renderer)}}class xj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return r1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function r1(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const s1="@.disabled";let Rj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const p=c?.parentNode(a);p&&c.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new o1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(c,p,t,I.name,I)};return r.data.animation.forEach(_),new kj(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,p]=a;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(wI),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class o1{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==s1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class kj extends o1{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==s1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Oj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function Nj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let Pj=(()=>{class n extends wI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(re),d.LFG(Mx),d.LFG(Bx),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const a1=[{provide:wP,useClass:Aj},{provide:Bx,useFactory:function Fj(){return new tj}},{provide:wI,useClass:Pj},{provide:d.FYo,useFactory:function Lj(n,e,t){return new Rj(n,e,t)},deps:[hs,wI,d.R0b]}],Wx=[{provide:Mx,useFactory:()=>new Tj},{provide:d.QbO,useValue:"BrowserAnimations"},...a1],l1=[{provide:Mx,useClass:OP},{provide:d.QbO,useValue:"NoopAnimations"},...a1];let Vj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?l1:Wx}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Wx,imports:[Il]}),n})();var Uj=P(1144);const Bj=["addListener","removeListener"],jj=["addEventListener","removeEventListener"],Hj=["on","off"];function EI(n,e,t,r){if((0,cn.m)(t)&&(r=t,t=void 0),r)return EI(n,e,t).pipe(fu(r));const[i,a]=function zj(n){return(0,cn.m)(n.addEventListener)&&(0,cn.m)(n.removeEventListener)}(n)?jj.map(c=>p=>n[c](e,p,t)):function $j(n){return(0,cn.m)(n.addListener)&&(0,cn.m)(n.removeListener)}(n)?Bj.map(d1(n,e)):function Gj(n){return(0,cn.m)(n.on)&&(0,cn.m)(n.off)}(n)?Hj.map(d1(n,e)):[];if(!i&&(0,Uj.z)(n))return(0,si.z)(c=>EI(c,e,t))((0,ko.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new bn.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return i(p),()=>a(p)})}function d1(n,e){return t=>r=>n[t](e,r)}var h1=P(4408);const j0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=j0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new nm.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=j0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=j0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var f1=P(7565);const Zj=new class Wj extends f1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class qj extends h1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=j0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(j0.cancelAnimationFrame(t),e._scheduled=void 0)}});let Kx,Kj=1;const DI={};function p1(n){return n in DI&&(delete DI[n],!0)}const Yj={setImmediate(n){const e=Kj++;return DI[e]=!0,Kx||(Kx=Promise.resolve()),Kx.then(()=>p1(e)&&n()),e},clearImmediate(n){p1(n)}},{setImmediate:Qj,clearImmediate:Xj}=Yj,CI={setImmediate(...n){const{delegate:e}=CI;return(e?.setImmediate||Qj)(...n)},clearImmediate(n){const{delegate:e}=CI;return(e?.clearImmediate||Xj)(n)},delegate:void 0},tH=new class eH extends f1.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Jj extends h1.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=CI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(CI.clearImmediate(t),e._scheduled=void 0)}});var rH=P(3532);function Yx(n,e=cp.z){return function nH(n){return(0,tr.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const p=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const b=i;i=null,t.next(b)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Cn.x)(t,b=>{r=!0,i=b,a||(0,ko.Xf)(n(b)).subscribe(a=(0,Cn.x)(t,p,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function sH(n=0,e,t=cp.P){let r=-1;return null!=e&&((0,rH.K)(e)?t=e:r=e),new bn.y(i=>{let a=function iH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}const oH=["contentWrapper"],aH=["*"],lH=new d.OlP("VIRTUAL_SCROLL_STRATEGY");let Qx=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new an.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new bn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Yx(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ee(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=J_(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>EI(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ed),d.LFG(re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g1=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new an.x,this._elementScrolled=new bn.y(c=>this.ngZone.runOutsideAngular(()=>EI(this.elementRef.nativeElement,"scroll").pipe(td(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=x0()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==x0()?t.left=t.right:1==x0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;!function AU(){if(null==Eg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Eg=!1,Eg;if("scrollBehavior"in document.documentElement.style)Eg=!0;else{const n=Element.prototype.scrollTo;Eg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Eg}()?(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left)):r.scrollTo(t)}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?i:r:"end"==t&&(t=c?r:i),c&&2==x0()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:c&&1==x0()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Qx),d.Y36(d.R0b),d.Y36(tI,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),m1=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new an.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Yx(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ed),d.LFG(d.R0b),d.LFG(re,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _1=new d.OlP("VIRTUAL_SCROLLABLE");let dH=(()=>{class n extends g1{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Qx),d.Y36(d.R0b),d.Y36(tI,8))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const fH=typeof requestAnimationFrame<"u"?Zj:tH;let pH=(()=>{class n extends dH{constructor(t,r,i,a,c,p,_,b){super(t,p,i,c),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=b,this._platform=(0,d.f3M)(ed),this._detachedSubject=new an.x,this._renderedRangeSubject=new an.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new bn.y(I=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>I.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=nm.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=qh(t)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Xd(null),Yx(0,fH)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(td(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function hH(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,c=a?"X":"Y";let _=`translate${c}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(_+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",c="rtl"==this.dir?.value;r="start"==t?c?a:i:"end"==t?c?i:a:t||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-p}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(lH,8),d.Y36(tI,8),d.Y36(Qx),d.Y36(m1),d.Y36(_1,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&d.Gf(oH,7),2&t){let i;d.iGM(i=d.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[d._Bn([{provide:g1,useFactory:(e,t)=>e||t,deps:[[new d.FiY,new d.tBr(_1)],n]}]),d.qOj,d.jDz],ngContentSelectors:aH,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&t&&(d.xp6(3),d.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),gH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nI,y1,pH,nI,y1]}),n})(),xH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[gH]}),n})(),WH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[vx,xH,vx]}),n})();class cy{}cy.\u0275fac=function(e){return new(e||cy)},cy.\u0275mod=d.oAB({type:cy,bootstrap:[P0]}),cy.\u0275inj=d.cJS({providers:[wi],imports:[OB,WH,Il,iy,IU,KN,wn.hO.initializeApp({apiKey:"AIzaSyB74kJxYsgCFTlBkgESQUWxW1XNqe5rYrs",authDomain:"fiber-app-a602b.firebaseapp.com",databaseURL:"https://fiber-app-a602b-default-rtdb.firebaseio.com",projectId:"fiber-app-a602b",storageBucket:"fiber-app-a602b.appspot.com",messagingSenderId:"283919643720",appId:"1:283919643720:web:0c40f110df89209877147d"}),Vj]}),Wi().bootstrapModule(cy).catch(n=>console.error(n))},9751:(at,De,P)=>{P.d(De,{y:()=>fe});var d=P(930),te=P(727),N=P(8822),le=P(9635),ce=P(2416),re=P(576),ve=P(2806);let fe=(()=>{class Y{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const ze=new Y;return ze.source=this,ze.operator=Te,ze}subscribe(Te,ze,ot){const me=function H(Y){return Y&&Y instanceof d.Lv||function j(Y){return Y&&(0,re.m)(Y.next)&&(0,re.m)(Y.error)&&(0,re.m)(Y.complete)}(Y)&&(0,te.Nn)(Y)}(Te)?Te:new d.Hp(Te,ze,ot);return(0,ve.x)(()=>{const{operator:Ae,source:Se}=this;me.add(Ae?Ae.call(me,Se):Se?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ze){Te.error(ze)}}forEach(Te,ze){return new(ze=he(ze))((ot,me)=>{const Ae=new d.Hp({next:Se=>{try{Te(Se)}catch(Le){me(Le),Ae.unsubscribe()}},error:me,complete:ot});this.subscribe(Ae)})}_subscribe(Te){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Te)}[N.L](){return this}pipe(...Te){return(0,le.U)(Te)(this)}toPromise(Te){return new(Te=he(Te))((ze,ot)=>{let me;this.subscribe(Ae=>me=Ae,Ae=>ot(Ae),()=>ze(me))})}}return Y.create=Ve=>new Y(Ve),Y})();function he(Y){var Ve;return null!==(Ve=Y??ce.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(at,De,P)=>{P.d(De,{x:()=>ve});var d=P(9751),te=P(727);const le=(0,P(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=P(8737),re=P(2806);let ve=(()=>{class he extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new fe(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new le}next(H){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Ve,observers:Te}=this;return Y||Ve?te.Lc:(this.currentObservers=null,Te.push(H),new te.w0(()=>{this.currentObservers=null,(0,ce.P)(Te,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Ve,isStopped:Te}=this;Y?H.error(Ve):Te&&H.complete()}asObservable(){const H=new d.y;return H.source=this,H}}return he.create=(j,H)=>new fe(j,H),he})();class fe extends ve{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,j)}error(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Y?Y:te.Lc}}},930:(at,De,P)=>{P.d(De,{Hp:()=>ot,Lv:()=>Y});var d=P(576),te=P(727),N=P(2416),le=P(7849),ce=P(5032);const re=he("C",void 0,void 0);function he(ke,Ee,xe){return{kind:ke,value:Ee,error:xe}}var j=P(3410),H=P(2806);class Y extends te.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,te.Nn)(Ee)&&Ee.add(this)):this.destination=Le}static create(Ee,xe,je){return new ot(Ee,xe,je)}next(Ee){this.isStopped?Se(function fe(ke){return he("N",ke,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Se(function ve(ke){return he("E",void 0,ke)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Se(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Te(ke,Ee){return Ve.call(ke,Ee)}class ze{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ee)}catch(je){me(je)}}error(Ee){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ee)}catch(je){me(je)}else me(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(xe){me(xe)}}}class ot extends Y{constructor(Ee,xe,je){let Pe;if(super(),(0,d.m)(Ee)||!Ee)Pe={next:Ee??void 0,error:xe??void 0,complete:je??void 0};else{let B;this&&N.v.useDeprecatedNextContext?(B=Object.create(Ee),B.unsubscribe=()=>this.unsubscribe(),Pe={next:Ee.next&&Te(Ee.next,B),error:Ee.error&&Te(Ee.error,B),complete:Ee.complete&&Te(Ee.complete,B)}):Pe=Ee}this.destination=new ze(Pe)}}function me(ke){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(ke):(0,le.h)(ke)}function Se(ke,Ee){const{onStoppedNotification:xe}=N.v;xe&&j.z.setTimeout(()=>xe(ke,Ee))}const Le={closed:!0,next:ce.Z,error:function Ae(ke){throw ke},complete:ce.Z}},727:(at,De,P)=>{P.d(De,{Lc:()=>re,w0:()=>ce,Nn:()=>ve});var d=P(576);const N=(0,P(3888).d)(he=>function(H){he(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Ve)=>`${Ve+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var le=P(8737);class ce{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Te of H)Te.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,d.m)(Y))try{Y()}catch(Te){j=Te instanceof N?Te.errors:[Te]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Te of Ve)try{fe(Te)}catch(ze){j=j??[],ze instanceof N?j=[...j,...ze.errors]:j.push(ze)}}if(j)throw new N(j)}}add(j){var H;if(j&&j!==this)if(this.closed)fe(j);else{if(j instanceof ce){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,le.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,le.P)(H,j),j instanceof ce&&j._removeParent(this)}}ce.EMPTY=(()=>{const he=new ce;return he.closed=!0,he})();const re=ce.EMPTY;function ve(he){return he instanceof ce||he&&"closed"in he&&(0,d.m)(he.remove)&&(0,d.m)(he.add)&&(0,d.m)(he.unsubscribe)}function fe(he){(0,d.m)(he)?he():he.unsubscribe()}},2416:(at,De,P)=>{P.d(De,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,De,P)=>{P.d(De,{E:()=>te});const te=new(P(9751).y)(ce=>ce.complete())},8996:(at,De,P)=>{P.d(De,{D:()=>Ee});var d=P(8421),te=P(5363),N=P(9468),re=P(9751),fe=P(2202),he=P(576),j=P(9672);function Y(xe,je){if(!xe)throw new Error("Iterable cannot be null");return new re.y(Pe=>{(0,j.f)(Pe,je,()=>{const B=xe[Symbol.asyncIterator]();(0,j.f)(Pe,je,()=>{B.next().then(be=>{be.done?Pe.complete():Pe.next(be.value)})},0,!0)})})}var Ve=P(3670),Te=P(8239),ze=P(1144),ot=P(6495),me=P(2206),Ae=P(4532),Se=P(3260);function Ee(xe,je){return je?function ke(xe,je){if(null!=xe){if((0,Ve.c)(xe))return function le(xe,je){return(0,d.Xf)(xe).pipe((0,N.R)(je),(0,te.Q)(je))}(xe,je);if((0,ze.z)(xe))return function ve(xe,je){return new re.y(Pe=>{let B=0;return je.schedule(function(){B===xe.length?Pe.complete():(Pe.next(xe[B++]),Pe.closed||this.schedule())})})}(xe,je);if((0,Te.t)(xe))return function ce(xe,je){return(0,d.Xf)(xe).pipe((0,N.R)(je),(0,te.Q)(je))}(xe,je);if((0,me.D)(xe))return Y(xe,je);if((0,ot.T)(xe))return function H(xe,je){return new re.y(Pe=>{let B;return(0,j.f)(Pe,je,()=>{B=xe[fe.h](),(0,j.f)(Pe,je,()=>{let be,W;try{({value:be,done:W}=B.next())}catch(J){return void Pe.error(J)}W?Pe.complete():Pe.next(be)},0,!0)}),()=>(0,he.m)(B?.return)&&B.return()})}(xe,je);if((0,Se.L)(xe))return function Le(xe,je){return Y((0,Se.Q)(xe),je)}(xe,je)}throw(0,Ae.z)(xe)}(xe,je):(0,d.Xf)(xe)}},8421:(at,De,P)=>{P.d(De,{Xf:()=>Ve});var d=P(655),te=P(1144),N=P(8239),le=P(9751),ce=P(3670),re=P(2206),ve=P(4532),fe=P(6495),he=P(3260),j=P(576),H=P(7849),Y=P(8822);function Ve(ke){if(ke instanceof le.y)return ke;if(null!=ke){if((0,ce.c)(ke))return function Te(ke){return new le.y(Ee=>{const xe=ke[Y.L]();if((0,j.m)(xe.subscribe))return xe.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,te.z)(ke))return function ze(ke){return new le.y(Ee=>{for(let xe=0;xe<ke.length&&!Ee.closed;xe++)Ee.next(ke[xe]);Ee.complete()})}(ke);if((0,N.t)(ke))return function ot(ke){return new le.y(Ee=>{ke.then(xe=>{Ee.closed||(Ee.next(xe),Ee.complete())},xe=>Ee.error(xe)).then(null,H.h)})}(ke);if((0,re.D)(ke))return Ae(ke);if((0,fe.T)(ke))return function me(ke){return new le.y(Ee=>{for(const xe of ke)if(Ee.next(xe),Ee.closed)return;Ee.complete()})}(ke);if((0,he.L)(ke))return function Se(ke){return Ae((0,he.Q)(ke))}(ke)}throw(0,ve.z)(ke)}function Ae(ke){return new le.y(Ee=>{(function Le(ke,Ee){var xe,je,Pe,B;return(0,d.mG)(this,void 0,void 0,function*(){try{for(xe=(0,d.KL)(ke);!(je=yield xe.next()).done;)if(Ee.next(je.value),Ee.closed)return}catch(be){Pe={error:be}}finally{try{je&&!je.done&&(B=xe.return)&&(yield B.call(xe))}finally{if(Pe)throw Pe.error}}Ee.complete()})})(ke,Ee).catch(xe=>Ee.error(xe))})}},6451:(at,De,P)=>{P.d(De,{T:()=>re});var d=P(8189),te=P(8421),N=P(515),le=P(3269),ce=P(8996);function re(...ve){const fe=(0,le.yG)(ve),he=(0,le._6)(ve,1/0),j=ve;return j.length?1===j.length?(0,te.Xf)(j[0]):(0,d.J)(he)((0,ce.D)(j,fe)):N.E}},5403:(at,De,P)=>{P.d(De,{x:()=>te});var d=P(930);function te(le,ce,re,ve,fe){return new N(le,ce,re,ve,fe)}class N extends d.Lv{constructor(ce,re,ve,fe,he,j){super(ce),this.onFinalize=he,this.shouldUnsubscribe=j,this._next=re?function(H){try{re(H)}catch(Y){ce.error(Y)}}:super._next,this._error=fe?function(H){try{fe(H)}catch(Y){ce.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(H){ce.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(at,De,P)=>{P.d(De,{U:()=>N});var d=P(4482),te=P(5403);function N(le,ce){return(0,d.e)((re,ve)=>{let fe=0;re.subscribe((0,te.x)(ve,he=>{ve.next(le.call(ce,he,fe++))}))})}},8189:(at,De,P)=>{P.d(De,{J:()=>N});var d=P(5577),te=P(4671);function N(le=1/0){return(0,d.z)(te.y,le)}},5577:(at,De,P)=>{P.d(De,{z:()=>fe});var d=P(4004),te=P(8421),N=P(4482),le=P(9672),ce=P(5403),ve=P(576);function fe(he,j,H=1/0){return(0,ve.m)(j)?fe((Y,Ve)=>(0,d.U)((Te,ze)=>j(Y,Te,Ve,ze))((0,te.Xf)(he(Y,Ve))),H):("number"==typeof j&&(H=j),(0,N.e)((Y,Ve)=>function re(he,j,H,Y,Ve,Te,ze,ot){const me=[];let Ae=0,Se=0,Le=!1;const ke=()=>{Le&&!me.length&&!Ae&&j.complete()},Ee=je=>Ae<Y?xe(je):me.push(je),xe=je=>{Te&&j.next(je),Ae++;let Pe=!1;(0,te.Xf)(H(je,Se++)).subscribe((0,ce.x)(j,B=>{Ve?.(B),Te?Ee(B):j.next(B)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Ae--;me.length&&Ae<Y;){const B=me.shift();ze?(0,le.f)(j,ze,()=>xe(B)):xe(B)}ke()}catch(B){j.error(B)}}))};return he.subscribe((0,ce.x)(j,Ee,()=>{Le=!0,ke()})),()=>{ot?.()}}(Y,Ve,he,H)))}},5363:(at,De,P)=>{P.d(De,{Q:()=>le});var d=P(9672),te=P(4482),N=P(5403);function le(ce,re=0){return(0,te.e)((ve,fe)=>{ve.subscribe((0,N.x)(fe,he=>(0,d.f)(fe,ce,()=>fe.next(he),re),()=>(0,d.f)(fe,ce,()=>fe.complete(),re),he=>(0,d.f)(fe,ce,()=>fe.error(he),re)))})}},3099:(at,De,P)=>{P.d(De,{B:()=>ce});var d=P(8421),te=P(7579),N=P(930),le=P(4482);function ce(ve={}){const{connector:fe=(()=>new te.x),resetOnError:he=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=ve;return Y=>{let Ve,Te,ze,ot=0,me=!1,Ae=!1;const Se=()=>{Te?.unsubscribe(),Te=void 0},Le=()=>{Se(),Ve=ze=void 0,me=Ae=!1},ke=()=>{const Ee=Ve;Le(),Ee?.unsubscribe()};return(0,le.e)((Ee,xe)=>{ot++,!Ae&&!me&&Se();const je=ze=ze??fe();xe.add(()=>{ot--,0===ot&&!Ae&&!me&&(Te=re(ke,H))}),je.subscribe(xe),!Ve&&ot>0&&(Ve=new N.Hp({next:Pe=>je.next(Pe),error:Pe=>{Ae=!0,Se(),Te=re(Le,he,Pe),je.error(Pe)},complete:()=>{me=!0,Se(),Te=re(Le,j),je.complete()}}),(0,d.Xf)(Ee).subscribe(Ve))})(Y)}}function re(ve,fe,...he){if(!0===fe)return void ve();if(!1===fe)return;const j=new N.Hp({next:()=>{j.unsubscribe(),ve()}});return fe(...he).subscribe(j)}},9468:(at,De,P)=>{P.d(De,{R:()=>te});var d=P(4482);function te(N,le=0){return(0,d.e)((ce,re)=>{re.add(N.schedule(()=>ce.subscribe(re),le))})}},8505:(at,De,P)=>{P.d(De,{b:()=>ce});var d=P(576),te=P(4482),N=P(5403),le=P(4671);function ce(re,ve,fe){const he=(0,d.m)(re)||ve||fe?{next:re,error:ve,complete:fe}:re;return he?(0,te.e)((j,H)=>{var Y;null===(Y=he.subscribe)||void 0===Y||Y.call(he);let Ve=!0;j.subscribe((0,N.x)(H,Te=>{var ze;null===(ze=he.next)||void 0===ze||ze.call(he,Te),H.next(Te)},()=>{var Te;Ve=!1,null===(Te=he.complete)||void 0===Te||Te.call(he),H.complete()},Te=>{var ze;Ve=!1,null===(ze=he.error)||void 0===ze||ze.call(he,Te),H.error(Te)},()=>{var Te,ze;Ve&&(null===(Te=he.unsubscribe)||void 0===Te||Te.call(he)),null===(ze=he.finalize)||void 0===ze||ze.call(he)}))}):le.y}},4408:(at,De,P)=>{P.d(De,{o:()=>ce});var d=P(727);class te extends d.w0{constructor(ve,fe){super()}schedule(ve,fe=0){return this}}const N={setInterval(re,ve,...fe){const{delegate:he}=N;return he?.setInterval?he.setInterval(re,ve,...fe):setInterval(re,ve,...fe)},clearInterval(re){const{delegate:ve}=N;return(ve?.clearInterval||clearInterval)(re)},delegate:void 0};var le=P(8737);class ce extends te{constructor(ve,fe){super(ve,fe),this.scheduler=ve,this.work=fe,this.pending=!1}schedule(ve,fe=0){var he;if(this.closed)return this;this.state=ve;const j=this.id,H=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(H,j,fe)),this.pending=!0,this.delay=fe,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(H,this.id,fe),this}requestAsyncId(ve,fe,he=0){return N.setInterval(ve.flush.bind(ve,this),he)}recycleAsyncId(ve,fe,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return fe;null!=fe&&N.clearInterval(fe)}execute(ve,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(ve,fe);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,fe){let j,he=!1;try{this.work(ve)}catch(H){he=!0,j=H||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ve,scheduler:fe}=this,{actions:he}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(he,this),null!=ve&&(this.id=this.recycleAsyncId(fe,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,De,P)=>{P.d(De,{v:()=>N});var d=P(6063);class te{constructor(ce,re=te.now){this.schedulerActionCtor=ce,this.now=re}schedule(ce,re=0,ve){return new this.schedulerActionCtor(this,ce).schedule(ve,re)}}te.now=d.l.now;class N extends te{constructor(ce,re=te.now){super(ce,re),this.actions=[],this._active=!1}flush(ce){const{actions:re}=this;if(this._active)return void re.push(ce);let ve;this._active=!0;do{if(ve=ce.execute(ce.state,ce.delay))break}while(ce=re.shift());if(this._active=!1,ve){for(;ce=re.shift();)ce.unsubscribe();throw ve}}}},4986:(at,De,P)=>{P.d(De,{P:()=>le,z:()=>N});var d=P(4408);const N=new(P(7565).v)(d.o),le=N},6063:(at,De,P)=>{P.d(De,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(at,De,P)=>{P.d(De,{z:()=>d});const d={setTimeout(te,N,...le){const{delegate:ce}=d;return ce?.setTimeout?ce.setTimeout(te,N,...le):setTimeout(te,N,...le)},clearTimeout(te){const{delegate:N}=d;return(N?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(at,De,P)=>{P.d(De,{h:()=>te});const te=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,De,P)=>{P.d(De,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,De,P)=>{P.d(De,{_6:()=>re,jO:()=>le,yG:()=>ce});var d=P(576),te=P(3532);function N(ve){return ve[ve.length-1]}function le(ve){return(0,d.m)(N(ve))?ve.pop():void 0}function ce(ve){return(0,te.K)(N(ve))?ve.pop():void 0}function re(ve,fe){return"number"==typeof N(ve)?ve.pop():fe}},8737:(at,De,P)=>{function d(te,N){if(te){const le=te.indexOf(N);0<=le&&te.splice(le,1)}}P.d(De,{P:()=>d})},3888:(at,De,P)=>{function d(te){const le=te(ce=>{Error.call(ce),ce.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}P.d(De,{d:()=>d})},2806:(at,De,P)=>{P.d(De,{O:()=>le,x:()=>N});var d=P(2416);let te=null;function N(ce){if(d.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ce(),re){const{errorThrown:ve,error:fe}=te;if(te=null,ve)throw fe}}else ce()}function le(ce){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ce)}},9672:(at,De,P)=>{function d(te,N,le,ce=0,re=!1){const ve=N.schedule(function(){le(),re?te.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(te.add(ve),!re)return ve}P.d(De,{f:()=>d})},4671:(at,De,P)=>{function d(te){return te}P.d(De,{y:()=>d})},1144:(at,De,P)=>{P.d(De,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(at,De,P)=>{P.d(De,{D:()=>te});var d=P(576);function te(N){return Symbol.asyncIterator&&(0,d.m)(N?.[Symbol.asyncIterator])}},576:(at,De,P)=>{function d(te){return"function"==typeof te}P.d(De,{m:()=>d})},3670:(at,De,P)=>{P.d(De,{c:()=>N});var d=P(8822),te=P(576);function N(le){return(0,te.m)(le[d.L])}},6495:(at,De,P)=>{P.d(De,{T:()=>N});var d=P(2202),te=P(576);function N(le){return(0,te.m)(le?.[d.h])}},8239:(at,De,P)=>{P.d(De,{t:()=>te});var d=P(576);function te(N){return(0,d.m)(N?.then)}},3260:(at,De,P)=>{P.d(De,{L:()=>le,Q:()=>N});var d=P(655),te=P(576);function N(ce){return(0,d.FC)(this,arguments,function*(){const ve=ce.getReader();try{for(;;){const{value:fe,done:he}=yield(0,d.qq)(ve.read());if(he)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(fe)}}finally{ve.releaseLock()}})}function le(ce){return(0,te.m)(ce?.getReader)}},3532:(at,De,P)=>{P.d(De,{K:()=>te});var d=P(576);function te(N){return N&&(0,d.m)(N.schedule)}},4482:(at,De,P)=>{P.d(De,{A:()=>te,e:()=>N});var d=P(576);function te(le){return(0,d.m)(le?.lift)}function N(le){return ce=>{if(te(ce))return ce.lift(function(re){try{return le(re,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,De,P)=>{function d(){}P.d(De,{Z:()=>d})},9635:(at,De,P)=>{P.d(De,{U:()=>N,z:()=>te});var d=P(4671);function te(...le){return N(le)}function N(le){return 0===le.length?d.y:1===le.length?le[0]:function(re){return le.reduce((ve,fe)=>fe(ve),re)}}},7849:(at,De,P)=>{P.d(De,{h:()=>N});var d=P(2416),te=P(3410);function N(le){te.z.setTimeout(()=>{const{onUnhandledError:ce}=d.v;if(!ce)throw le;ce(le)})}},4532:(at,De,P)=>{function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>d})},655:(at,De,P)=>{function le(W,J){var ae={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&J.indexOf(se)<0&&(ae[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(se=Object.getOwnPropertySymbols(W);Ue<se.length;Ue++)J.indexOf(se[Ue])<0&&Object.prototype.propertyIsEnumerable.call(W,se[Ue])&&(ae[se[Ue]]=W[se[Ue]])}return ae}function fe(W,J,ae,se){return new(ae||(ae=Promise))(function(Fe,ht){function sn($t){try{Vt(se.next($t))}catch(mt){ht(mt)}}function mn($t){try{Vt(se.throw($t))}catch(mt){ht(mt)}}function Vt($t){$t.done?Fe($t.value):function Ue(Fe){return Fe instanceof ae?Fe:new ae(function(ht){ht(Fe)})}($t.value).then(sn,mn)}Vt((se=se.apply(W,J||[])).next())})}function me(W){return this instanceof me?(this.v=W,this):new me(W)}function Ae(W,J,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,se=ae.apply(W,J||[]),Fe=[];return Ue={},ht("next"),ht("throw"),ht("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function ht(nn){se[nn]&&(Ue[nn]=function(Sr){return new Promise(function(Ur,yt){Fe.push([nn,Sr,Ur,yt])>1||sn(nn,Sr)})})}function sn(nn,Sr){try{!function mn(nn){nn.value instanceof me?Promise.resolve(nn.value.v).then(Vt,$t):mt(Fe[0][2],nn)}(se[nn](Sr))}catch(Ur){mt(Fe[0][3],Ur)}}function Vt(nn){sn("next",nn)}function $t(nn){sn("throw",nn)}function mt(nn,Sr){nn(Sr),Fe.shift(),Fe.length&&sn(Fe[0][0],Fe[0][1])}}function Le(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,J=W[Symbol.asyncIterator];return J?J.call(W):(W=function Y(W){var J="function"==typeof Symbol&&Symbol.iterator,ae=J&&W[J],se=0;if(ae)return ae.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ae={},se("next"),se("throw"),se("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function se(Fe){ae[Fe]=W[Fe]&&function(ht){return new Promise(function(sn,mn){!function Ue(Fe,ht,sn,mn){Promise.resolve(mn).then(function(Vt){Fe({value:Vt,done:sn})},ht)}(sn,mn,(ht=W[Fe](ht)).done,ht.value)})}}}P.d(De,{FC:()=>Ae,KL:()=>Le,_T:()=>le,mG:()=>fe,qq:()=>me})},4650:(at,De,P)=>{P.d(De,{$8M:()=>Rd,$Z:()=>pS,AFp:()=>Fn,AaK:()=>fe,BQk:()=>lp,CHM:()=>Ac,CRH:()=>lD,CZH:()=>Yp,CqO:()=>nE,D6c:()=>tC,EJc:()=>MD,EpF:()=>eE,F$t:()=>QS,F4k:()=>tE,FYo:()=>ab,FiY:()=>Rl,Gf:()=>aD,GfV:()=>lb,GkF:()=>Iv,Gpc:()=>H,Hsn:()=>iE,JOm:()=>gs,KtG:()=>bd,LFG:()=>Ge,Lbi:()=>E_,Lck:()=>qE,MAs:()=>Jb,MMx:()=>tc,NdJ:()=>Am,OlP:()=>fn,Oqu:()=>Hm,P3R:()=>rm,PXZ:()=>qT,Q6J:()=>Im,QGY:()=>Sv,QP$:()=>er,QbO:()=>TD,Qsj:()=>cm,R0b:()=>ws,RDi:()=>Bo,Rgc:()=>ao,SBq:()=>Gf,Sil:()=>Vi,Suo:()=>ts,TTD:()=>ma,TgZ:()=>Zl,Udp:()=>pp,X6Q:()=>jD,XFs:()=>_t,Xpm:()=>ua,Xts:()=>Ff,Y36:()=>yu,YKP:()=>gw,YNc:()=>Xb,Yjl:()=>ha,Yz7:()=>yt,Z0I:()=>Br,ZZ4:()=>k_,_Bn:()=>pw,_UZ:()=>Sm,_Vd:()=>Gl,_c5:()=>Oh,_uU:()=>Pv,aQg:()=>e0,c2e:()=>Ka,cJS:()=>ai,cg1:()=>Wm,dDg:()=>FD,dqk:()=>Rt,eFA:()=>Bw,ekj:()=>Rv,eoX:()=>Vw,f3M:()=>Qe,g9A:()=>Mh,h0i:()=>Lu,hGG:()=>Nh,hij:()=>bh,iGM:()=>oD,ifc:()=>Kt,ip1:()=>Yr,jDz:()=>ZE,kL8:()=>wp,lG2:()=>da,lqb:()=>$l,lri:()=>Lw,n5z:()=>zc,oAB:()=>On,oxw:()=>Tv,q4F:()=>cb,qLn:()=>to,qOj:()=>uv,qZA:()=>Cv,rWj:()=>Wu,sBO:()=>KT,sIi:()=>ip,s_b:()=>Up,soG:()=>Ya,tBr:()=>wt,tb:()=>Qp,tp0:()=>S,uIk:()=>vv,vHH:()=>me,vpe:()=>$e,wAp:()=>St,xp6:()=>yb,ynx:()=>Tm,z2F:()=>I_,zSh:()=>om,zs3:()=>ja});var d=P(7579),te=P(727),N=P(9751),le=P(6451),ce=P(3099);function re(s){for(let o in s)if(s[o]===re)return o;throw Error("Could not find renamed property on target object.")}function ve(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=re({__forward_ref__:re});function H(s){return s.__forward_ref__=H,s.toString=function(){return fe(this())},s}function Y(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}function Te(s){return s&&!!s.\u0275providers}const ot="https://g.co/ng/security#xss";class me extends Error{constructor(o,l){super(function Ae(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function je(s,o){throw new me(-201,!1)}function $t(s,o){null==s&&function mt(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ai(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qr(s){return jr(s,Hr)||jr(s,yn)}function Br(s){return null!==Qr(s)}function jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Mi(s){return s&&(s.hasOwnProperty(Bs)||s.hasOwnProperty(Xr))?s[Bs]:null}const Hr=re({\u0275prov:re}),Bs=re({\u0275inj:re}),yn=re({ngInjectableDef:re}),Xr=re({ngInjectorDef:re});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let ss;function xn(s){const o=ss;return ss=s,o}function $r(s,o,l){const u=Qr(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&_t.Optional?null:void 0!==o?o:void je(fe(s))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},Rn="__NG_DI_FLAG__",Ri="ngTempTokenPath",la=/\n/gm,as="__source";let Xt;function Ar(s){const o=Xt;return Xt=s,o}function Bi(s,o=_t.Default){if(void 0===Xt)throw new me(-203,!1);return null===Xt?$r(s,void 0,o):Xt.get(s,o&_t.Optional?null:void 0,o)}function Ge(s,o=_t.Default){return(function xi(){return ss}()||Bi)(Y(s),o)}function Qe(s,o=_t.Default){return Ge(s,Tt(o))}function Tt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xt(s){const o=[];for(let l=0;l<s.length;l++){const u=Y(s[l]);if(Array.isArray(u)){if(0===u.length)throw new me(900,!1);let h,g=_t.Default;for(let v=0;v<u.length;v++){const E=u[v],D=$(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}o.push(Ge(h,g))}else o.push(Ge(u))}return o}function jt(s,o){return s[Rn]=o,s.prototype[Rn]=o,s}function $(s){return s[Rn]}function ye(s){return{toString:s}.toString()}var ie=(()=>((ie=ie||{})[ie.OnPush=0]="OnPush",ie[ie.Default=1]="Default",ie))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const kn={},Et=[],dr=re({\u0275cmp:re}),qt=re({\u0275dir:re}),ar=re({\u0275pipe:re}),fo=re({\u0275mod:re}),Mr=re({\u0275fac:re}),ca=re({__NG_ELEMENT_ID__:re});let Qh=0;function ua(s){return ye(()=>{const l=!0===s.standalone,u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Et,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c"+Qh++,styles:s.styles||Et,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},g=s.dependencies,v=s.features;return h.inputs=vc(s.inputs,u),h.outputs=vc(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(yc).filter(cd):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Gn).filter(cd):null,h})}function yc(s){return Jt(s)||lr(s)}function cd(s){return null!==s}function On(s){return ye(()=>({type:s.type,bootstrap:s.bootstrap||Et,declarations:s.declarations||Et,imports:s.imports||Et,exports:s.exports||Et,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function vc(s,o){if(null==s)return kn;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const da=ua;function ha(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[dr]||null}function lr(s){return s[qt]||null}function Gn(s){return s[ar]||null}function er(s){const o=Jt(s)||lr(s)||Gn(s);return null!==o&&o.standalone}function xr(s,o){const l=s[fo]||null;if(!l&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return l}function ei(s){return Array.isArray(s)&&"object"==typeof s[1]}function ki(s){return Array.isArray(s)&&!0===s[1]}function fa(s){return 0!=(4&s.flags)}function Oi(s){return s.componentOffset>-1}function wc(s){return 1==(1&s.flags)}function ti(s){return null!==s.template}function pa(s){return 0!=(256&s[2])}function zs(s,o){return s.hasOwnProperty(Mr)?s[Mr]:null}class As{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function ma(){return qs}function qs(s){return s.type.prototype.ngOnChanges&&(s.setInput=sl),il}function il(){const s=_a(this),o=s?.current;if(o){const l=s.previous;if(l===kn)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function sl(s,o,l,u){const h=this.declaredInputs[l],g=_a(s)||function ol(s,o){return s[Ws]=o}(s,{previous:kn,current:null}),v=g.current||(g.current={}),E=g.previous,D=E[h];v[h]=new As(D&&D.currentValue,o,E===kn),s[u]=o}ma.ngInherit=!0;const Ws="__ngSimpleChanges__";function _a(s){return s[Ws]||null}function Wn(s){for(;Array.isArray(s);)s=s[0];return s}function Zs(s,o){return Wn(o[s])}function vr(s,o){return Wn(o[s.index])}function wo(s,o){return s.data[o]}function hr(s,o){const l=o[s];return ei(l)?l:l[0]}function wa(s){return 64==(64&s[2])}function Gi(s,o){return null==o?null:s[o]}function ba(s){s[18]=0}function Ea(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const kt={lFrame:uy(null),bindingsEnabled:!0};function dl(){return kt.bindingsEnabled}function Me(){return kt.lFrame.lView}function en(){return kt.lFrame.tView}function Ac(s){return kt.lFrame.contextLView=s,s[8]}function bd(s){return kt.lFrame.contextLView=null,s}function wr(){let s=bo();for(;null!==s&&64===s.type;)s=s.parent;return s}function bo(){return kt.lFrame.currentTNode}function di(s,o){const l=kt.lFrame;l.currentTNode=s,l.isParent=o}function fl(){return kt.lFrame.isParent}function Eo(){kt.lFrame.isParent=!1}function us(){return kt.lFrame.bindingIndex++}function kc(s,o){const l=kt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Dd(o)}function Dd(s){kt.lFrame.currentDirectiveIndex=s}function Cd(){return kt.lFrame.currentQueryIndex}function Oc(s){kt.lFrame.currentQueryIndex=s}function Id(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function nf(s,o,l){if(l&_t.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&_t.Host||(h=Id(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=kt.lFrame=rf();return u.currentTNode=o,u.lView=s,!0}function pl(s){const o=rf(),l=s[1];kt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function rf(){const s=kt.lFrame,o=null===s?null:s.child;return null===o?uy(s):o}function uy(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function xg(){const s=kt.lFrame;return kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const gl=xg;function Rg(){const s=xg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ni(){return kt.lFrame.selectedIndex}function Ca(s){kt.lFrame.selectedIndex=s}function En(){const s=kt.lFrame;return wo(s.tView,s.selectedIndex)}function xs(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-l,D),T&&((s.viewHooks||(s.viewHooks=[])).push(l,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,T)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function fi(s,o,l){Fc(s,o,3,l)}function ml(s,o,l,u){(3&s[2])===l&&Fc(s,o,l,u)}function Ni(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Fc(s,o,l,u){const g=u??-1,v=o.length-1;let E=0;for(let D=void 0!==u?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=u&&E>=u)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(Sd(s,l,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Sd(s,o,l,u){const h=l[u]<0,g=l[u+1],E=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Ia{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function An(s,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const g=l[u++],v=l[u++],E=l[u++];s.setAttribute(o,v,E,g)}else{const g=h,v=l[++u];To(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),u++}}return u}function So(s){return 3===s||4===s||6===s}function To(s){return 64===s.charCodeAt(0)}function ks(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||_l(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function _l(s,o,l,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function Ad(s){return-1!==s}function yl(s){return 32767&s}function Ao(s,o){let l=function vl(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let ds=!0;function wl(s){const o=ds;return ds=s,o}let El=0;const Wr={};function Mo(s,o){const l=Ta(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Qs(u.data,s),Qs(o,null),Qs(u.blueprint,null));const h=Dl(s,o),g=s.injectorIndex;if(Ad(h)){const v=yl(h),E=Ao(h,o),D=E[1].data;for(let T=0;T<8;T++)o[g+T]=E[v+T]|D[v+T]}return o[g+8]=h,g}function Qs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ta(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Dl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=xd(h),null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function jc(s,o,l){!function Bc(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(ca)&&(u=l[ca]),null==u&&(u=l[ca]=El++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function fs(s,o,l){if(l&_t.Optional||void 0!==s)return s;je()}function Hc(s,o,l,u){if(l&_t.Optional&&void 0===u&&(u=null),0==(l&(_t.Self|_t.Host))){const h=s[9],g=xn(void 0);try{return h?h.get(o,u,l&_t.Optional):$r(o,u,l&_t.Optional)}finally{xn(g)}}return fs(u,0,l)}function lf(s,o,l,u=_t.Default,h){if(null!==s){if(1024&o[2]){const v=function uf(s,o,l,u,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Pi(g,v,l,u|_t.Self,Wr);if(E!==Wr)return E;let D=g.parent;if(!D){const T=v[21];if(T){const k=T.get(l,Wr,u);if(k!==Wr)return k}D=xd(v),v=v[15]}g=D}return h}(s,o,l,u,Wr);if(v!==Wr)return v}const g=Pi(s,o,l,u,Wr);if(g!==Wr)return g}return Hc(o,l,u,h)}function Pi(s,o,l,u,h){const g=function Gc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ca)?s[ca]:void 0;return"number"==typeof o?o>=0?255&o:cf:o}(l);if("function"==typeof g){if(!nf(o,s,u))return u&_t.Host?fs(h,0,u):Hc(o,l,u,h);try{const v=g(u);if(null!=v||u&_t.Optional)return v;je()}finally{gl()}}else if("number"==typeof g){let v=null,E=Ta(s,o),D=-1,T=u&_t.Host?o[16][6]:null;for((-1===E||u&_t.SkipSelf)&&(D=-1===E?Dl(s,o):o[E+8],-1!==D&&Wi(u,!1)?(v=o[1],E=yl(D),o=Ao(D,o)):E=-1);-1!==E;){const k=o[1];if(Cl(g,E,k.data)){const F=$c(E,o,l,v,u,T);if(F!==Wr)return F}D=o[E+8],-1!==D&&Wi(u,o[1].data[E+8]===T)&&Cl(g,E,o)?(v=k,E=yl(D),o=Ao(D,o)):E=-1}}return h}function $c(s,o,l,u,h,g){const v=o[1],E=v.data[s+8],k=Aa(E,v,l,null==u?Oi(E)&&ds:u!=v&&0!=(3&E.type),h&_t.Host&&g===E);return null!==k?Fi(o,v,k,E):Wr}function Aa(s,o,l,u,h){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,k=g>>20,z=h?E+k:s.directiveEnd;for(let ne=u?E:E+k;ne<z;ne++){const we=v[ne];if(ne<D&&l===we||ne>=D&&we.type===l)return ne}if(h){const ne=v[D];if(ne&&ti(ne)&&ne.type===l)return D}return null}function Fi(s,o,l,u){let h=s[l];const g=o.data;if(function pi(s){return s instanceof Ia}(h)){const v=h;v.resolving&&function ke(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new me(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(g[l]));const E=wl(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?xn(v.injectImpl):null;nf(s,u,_t.Default);try{h=s[l]=v.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function af(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=qs(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==D&&xn(D),wl(E),v.resolving=!1,gl()}}return h}function Cl(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Wi(s,o){return!(s&_t.Self||s&_t.Host&&o)}class gi{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return lf(this._tNode,this._lView,o,Tt(u),l)}}function cf(){return new gi(wr(),Me())}function zc(s){return ye(()=>{const o=s.prototype.constructor,l=o[Mr]||Il(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[Mr]||Il(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Il(s){return Ve(s)?()=>{const o=Il(Y(s));return o&&o()}:zs(s)}function xd(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Rd(s){return function Md(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(So(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(wr(),s)}const xo="__parameters__";function Sl(s,o,l){return ye(()=>{const u=function df(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,T,k){const F=D.hasOwnProperty(xo)?D[xo]:Object.defineProperty(D,xo,{value:[]})[xo];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class fn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=yt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zi(s,o){s.forEach(l=>Array.isArray(l)?Zi(l,o):o(l))}function Al(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ra(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ro(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function wn(s,o,l){let u=an(s,o);return u>=0?s[1|u]=l:(u=~u,function Ld(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function pe(s,o){const l=an(s,o);if(l>=0)return s[1|l]}function an(s,o){return function pn(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:u=g+1}return~(h<<l)}(s,o,1)}const wt=jt(Sl("Inject",s=>({token:s})),-1),Rl=jt(Sl("Optional"),8),S=jt(Sl("SkipSelf"),4);var gs=(()=>((gs=gs||{})[gs.Important=1]="Important",gs[gs.DashCase=2]="DashCase",gs))();const Xc=new Map;let Lg=0;const Ol="__ngContext__";function Dr(s,o){ei(o)?(s[Ol]=o[20],function yy(s){Xc.set(s[20],s)}(o)):s[Ol]=o}function wf(s,o){return undefined(s,o)}function No(s){const o=s[3];return ki(o)?o[3]:o}function Na(s){return Nl(s[13])}function jd(s){return Nl(s[4])}function Nl(s){for(;null!==s&&!ki(s);)s=s[4];return s}function Pl(s,o,l,u,h){if(null!=u){let g,v=!1;ki(u)?g=u:ei(u)&&(v=!0,u=u[0]);const E=Wn(u);0===s&&null!==l?null==h?Fl(o,l,E):Fo(o,l,E,h||null,!0):1===s&&null!==l?Fo(o,l,E,h||null,!0):2===s?function La(s,o,l){const u=Gd(s,o);u&&function Zg(s,o,l,u){s.removeChild(o,l,u)}(s,u,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Qg(s,o,l,u,h){const g=l[7];g!==Wn(l)&&Pl(o,s,u,g,h);for(let E=10;E<l.length;E++){const D=l[E];Ll(D[1],D,s,o,u,g)}}(o,s,g,l,h)}}function Pa(s,o,l){return s.createElement(o,l)}function Po(s,o){const l=s[9],u=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Ea(h,-1)),l.splice(u,1)}function su(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Po(h,u),o>0&&(s[l-1][4]=u[4]);const g=Ra(s,10+o);!function zg(s,o){Ll(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function $d(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&Ll(s,o,l,3,null,null),function Ef(s){let o=s[13];if(!o)return ou(s[1],s);for(;o;){let l=null;if(ei(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)ei(o)&&ou(o[1],o),o=o[3];null===o&&(o=s),ei(o)&&ou(o[1],o),l=o&&o[4]}o=l}}(o)}}function ou(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Cy(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Ia)){const g=l[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Df(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?u[h=v]():u[h=-v].unsubscribe(),g+=2}else{const v=u[h=l[g+1]];l[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)(0,u[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&ki(o[3])){l!==o[3]&&Po(l,o);const u=o[19];null!==u&&u.detachView(s)}!function vy(s){Xc.delete(s[20])}(o)}}function Cf(s,o,l){return function Fa(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:g}=s.data[u.directiveStart+h];if(g===Kt.None||g===Kt.Emulated)return null}return vr(u,l)}}(s,o.parent,l)}function Fo(s,o,l,u,h){s.insertBefore(o,l,u,h)}function Fl(s,o,l){s.appendChild(o,l)}function Wg(s,o,l,u,h){null!==u?Fo(s,o,l,u,h):Fl(s,o,l)}function Gd(s,o){return s.parentNode(o)}function Kg(s,o,l){return zd(s,o,l)}let du,Zd,zd=function If(s,o,l){return 40&s.type?vr(s,l):null};function au(s,o,l,u){const h=Cf(s,u,o),g=o[11],E=Kg(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)Wg(g,h,l[D],E,!1);else Wg(g,h,l,E,!1)}function Vo(s,o){if(null!==o){const l=o.type;if(3&l)return vr(o,s);if(4&l)return ii(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Vo(s,u);{const h=s[o.index];return ki(h)?ii(-1,h):Wn(h)}}if(32&l)return wf(o,s)()||Wn(s[o.index]);{const u=Yg(s,o);return null!==u?Array.isArray(u)?u[0]:Vo(No(s[16]),u):Vo(s,o.next)}}return null}function Yg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ii(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Vo(u,h)}return o[7]}function lu(s,o,l,u,h,g,v){for(;null!=l;){const E=u[l.index],D=l.type;if(v&&0===o&&(E&&Dr(Wn(E),u),l.flags|=2),32!=(32&l.flags))if(8&D)lu(s,o,l.child,u,h,g,!1),Pl(o,s,h,E,g);else if(32&D){const T=wf(l,u);let k;for(;k=T();)Pl(o,s,h,k,g);Pl(o,s,h,E,g)}else 16&D?cu(s,o,u,l,h,g):Pl(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Ll(s,o,l,u,h,g){lu(l,u,s.firstChild,o,h,g,!1)}function cu(s,o,l,u,h,g){const v=l[16],D=v[6].projection[u.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Pl(o,s,h,D[T],g);else lu(s,o,D,v[3],h,g,!0)}function Uo(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Xg(s,o,l){const{mergedAttrs:u,classes:h,styles:g}=l;null!==u&&An(s,o,u),null!==h&&Uo(s,o,h),null!==g&&function Ty(s,o,l){s.setAttribute(o,"style",l)}(s,o,g)}function Bo(s){du=s}function em(s){return function Kd(){if(void 0===Zd&&(Zd=null,Rt.trustedTypes))try{Zd=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Zd}()?.createScriptURL(s)||s}class My{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function w(s){return s instanceof My?s.changingThisBreaksApplicationSecurity:s}function M(s,o){const l=function O(s){return s instanceof My&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${ot})`)}return l===o}const Ry=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ur=(()=>((ur=ur||{})[ur.NONE=0]="NONE",ur[ur.HTML=1]="HTML",ur[ur.STYLE=2]="STYLE",ur[ur.SCRIPT=3]="SCRIPT",ur[ur.URL=4]="URL",ur[ur.RESOURCE_URL=5]="RESOURCE_URL",ur))();function si(s){const o=Pf();return o?o.sanitize(ur.URL,s)||"":M(s,"URL")?w(s):function wi(s){return(s=String(s)).match(Ry)?s:"unsafe:"+s}(Se(s))}function jl(s){const o=Pf();if(o)return em(o.sanitize(ur.RESOURCE_URL,s)||"");if(M(s,"ResourceURL"))return em(w(s));throw new me(904,!1)}function rm(s,o,l){return function Nf(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?jl:si}(o,l)(s)}function Pf(){const s=Me();return s&&s[12]}const Ff=new fn("ENVIRONMENT_INITIALIZER"),Zt=new fn("INJECTOR",-1),Jd=new fn("INJECTOR_DEF_TYPES");class eb{get(o,l=Vn){if(l===Vn){const u=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw u.name="NullInjectorError",u}return l}}function qI(...s){return{\u0275providers:tb(0,s),\u0275fromNgModule:!0}}function tb(s,...o){const l=[],u=new Set;let h;return Zi(o,g=>{const v=g;im(v,l,[],u)&&(h||(h=[]),h.push(v))}),void 0!==h&&eo(h,l),l}function eo(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];sm(h,g=>{o.push(g)})}}function im(s,o,l,u){if(!(s=Y(s)))return!1;let h=null,g=Mi(s);const v=!g&&Jt(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const D=s.ngModule;if(g=Mi(D),!g)return!1;h=D}const E=u.has(h);if(v){if(E)return!1;if(u.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of D)im(T,o,l,u)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let T;u.add(h);try{Zi(g.imports,k=>{im(k,o,l,u)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&eo(T,o)}if(!E){const T=zs(h)||(()=>new h);o.push({provide:h,useFactory:T,deps:Et},{provide:Jd,useValue:h,multi:!0},{provide:Ff,useValue:()=>Ge(h),multi:!0})}const D=g.providers;null==D||E||sm(D,k=>{o.push(k)})}}return h!==s&&void 0!==s.providers}function sm(s,o){for(let l of s)Te(l)&&(l=l.\u0275providers),Array.isArray(l)?sm(l,o):o(l)}const dR=re({provide:String,useValue:re});function Nr(s){return null!==s&&"object"==typeof s&&dR in s}function gu(s){return"function"==typeof s}const om=new fn("Set Injector scope."),am={},rb={};let Ny;function Uf(){return void 0===Ny&&(Ny=new eb),Ny}class $l{}class Bf extends $l{constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fy(o,v=>this.processProvider(v)),this.records.set(Zt,Ns(void 0,this)),h.has("environment")&&this.records.set($l,Ns(void 0,this));const g=this.records.get(om);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Jd.multi,Et,_t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Ar(this),u=xn(void 0);try{return o()}finally{Ar(l),xn(u)}}get(o,l=Vn,u=_t.Default){this.assertNotDestroyed(),u=Tt(u);const h=Ar(this),g=xn(void 0);try{if(!(u&_t.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function Py(s){return"function"==typeof s||"object"==typeof s&&s instanceof fn}(o)&&Qr(o);E=D&&this.injectableDefInScope(D)?Ns(Ba(o),am):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&_t.Self?Uf():this.parent).get(o,l=u&_t.Optional&&l===Vn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Ri]=v[Ri]||[]).unshift(fe(o)),h)throw v;return function U(s,o,l,u){const h=s[Ri];throw o[as]&&h.unshift(o[as]),s.message=function K(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(la,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Ri]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{xn(g),Ar(h)}}resolveInjectorInitializers(){const o=Ar(this),l=xn(void 0);try{const u=this.get(Ff.multi,Et,_t.Self);for(const h of u)h()}finally{Ar(o),xn(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(fe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(o){let l=gu(o=Y(o))?o:Y(o&&o.provide);const u=function jf(s){return Nr(s)?Ns(void 0,s.useValue):Ns(ib(s),am)}(o);if(gu(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ns(void 0,am,!0),h.factory=()=>xt(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===am&&(l.value=rb,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Hf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Y(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ba(s){const o=Qr(s),l=null!==o?o.factory:zs(s);if(null!==l)return l;if(s instanceof fn)throw new me(204,!1);if(s instanceof Function)return function Yt(s){const o=s.length;if(o>0)throw Ro(o,"?"),new me(204,!1);const l=function ho(s){const o=s&&(s[Hr]||s[yn]);if(o){const l=function Is(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new me(204,!1)}function ib(s,o,l){let u;if(gu(s)){const h=Y(s);return zs(h)||Ba(h)}if(Nr(s))u=()=>Y(s.useValue);else if(function Vf(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...xt(s.deps||[]));else if(function Ua(s){return!(!s||!s.useExisting)}(s))u=()=>Ge(Y(s.useExisting));else{const h=Y(s&&(s.useClass||s.provide));if(!function ZI(s){return!!s.deps}(s))return zs(h)||Ba(h);u=()=>new h(...xt(s.deps))}return u}function Ns(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Fy(s,o){for(const l of s)Array.isArray(l)?Fy(l,o):l&&Te(l)?Fy(l.\u0275providers,o):o(l)}class lm{}class eh{}class Ly{resolveComponentFactory(o){throw function sb(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Gl=(()=>{class s{}return s.NULL=new Ly,s})();function ob(){return mu(wr(),Me())}function mu(s,o){return new Gf(vr(s,o))}let Gf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=ob,s})();function KI(s){return s instanceof Gf?s.nativeElement:s}class ab{}let cm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function YI(){const s=Me(),l=hr(wr().index,s);return(ei(l)?l:s)[11]}(),s})(),QI=(()=>{class s{}return s.\u0275prov=yt({token:s,providedIn:"root",factory:()=>null}),s})();class lb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cb=new lb("15.0.4"),Vy={};function Uy(s){return s.ngOriginalError}class to{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Uy(o);for(;l&&Uy(l);)l=Uy(l);return l||null}}function Ho(s){return s instanceof Function?s():s}function fb(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const dm="ng-template";function Kf(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==fb(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function pb(s){return 4===s.type&&s.value!==dm}function jy(s,o,l){return o===(4!==s.type||l?s.value:dm)}function nS(s,o,l){let u=4;const h=s.attrs||[],g=function _u(s){for(let o=0;o<s.length;o++)if(So(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&u){if(u=2|1&u,""!==D&&!jy(s,D,l)||""===D&&1===o.length){if(Ps(u))return!1;v=!0}}else{const T=8&u?D:o[++E];if(8&u&&null!==s.attrs){if(!Kf(s.attrs,T,l)){if(Ps(u))return!1;v=!0}continue}const F=gb(8&u?"class":D,h,pb(s),l);if(-1===F){if(Ps(u))return!1;v=!0;continue}if(""!==T){let z;z=F>g?"":h[F+1].toLowerCase();const ne=8&u?z:null;if(ne&&-1!==fb(ne,T,0)||2&u&&T!==z){if(Ps(u))return!1;v=!0}}}}else{if(!v&&!Ps(u)&&!Ps(D))return!1;if(v&&Ps(D))continue;v=!1,u=D|1&u}}return Ps(u)||v}function Ps(s){return 0==(1&s)}function gb(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function hm(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function $o(s,o,l=!1){for(let u=0;u<o.length;u++)if(nS(s,o[u],l))return!0;return!1}function mb(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function _b(s,o){return s?":not("+o.trim()+")":o}function rS(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Ps(v)&&(o+=_b(g,h),h=""),u=v,g=g||!Ps(u);l++}return""!==h&&(o+=_b(g,h)),o}const Gt={};function yb(s){vb(en(),Me(),ni()+s,!1)}function vb(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&fi(o,g,l)}else{const g=s.preOrderHooks;null!==g&&ml(o,g,0,l)}Ca(l)}function Cb(s,o=null,l=null,u){const h=$y(s,o,l,u);return h.resolveInjectorInitializers(),h}function $y(s,o=null,l=null,u,h=new Set){const g=[l||Et,qI(s)];return u=u||("object"==typeof s?void 0:fe(s)),new Bf(g,o||Uf(),u||null,h)}let ja=(()=>{class s{static create(l,u){if(Array.isArray(l))return Cb({name:""},u,l,"");{const h=l.name??"";return Cb({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=Vn,s.NULL=new eb,s.\u0275prov=yt({token:s,providedIn:"any",factory:()=>Ge(Zt)}),s.__NG_ELEMENT_ID__=-1,s})();function yu(s,o=_t.Default){const l=Me();return null===l?Ge(s,o):lf(wr(),l,Y(s),o)}function pS(){throw new Error("invalid")}function gS(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const v=s.data[g];Oc(h),v.contentQueries(2,o[g],g)}}}function pm(s,o,l,u,h,g,v,E,D,T,k){const F=o.blueprint.slice();return F[0]=h,F[2]=76|u,(null!==k||s&&1024&s[2])&&(F[2]|=1024),ba(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=E||s&&s[11],F[12]=D||s&&s[12]||null,F[9]=T||s&&s[9]||null,F[6]=g,F[20]=function yf(){return Lg++}(),F[21]=k,F[16]=2==o.type?s[16]:F,F}function sh(s,o,l,u,h){let g=s.data[o];if(null===g)g=function Yy(s,o,l,u,h){const g=bo(),v=fl(),D=s.data[o]=function _S(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,l,u,h),function Mg(){return kt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const v=function hl(){const s=kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return di(g,!0),g}function vu(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Xi(s,o,l){pl(o);try{const u=s.viewQuery;null!==u&&uh(1,u,l);const h=s.template;null!==h&&oh(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&gS(s,o),s.staticViewQueries&&uh(2,s.viewQuery,l);const g=s.components;null!==g&&function Ky(s,o){for(let l=0;l<o.length;l++)RS(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Rg()}}function Qf(s,o,l,u){const h=o[2];if(128!=(128&h)){pl(o);try{ba(o),function xc(s){return kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&oh(s,o,l,2,u);const v=3==(3&h);if(v){const T=s.preOrderCheckHooks;null!==T&&fi(o,T,null)}else{const T=s.preOrderHooks;null!==T&&ml(o,T,0,null),Ni(o,0)}if(function ym(s){for(let o=Na(s);null!==o;o=jd(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(512&h[2])&&Ea(g,1),h[2]|=512}}}(o),function sv(s){for(let o=Na(s);null!==o;o=jd(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];wa(u)&&Qf(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&gS(s,o),v){const T=s.contentCheckHooks;null!==T&&fi(o,T)}else{const T=s.contentHooks;null!==T&&ml(o,T,1),Ni(o,1)}!function _R(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Ca(~h);else{const g=h,v=l[++u],E=l[++u];kc(v,g),E(2,o[g])}}}finally{Ca(-1)}}(s,o);const E=s.components;null!==E&&function yR(s,o){for(let l=0;l<o.length;l++)xS(s,o[l])}(o,E);const D=s.viewQuery;if(null!==D&&uh(2,D,u),v){const T=s.viewCheckHooks;null!==T&&fi(o,T)}else{const T=s.viewHooks;null!==T&&ml(o,T,2),Ni(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ea(o[3],-1))}finally{Rg()}}}function oh(s,o,l,u,h){const g=ni(),v=2&u;try{Ca(-1),v&&o.length>22&&vb(s,o,22,!1),l(u,h)}finally{Ca(g)}}function Qy(s,o,l){if(fa(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Xy(s,o,l){!dl()||(function mm(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;Oi(l)&&function AS(s,o,l){const u=vr(o,s),h=Xf(l),g=s[10],v=bu(s,pm(s,h,null,l.onPush?32:16,u,o,g,g.createRenderer(u,l),null,null,null));s[o.index]=v}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||Mo(l,o),Dr(u,o);const v=l.initialInputs;for(let E=h;E<g;E++){const D=s.data[E],T=Fi(o,s,E,l);Dr(T,o),null!==v&&MS(0,E-h,T,D,0,v),ti(D)&&(hr(l.index,o)[8]=Fi(o,s,E,l))}}(s,o,l,vr(l,o)),64==(64&l.flags)&&wu(s,o,l))}function gm(s,o,l=vr){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Xf(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Jy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Jy(s,o,l,u,h,g,v,E,D,T){const k=22+u,F=k+h,z=function mS(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Gt);return l}(k,F),ne="function"==typeof T?T():T;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ne,incompleteFirstPass:!1}}function lh(s,o,l,u){const h=dh(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&lv(s).push(u,h.length-1))}function Fb(s,o,l,u){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const g=s[h];null===u?ch(l,o,h,g):u.hasOwnProperty(h)&&ch(l,o,u[h],g)}return l}function ch(s,o,l,u){s.hasOwnProperty(l)?s[l].push(o,u):s[l]=[o,u]}function Lb(s,o){const l=hr(o,s);16&l[2]||(l[2]|=32)}function ev(s,o,l,u){let h=!1;if(dl()){const g=null===u?null:{"":-1},v=function DS(s,o){const l=s.directiveRegistry;let u=null,h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if($o(o,v.selectors,!1))if(u||(u=[]),ti(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),u.unshift(...E,v),nv(s,o,E.length)}else u.unshift(v),nv(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(s,l);let E,D;null===v?E=D=null:[E,D]=v,null!==E&&(h=!0,wS(s,o,l,E,g,D)),g&&function CS(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new me(-301,!1);u.push(o[h],g)}}}(l,u,g)}return l.mergedAttrs=ks(l.mergedAttrs,l.attrs),h}function wS(s,o,l,u,h,g){for(let T=0;T<u.length;T++)jc(Mo(l,o),s,u[T].type);!function SS(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,u.length);for(let T=0;T<u.length;T++){const k=u[T];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,D=vu(s,o,u.length,null);for(let T=0;T<u.length;T++){const k=u[T];l.mergedAttrs=ks(l.mergedAttrs,k.hostAttrs),TS(s,l,o,D,k),IS(D,k,h),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const F=k.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!E&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),D++}!function Jf(s,o,l){const h=o.directiveEnd,g=s.data,v=o.attrs,E=[];let D=null,T=null;for(let k=o.directiveStart;k<h;k++){const F=g[k],z=l?l.get(F):null,we=z?z.outputs:null;D=Fb(F.inputs,k,D,z?z.inputs:null),T=Fb(F.outputs,k,T,we);const Be=null===D||null===v||pb(o)?null:rv(D,k,v);E.push(Be)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=D,o.outputs=T}(s,l,g)}function wu(s,o,l){const u=l.directiveStart,h=l.directiveEnd,g=l.index,v=function Da(){return kt.lFrame.currentDirectiveIndex}();try{Ca(g);for(let E=u;E<h;E++){const D=s.data[E],T=o[E];Dd(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ES(D,T)}}finally{Ca(-1),Dd(v)}}function ES(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function nv(s,o,l){o.componentOffset=l,(s.components||(s.components=[])).push(o.index)}function IS(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;ti(o)&&(l[""]=s)}}function TS(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=zs(h.type)),v=new Ia(g,ti(h),yu);s.blueprint[u]=v,l[u]=v,function bS(s,o,l,u,h){const g=h.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function tv(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,u,g)}}(s,o,u,vu(s,l,h.hostVars,Gt),h)}function Go(s,o,l,u,h,g){const v=vr(s,o);!function _m(s,o,l,u,h,g,v){if(null==g)s.removeAttribute(o,h,l);else{const E=null==v?Se(g):v(g,u||"",h);s.setAttribute(o,h,E,l)}}(o[11],v,g,s.value,l,u,h)}function MS(s,o,l,u,h,g){const v=g[o];if(null!==v){const E=u.setInput;for(let D=0;D<v.length;){const T=v[D++],k=v[D++],F=v[D++];null!==E?u.setInput(l,F,T,k):l[k]=F}}}function rv(s,o,l){let u=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===u&&(u=[]);const v=s[g];for(let E=0;E<v.length;E+=2)if(v[E]===o){u.push(g,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function iv(s,o,l,u){return[s,!0,!1,o,null,0,u,l,null,null]}function xS(s,o){const l=hr(o,s);if(wa(l)){const u=l[1];48&l[2]?Qf(u,l,u.template,l[8]):l[5]>0&&ov(l)}}function ov(s){for(let u=Na(s);null!==u;u=jd(u))for(let h=10;h<u.length;h++){const g=u[h];if(wa(g))if(512&g[2]){const v=g[1];Qf(v,g,v.template,g[8])}else g[5]>0&&ov(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=hr(l[u],s);wa(h)&&h[5]>0&&ov(h)}}function RS(s,o){const l=hr(o,s),u=l[1];(function kS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Xi(u,l,l[8])}function bu(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function vm(s){for(;s;){s[2]|=32;const o=No(s);if(pa(s)&&!o)return s;s=o}return null}function ep(s,o,l,u=!0){const h=o[10];h.begin&&h.begin();try{Qf(s,o,s.template,l)}catch(v){throw u&&Ub(o,v),v}finally{h.end&&h.end()}}function uh(s,o,l){Oc(0),o(s,l)}function dh(s){return s[7]||(s[7]=[])}function lv(s){return s.cleanup||(s.cleanup=[])}function Ub(s,o){const l=s[9],u=l?l.get(to,null):null;u&&u.handleError(o)}function cv(s,o,l,u,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],D=o[v],T=s.data[v];null!==T.setInput?T.setInput(D,h,u,E):D[E]=h}}function wm(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(u=he(u,E+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}function tp(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(Wn(g)),ki(g))for(let E=10;E<g.length;E++){const D=g[E],T=D[1].firstChild;null!==T&&tp(D[1],D,T,u)}const v=l.type;if(8&v)tp(s,o,l.child,u);else if(32&v){const E=wf(l,o);let D;for(;D=E();)u.push(D)}else if(16&v){const E=Yg(o,l);if(Array.isArray(E))u.push(...E);else{const D=No(o[16]);tp(D[1],D,E,u,!0)}}l=h?l.projectionNext:l.next}return u}class np{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return tp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ki(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(su(o,u),Ra(l,u))}this._attachedToViewContainer=!1}$d(this._lView[1],this._lView)}onDestroy(o){lh(this._lView[1],this._lView,null,o)}markForCheck(){vm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ep(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iu(s,o){Ll(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=o}}class NS extends np{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ep(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Bb extends Gl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jt(o);return new rp(l,this.ngModule)}}function jb(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class FS{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){u=Tt(u);const h=this.injector.get(o,Vy,u);return h!==Vy||l===Vy?h:this.parentInjector.get(o,l,u)}}class rp extends eh{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function iS(s){return s.map(rS).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return jb(this.componentDef.inputs)}get outputs(){return jb(this.componentDef.outputs)}create(o,l,u,h){let g=(h=h||this.ngModule)instanceof $l?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new FS(o,g):o,E=v.get(ab,null);if(null===E)throw new me(407,!1);const D=v.get(QI,null),T=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=u?function ah(s,o,l){return s.selectRootElement(o,l===Kt.ShadowDom)}(T,u,this.componentDef.encapsulation):Pa(T,k,function PS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),z=this.componentDef.onPush?288:272,ne=Jy(0,null,null,1,0,null,null,null,null,null),we=pm(null,ne,null,z,null,null,E,T,D,v,null);let Be,We;pl(we);try{const tt=this.componentDef;let et,Oe=null;tt.findHostDirectiveDefs?(et=[],Oe=new Map,tt.findHostDirectiveDefs(tt,et,Oe),et.push(tt)):et=[tt];const Ft=function $b(s,o){const l=s[1];return s[22]=o,sh(l,22,2,"#host",null)}(we,F),Ln=function Gb(s,o,l,u,h,g,v,E){const D=h[1];!function bR(s,o,l,u){for(const h of s)o.mergedAttrs=ks(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(wm(o,o.mergedAttrs,!0),null!==l&&Xg(u,l,o))}(u,s,o,v);const T=g.createRenderer(o,l),k=pm(h,Xf(l),null,l.onPush?32:16,h[s.index],s,g,T,E||null,null,null);return D.firstCreatePass&&nv(D,s,u.length-1),bu(h,k),h[s.index]=k}(Ft,F,tt,et,we,E,T);We=wo(ne,22),F&&function qb(s,o,l,u){if(u)An(s,l,["ng-version",cb.full]);else{const{attrs:h,classes:g}=function sS(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!Ps(h))break;h=g}u++}return{attrs:o,classes:l}}(o.selectors[0]);h&&An(s,l,h),g&&g.length>0&&Uo(s,l,g.join(" "))}}(T,tt,F,u),void 0!==l&&function LS(s,o,l){const u=s.projection=[];for(let h=0;h<o.length;h++){const g=l[h];u.push(null!=g?Array.from(g):null)}}(We,this.ngContentSelectors,l),Be=function zb(s,o,l,u,h,g){const v=wr(),E=h[1],D=vr(v,h);wS(E,h,v,l,null,u);for(let k=0;k<l.length;k++)Dr(Fi(h,E,v.directiveStart+k,v),h);wu(E,h,v),D&&Dr(D,h);const T=Fi(h,E,v.directiveStart+v.componentOffset,v);if(s[8]=h[8]=T,null!==g)for(const k of g)k(T,o);return Qy(E,v,s),T}(Ln,tt,et,Oe,we,[VS]),Xi(ne,we,null)}finally{Rg()}return new Hb(this.componentType,Be,mu(We,we),we,We)}}class Hb extends lm{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new NS(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){const g=this._rootLView;cv(g[1],g,h,o,l),Lb(g,this._tNode.index)}}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function VS(){const s=wr();xs(Me()[1],s)}function uv(s){let o=function Wb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(ti(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new me(903,!1);h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=dv(s.inputs),v.declaredInputs=dv(s.declaredInputs),v.outputs=dv(s.outputs);const E=h.hostBindings;E&&BS(s,E);const D=h.viewQuery,T=h.contentQueries;if(D&&Zb(s,D),T&&hv(s,T),ve(s.inputs,h.inputs),ve(s.declaredInputs,h.declaredInputs),ve(s.outputs,h.outputs),ti(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===uv&&(l=!1)}}o=Object.getPrototypeOf(o)}!function US(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=ks(h.hostAttrs,l=ks(l,h.hostAttrs))}}(u)}function dv(s){return s===kn?{}:s===Et?[]:s}function Zb(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function hv(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,g)=>{o(u,h,g),l(u,h,g)}:o}function BS(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let bm=null;function Eu(){if(!bm){const s=Rt.Symbol;if(s&&s.iterator)bm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(bm=u)}}}return bm}function ip(s){return!!yv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Eu()in s)}function yv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ei(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function vv(s,o,l,u){const h=Me();return Ei(h,us(),o)&&(en(),Go(En(),h,s,o,l,u)),vv}function Xb(s,o,l,u,h,g,v,E){const D=Me(),T=en(),k=s+22,F=T.firstCreatePass?function Ev(s,o,l,u,h,g,v,E,D){const T=o.consts,k=sh(o,s,4,v||null,Gi(T,E));ev(o,l,k,Gi(T,D)),xs(o,k);const F=k.tViews=Jy(2,k,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,k),F.queries=o.queries.embeddedTView(k)),k}(k,T,D,o,l,u,h,g,v):T.data[k];di(F,!1);const z=D[11].createComment("");au(T,D,z,F),Dr(z,D),bu(D,D[k]=iv(z,D,z,F)),wc(F)&&Xy(T,D,F),null!=v&&gm(D,F,E)}function Jb(s){return function Ms(s,o){return s[o]}(function Mc(){return kt.lFrame.contextLView}(),22+s)}function Im(s,o,l){const u=Me();return Ei(u,us(),o)&&function ms(s,o,l,u,h,g,v,E){const D=vr(o,l);let k,T=o.inputs;!E&&null!=T&&(k=T[u])?(cv(s,l,k,u,h),Oi(o)&&Lb(l,o.index)):3&o.type&&(u=function yS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,g.setProperty(D,u,h))}(en(),En(),u,s,o,u[11],l,!1),Im}function Dv(s,o,l,u,h){const v=h?"class":"style";cv(s,l,o.inputs[v],v,u)}function Zl(s,o,l,u){const h=Me(),g=en(),v=22+s,E=h[11],D=h[v]=Pa(E,o,function kg(){return kt.lFrame.currentNamespace}()),T=g.firstCreatePass?function DR(s,o,l,u,h,g,v){const E=o.consts,T=sh(o,s,2,h,Gi(E,g));return ev(o,l,T,Gi(E,v)),null!==T.attrs&&wm(T,T.attrs,!1),null!==T.mergedAttrs&&wm(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,g,h,0,o,l,u):g.data[v];return di(T,!0),Xg(E,D,T),32!=(32&T.flags)&&au(g,h,D,T),0===function ul(){return kt.lFrame.elementDepthCount}()&&Dr(D,h),function Tc(){kt.lFrame.elementDepthCount++}(),wc(T)&&(Xy(g,h,T),Qy(g,T,h)),null!==u&&gm(h,T),Zl}function Cv(){let s=wr();fl()?Eo():(s=s.parent,di(s,!1));const o=s;!function vd(){kt.lFrame.elementDepthCount--}();const l=en();return l.firstCreatePass&&(xs(l,s),fa(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Vc(s){return 0!=(8&s.flags)}(o)&&Dv(l,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Td(s){return 0!=(16&s.flags)}(o)&&Dv(l,o,Me(),o.stylesWithoutHost,!1),Cv}function Sm(s,o,l,u){return Zl(s,o,l,u),Cv(),Sm}function Tm(s,o,l){const u=Me(),h=en(),g=s+22,v=h.firstCreatePass?function KS(s,o,l,u,h){const g=o.consts,v=Gi(g,u),E=sh(o,s,8,"ng-container",v);return null!==v&&wm(E,v,!0),ev(o,l,E,Gi(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,u,o,l):h.data[g];di(v,!0);const E=u[g]=u[11].createComment("");return au(h,u,E,v),Dr(E,u),wc(v)&&(Xy(h,u,v),Qy(h,v,u)),null!=l&&gm(u,v),Tm}function lp(){let s=wr();const o=en();return fl()?Eo():(s=s.parent,di(s,!1)),o.firstCreatePass&&(xs(o,s),fa(s)&&o.queries.elementEnd(s)),lp}function Iv(s,o,l){return Tm(s,o,l),lp(),Iv}function eE(){return Me()}function Sv(s){return!!s&&"function"==typeof s.then}function tE(s){return!!s&&"function"==typeof s.subscribe}const nE=tE;function Am(s,o,l,u){const h=Me(),g=en(),v=wr();return function mh(s,o,l,u,h,g,v){const E=wc(u),T=s.firstCreatePass&&lv(s),k=o[8],F=dh(o);let z=!0;if(3&u.type||v){const Be=vr(u,o),We=v?v(Be):Be,tt=F.length,et=v?Ft=>v(Wn(Ft[u.index])):u.index;let Oe=null;if(!v&&E&&(Oe=function CR(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===u){const E=o[7],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,z=!1;else{g=Mm(u,o,k,g,!1);const Ft=l.listen(We,h,g);F.push(g,Ft),T&&T.push(h,et,tt,tt+1)}}else g=Mm(u,o,k,g,!1);const ne=u.outputs;let we;if(z&&null!==ne&&(we=ne[h])){const Be=we.length;if(Be)for(let We=0;We<Be;We+=2){const Ln=o[we[We]][we[We+1]].subscribe(g),In=F.length;F.push(g,Ln),T&&T.push(h,u.index,In,-(In+1))}}}(g,h,h[11],v,s,o,u),Am}function cp(s,o,l,u){try{return!1!==l(u)}catch(h){return Ub(s,h),!1}}function Mm(s,o,l,u,h){return function g(v){if(v===Function)return u;vm(s.componentOffset>-1?hr(s.index,o):o);let D=cp(o,0,u,v),T=g.__ngNextListenerFn__;for(;T;)D=cp(o,0,T,v)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Tv(s=1){return function dy(s){return(kt.lFrame.contextLView=function Nc(s,o){for(;s>0;)o=o[15],s--;return o}(s,kt.lFrame.contextLView))[8]}(s)}function YS(s,o){let l=null;const u=function Hy(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?$o(s,g,!0):mb(u,g))return h}else l=h}return l}function QS(s){const o=Me()[16][6];if(!o.projection){const u=o.projection=Ro(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const v=s?YS(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:u[v]=g,h[v]=g),g=g.next}}}function iE(s,o=0,l){const u=Me(),h=en(),g=sh(h,22+s,16,null,l||null);null===g.projection&&(g.projection=o),Eo(),32!=(32&g.flags)&&function Wd(s,o,l){cu(o[11],0,o,l,Cf(s,l,o),Kg(l.parent||o[6],l,o))}(h,u,g)}function km(s,o){return s<<17|o<<2}function Kl(s){return s>>17&32767}function yh(s){return 2|s}function nr(s){return(131068&s)>>2}function qo(s,o){return-131069&s|o<<2}function Om(s){return 1|s}function hp(s,o,l,u,h){const g=s[l+1],v=null===o;let E=u?Kl(g):nr(g),D=!1;for(;0!==E&&(!1===D||v);){const k=s[E+1];lE(s[E],o)&&(D=!0,s[E+1]=u?Om(k):yh(k)),E=u?Kl(k):nr(k)}D&&(s[l+1]=u?yh(g):Om(g))}function lE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&an(s,o)>=0}function pp(s,o,l){return Li(s,o,l,!1),pp}function Rv(s,o){return Li(s,o,null,!0),Rv}function Li(s,o,l,u){const h=Me(),g=en(),v=function hi(s){const o=kt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function fE(s,o,l,u){const h=s.data;if(null===h[l+1]){const g=h[ni()],v=function vh(s,o){return o>=s.expandoStartIndex}(s,l);(function mE(s,o){return 0!=(s.flags&(o?8:16))})(g,u)&&null===o&&!v&&(o=!1),o=function iT(s,o,l,u){const h=function Ks(s){const o=kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=wh(l=Lm(null,s,o,l,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Lm(h,s,o,l,u),null===g){let D=function Fm(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==nr(u))return s[Kl(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=Lm(null,s,o,D[1],u),D=wh(D,o.attrs,u),function Ov(s,o,l,u){s[Kl(l?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else g=function pE(s,o,l){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=wh(u,s[g].hostAttrs,l);return wh(u,o.attrs,l)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,u),function Ci(s,o,l,u,h,g){let v=g?o.classBindings:o.styleBindings,E=Kl(v),D=nr(v);s[u]=l;let k,T=!1;if(Array.isArray(l)){const F=l;k=F[1],(null===k||an(F,k)>0)&&(T=!0)}else k=l;if(h)if(0!==D){const z=Kl(s[E+1]);s[u+1]=km(z,E),0!==z&&(s[z+1]=qo(s[z+1],u)),s[E+1]=function Di(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=km(E,0),0!==E&&(s[E+1]=qo(s[E+1],u)),E=u;else s[u+1]=km(D,0),0===E?E=u:s[D+1]=qo(s[D+1],u),D=u;T&&(s[u+1]=yh(s[u+1])),hp(s,k,u,!0),hp(s,k,u,!1),function tT(s,o,l,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&an(g,o)>=0&&(l[u+1]=Om(l[u+1]))}(o,k,s,u,g),v=km(E,D),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,u)}}(g,s,v,u),o!==Gt&&Ei(h,v,o)&&function Bm(s,o,l,u,h,g,v,E){if(!(3&o.type))return;const D=s.data,T=D[E+1],k=function JS(s){return 1==(1&s)}(T)?jm(D,o,l,h,nr(T),v):void 0;gp(k)||(gp(g)||function XS(s){return 2==(2&s)}(T)&&(g=jm(D,null,l,h,E,v)),function Sy(s,o,l,u,h){if(o)h?s.addClass(l,u):s.removeClass(l,u);else{let g=-1===u.indexOf("-")?void 0:gs.DashCase;null==h?s.removeStyle(l,u,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=gs.Important),s.setStyle(l,u,h,g))}}(u,v,Zs(ni(),l),h,g))}(g,g.data[ni()],h,h[11],s,h[v+1]=function gE(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(w(s)))),s}(o,l),u,v)}function Lm(s,o,l,u,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],u=wh(u,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),u}function wh(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),wn(s,v,!!l||o[++g]))}return void 0===s?null:s}function jm(s,o,l,u,h,g){const v=null===o;let E;for(;h>0;){const D=s[h],T=Array.isArray(D),k=T?D[1]:D,F=null===k;let z=l[h+1];z===Gt&&(z=F?Et:void 0);let ne=F?pe(z,u):k===u?z:void 0;if(T&&!gp(ne)&&(ne=pe(D,u)),gp(ne)&&(E=ne,v))return E;const we=s[h+1];h=v?Kl(we):nr(we)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=pe(D,u))}return E}function gp(s){return void 0!==s}function Pv(s,o=""){const l=Me(),u=en(),h=s+22,g=u.firstCreatePass?sh(u,h,1,o,null):u.data[h],v=l[h]=function ru(s,o){return s.createText(o)}(l[11],o);au(u,l,v,g),di(g,!1)}function Hm(s){return bh("",s,""),Hm}function bh(s,o,l){const u=Me(),h=function fh(s,o,l,u){return Ei(s,us(),l)?o+Se(l)+u:Gt}(u,s,o,l);return h!==Gt&&function Ha(s,o,l){const u=Zs(o,s);!function Hd(s,o,l){s.setValue(o,l)}(s[11],u,l)}(u,ni(),h),bh}const Yo=void 0;var vp=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SE(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let xu={};function Wm(s){const o=function AE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=qv(o);if(l)return l;const u=o.split("-")[0];if(l=qv(u),l)return l;if("en"===u)return vp;throw new me(701,!1)}function wp(s){return Wm(s)[St.PluralCase]}function qv(s){return s in xu||(xu[s]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[s]),xu[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const Xl="en-US";let Km=Xl;function i_(s,o,l,u,h){if(s=Y(s),Array.isArray(s))for(let g=0;g<s.length;g++)i_(s[g],o,l,u,h);else{const g=en(),v=Me();let E=gu(s)?s:Y(s.provide),D=ib(s);const T=wr(),k=1048575&T.providerIndexes,F=T.directiveStart,z=T.providerIndexes>>20;if(gu(s)||!s.multi){const ne=new Ia(D,h,yu),we=o_(E,o,h?k:k+z,F);-1===we?(jc(Mo(T,v),g,E),Np(g,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(ne),v.push(ne)):(l[we]=ne,v[we]=ne)}else{const ne=o_(E,o,k+z,F),we=o_(E,o,k,k+z),Be=ne>=0&&l[ne],We=we>=0&&l[we];if(h&&!We||!h&&!Be){jc(Mo(T,v),g,E);const tt=function Fu(s,o,l,u,h){const g=new Ia(s,l,yu);return g.multi=[],g.index=o,g.componentProviders=0,s_(g,h,u&&!l),g}(h?zE:a_,l.length,h,u,D);!h&&We&&(l[we].providerFactory=tt),Np(g,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(tt),v.push(tt)}else Np(g,s,ne>-1?ne:we,s_(l[h?we:ne],D,!h&&u));!h&&u&&We&&l[we].componentProviders++}}}function Np(s,o,l,u){const h=gu(o),g=function nb(s){return!!s.useClass}(o);if(h||g){const D=(g?Y(o.useClass):o).prototype.ngOnDestroy;if(D){const T=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const k=T.indexOf(l);-1===k?T.push(l,[u,D]):T[k+1].push(u,D)}else T.push(l,D)}}}function s_(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function o_(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function a_(s,o,l,u){return l_(this.multi,[])}function zE(s,o,l,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Fi(l,l[1],this.providerFactory.index,u);g=E.slice(0,v),l_(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],l_(h,g);return g}function l_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function pw(s,o=[]){return l=>{l.providersResolver=(u,h)=>function GE(s,o,l){const u=en();if(u.firstCreatePass){const h=ti(s);i_(l,u.data,u.blueprint,h,!0),i_(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Lu{}class gw{}function qE(s,o){return new es(s,o??null)}class es extends Lu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bb(this);const u=xr(o);this._bootstrapComponents=Ho(u.bootstrap),this._r3Injector=$y(o,l,[{provide:Lu,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class c_ extends gw{constructor(o){super(),this.moduleType=o}create(o){return new es(this.moduleType,o)}}class WE extends Lu{constructor(o,l,u){super(),this.componentFactoryResolver=new Bb(this),this.instance=null;const h=new Bf([...o,{provide:Lu,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],l||Uf(),u,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function tc(s,o,l=null){return new WE(s,o,l).injector}let ST=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const u=tb(0,l.type),h=u.length>0?tc([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=yt({token:s,providedIn:"environment",factory:()=>new s(Ge($l))}),s})();function ZE(s){s.getStandaloneInjector=o=>o.get(ST).getOrCreateStandaloneInjector(s)}function Xn(s){return o=>{setTimeout(s,void 0,o)}}const $e=class NT extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,g=l||(()=>null),v=u;if(o&&"object"==typeof o){const D=o;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=Xn(g),h&&(h=Xn(h)),v&&(v=Xn(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof te.w0&&o.add(E),E}};function h_(){return this._results[Eu()]()}class Vp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Eu(),u=Vp.prototype;u[l]||(u[l]=h_)}get changes(){return this._changes||(this._changes=new $e)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=function ri(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Fd(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ao=(()=>{class s{}return s.__NG_ELEMENT_ID__=FT,s})();const PT=ao,f_=class extends PT{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o,l){const u=this._declarationTContainer.tViews,h=pm(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(u)),Xi(u,h,o),new np(h)}};function FT(){return nc(wr(),Me())}function nc(s,o){return 4&s.type?new f_(o,s,mu(s,o)):null}let Up=(()=>{class s{}return s.__NG_ELEMENT_ID__=sD,s})();function sD(){return qa(wr(),Me())}const ys=Up,p_=class extends ys{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Dl(this._hostTNode,this._hostLView);if(Ad(o)){const l=Ao(o,this._hostLView),u=yl(o);return new gi(l[1].data[u+8],l)}return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=ww(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){let h,g;"number"==typeof u?h=u:null!=u&&(h=u.index,g=u.injector);const v=o.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(o,l,u,h,g){const v=o&&!function xa(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const F=l||{};E=F.index,u=F.injector,h=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const D=v?o:new rp(Jt(o)),T=u||this.parentInjector;if(!g&&null==D.ngModule){const z=(v?T:this.parentInjector).get($l,null);z&&(g=z)}const k=D.create(T,h,void 0,g);return this.insert(k.hostView,E),k}insert(o,l){const u=o._lView,h=u[1];if(function ll(s){return ki(s[3])}(u)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const F=u[3],z=new p_(F,F[6],F[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Ey(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],Al(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Dy(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,u,v,g);const E=ii(g,v),D=u[11],T=Gd(D,v[7]);return null!==T&&function qg(s,o,l,u,h,g){u[0]=h,u[6]=o,Ll(s,u,l,1,h,g)}(h,v[6],D,u,T,E),o.attachToViewContainerRef(),Al(g_(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=ww(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=su(this._lContainer,l);u&&(Ra(g_(this._lContainer),l),$d(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=su(this._lContainer,l);return u&&null!=Ra(g_(this._lContainer),l)?new np(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function ww(s){return s[8]}function g_(s){return s[8]||(s[8]=[])}function qa(s,o){let l;const u=o[s.index];if(ki(u))l=u;else{let h;if(8&s.type)h=Wn(u);else{const g=o[11];h=g.createComment("");const v=vr(s,o);Fo(g,Gd(g,v),h,function Iy(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=l=iv(u,o,h,s),bu(o,l)}return new p_(l,s,o)}class Bp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class ue{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new ue(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Ih(o,l).matches&&this.queries[l].setDirty()}}class jp{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class vs{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new vs(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class bw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new bw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,Hp(l,g)),this.matchTNodeWithReadOption(o,l,Aa(l,o,g,!1,!1))}else u===ao?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Aa(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Gf||h===Up||h===ao&&4&l.type)this.addMatch(l.index,-2);else{const g=Aa(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Hp(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function LT(s,o,l,u){return-1===l?function rc(s,o){return 11&s.type?mu(s,o):4&s.type?nc(s,o):null}(o,s):-2===l?function ju(s,o,l){return l===Gf?mu(o,s):l===ao?nc(o,s):l===Up?qa(o,s):void 0}(s,o,u):Fi(s,s[1],l,o)}function Ew(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let D=0;D<v.length;D+=2){const T=v[D];E.push(T<0?null:LT(o,g[T],v[D+1],l.metadata.read))}h.matches=E}return h.matches}function $p(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=Ew(s,o,h,l);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)u.push(v[E/2]);else{const T=g[E+1],k=o[-D];for(let F=10;F<k.length;F++){const z=k[F];z[17]===z[3]&&$p(z[1],z,T,u)}if(null!==k[9]){const F=k[9];for(let z=0;z<F.length;z++){const ne=F[z];$p(ne[1],ne,T,u)}}}}}return u}function oD(s){const o=Me(),l=en(),u=Cd();Oc(u+1);const h=Ih(l,u);if(s.dirty&&function va(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?$p(l,o,u,[]):Ew(l,o,h,u);s.reset(g,KI),s.notifyOnChanges()}return!0}return!1}function aD(s,o,l){const u=en();u.firstCreatePass&&(sc(u,new jp(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),Dw(u,Me(),o)}function ts(s,o,l,u){const h=en();if(h.firstCreatePass){const g=wr();sc(h,new jp(o,l,u),g.index),function cD(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Dw(h,Me(),l)}function lD(){return function ic(s,o){return s[19].queries[o].queryList}(Me(),Cd())}function Dw(s,o,l){const u=new Vp(4==(4&l));lh(s,o,u,u.destroy),null===o[19]&&(o[19]=new ue),o[19].queries.push(new Bp(u))}function sc(s,o,l){null===s.queries&&(s.queries=new vs),s.queries.track(new bw(o,l))}function Ih(s,o){return s.queries.getByIndex(o)}function Wa(...s){}const Yr=new fn("Application Initializer");let Yp=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Wa,this.reject=Wa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Sv(g))l.push(g);else if(nE(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Ge(Yr,8))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Fn=new fn("AppId",{providedIn:"root",factory:function ID(){return`${Za()}${Za()}${Za()}`}});function Za(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mh=new fn("Platform Initializer"),E_=new fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qp=new fn("appBootstrapListener"),TD=new fn("AnimationModuleType");let Ka=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ya=new fn("LocaleId",{providedIn:"root",factory:()=>Qe(Ya,_t.Optional|_t.SkipSelf)||function AD(){return typeof $localize<"u"&&$localize.locale||Xl}()}),MD=new fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class zu{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Vi=(()=>{class s{compileModuleSync(l){return new c_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=Ho(xr(l).declarations).reduce((v,E)=>{const D=Jt(E);return D&&v.push(new rp(D)),v},[]);return new zu(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const OD=(()=>Promise.resolve(0))();function Nw(s){typeof Zone>"u"?OD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ws{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ND(){let s=Rt.requestAnimationFrame,o=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PD(s){const o=()=>{!function zT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Rt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,cc(s),s.isCheckStableRunning=!0,Pw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),cc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,v,E)=>{try{return uc(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Fw(s)}},onInvoke:(l,u,h,g,v,E,D)=>{try{return uc(s),l.invoke(h,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Fw(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,cc(s),Pw(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new me(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,C_,Wa,Wa);try{return g.runTask(v,l,u)}finally{g.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const C_={};function Pw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function cc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function uc(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Fw(s){s._nesting--,Pw(s)}class qu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const Lw=new fn(""),Wu=new fn("");let Uw,FD=(()=>{class s{constructor(l,u,h){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uw||(function Jp(s){Uw=s}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),Nw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nw(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Ge(ws),Ge(Vw),Ge(Wu))},s.\u0275prov=yt({token:s,factory:s.\u0275fac}),s})(),Vw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Uw?.findTestabilityInTree(this,l,u)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),dc=null;const $n=new fn("AllowMultipleToken"),xh=new fn("PlatformDestroyListeners");class qT{constructor(o,l){this.name=o,this.token=l}}function Bw(s,o,l=[]){const u=`Platform: ${o}`,h=new fn(u);return(g=[])=>{let v=jw();if(!v||v.injector.get($n,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function VD(s){if(dc&&!dc.get($n,!1))throw new me(400,!1);dc=s;const o=s.get(mr);(function ta(s){const o=s.get(Mh,null);o&&o.forEach(l=>l())})(s)}(function Zu(s=[],o){return ja.create({name:o,providers:[{provide:om,useValue:"platform"},{provide:xh,useValue:new Set([()=>dc=null])},...s]})}(E,u))}return function UD(s){const o=jw();if(!o)throw new me(401,!1);return o}()}}function jw(){return dc?.get(mr)??null}let mr=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const h=function Hw(s,o){let l;return l="noop"===s?new qu:("zone.js"===s?void 0:s)||new ws(o),l}(u?.ngZone,function on(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:ws,useValue:h}];return h.run(()=>{const v=ja.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),D=E.injector.get(to,null);if(!D)throw new me(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{D.handleError(k)}});E.onDestroy(()=>{oi(this._modules,E),T.unsubscribe()})}),function $w(s,o,l){try{const u=l();return Sv(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(D,h,()=>{const T=E.injector.get(Yp);return T.runInitializers(),T.donePromise.then(()=>(function Ep(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(Km=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ya,Xl)||Xl),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,u=[]){const h=Qa({},u);return function LD(s,o,l){const u=new c_(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(I_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new me(403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(xh,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Ge(ja))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Qa(s,o){return Array.isArray(o)?o.reduce(Qa,s):{...s,...o}}let I_=(()=>{class s{constructor(l,u,h){this._zone=l,this._injector=u,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),Nw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(g,v.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const h=l instanceof eh;if(!this._injector.get(Yp).done)throw!h&&er(l),new me(405,false);let v;v=h?l:this._injector.get(Gl).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function eg(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Lu),T=v.create(ja.NULL,[],u||v.selector,E),k=T.location.nativeElement,F=T.injector.get(Lw,null);return F?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),oi(this.components,T),F?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;oi(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(Qp,[]);u.push(...this._bootstrapListeners),u.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>oi(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Ge(ws),Ge($l),Ge(to))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function oi(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function jD(){return!1}let KT=(()=>{class s{}return s.__NG_ELEMENT_ID__=Wt,s})();function Wt(s){return function YT(s,o,l){if(Oi(s)&&!l){const u=hr(s.index,o);return new np(u,u)}return 47&s.type?new np(o[16],o):null}(wr(),Me(),16==(16&s))}class R_{constructor(){}supports(o){return ip(o)}create(o){return new rg(o)}}const WD=(s,o)=>o;class rg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||WD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const v=!u||l&&l.currentIndex<YD(u,h,g)?l:u,E=YD(v,h,g),D=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const T=E-h,k=D-h;if(T!=k){for(let z=0;z<T;z++){const ne=z<g.length?g[z]:g[z]=0,we=ne+z;k<=we&&we<T&&(g[z]=ne+1)}g[v.previousIndex]=k-T}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!ip(o))throw new me(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),u=!0),l=l._next}else h=0,function Em(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Eu()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new ZD(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Qw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ZD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Qw{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new KD,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YD(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class QD{constructor(){}supports(o){return o instanceof Map||yv(o)}create(){return new ig}}class ig{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||yv(o)))throw new me(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new Xw(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class Xw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XD(){return new k_([new R_])}let k_=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||XD()),deps:[[s,new S,new Rl]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new me(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:XD}),s})();function Jw(){return new e0([new QD])}let e0=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Jw()),deps:[[s,new S,new Rl]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new me(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:Jw}),s})();const Oh=Bw(null,"core",[]);let Nh=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Ge(I_))},s.\u0275mod=On({type:s}),s.\u0275inj=ai({}),s})();function tC(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(at,De,P)=>{P.d(De,{Z:()=>ze});var d=P(2090),te=P(4859),N=P(9681),le=P(1877);class ce{constructor(me,Ae){this._delegate=me,this.firebase=Ae,(0,N._addComponent)(me,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(me,Ae=N._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(me);return!Le.isInitialized()&&"EXPLICIT"===(null===(Se=Le.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ae})}_removeServiceInstance(me,Ae=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ae)}_addComponent(me){(0,N._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,N._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function he(){const ot=function fe(ot){const me={},Ae={__esModule:!0,initializeApp:function ke(Pe,B={}){const be=N.initializeApp(Pe,B);if((0,d.r3)(me,be.name))return me[be.name];const W=new ot(be,Ae);return me[be.name]=W,W},app:Le,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function xe(Pe){const B=Pe.name,be=B.replace("-compat","");if(N._registerComponent(Pe)&&"PUBLIC"===Pe.type){const W=(J=Le())=>{if("function"!=typeof J[be])throw ve.create("invalid-app-argument",{appName:B});return J[be]()};void 0!==Pe.serviceProps&&(0,d.ZB)(W,Pe.serviceProps),Ae[be]=W,ot.prototype[be]=function(...J){return this._getService.bind(this,B).apply(this,Pe.multipleInstances?J:[])}}return"PUBLIC"===Pe.type?Ae[be]:null},removeApp:function Se(Pe){delete me[Pe]},useAsService:function je(Pe,B){return"serverAuth"===B?null:B},modularAPIs:N}};function Le(Pe){if(!(0,d.r3)(me,Pe=Pe||N._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Pe});return me[Pe]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Ee(){return Object.keys(me).map(Pe=>me[Pe])}}),Le.App=ot,Ae}(ce);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function me(Ae){(0,d.ZB)(ot,Ae)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ot}(),H=new le.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=j;!function Te(ot){(0,N.registerVersion)("@firebase/app-compat","0.2.0",ot)}()},9681:(at,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ho,_DEFAULT_ENTRY_NAME:()=>mn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>Sr,_apps:()=>$t,_clearComponents:()=>ai,_components:()=>mt,_getProvider:()=>yt,_registerComponent:()=>Ur,_removeServiceInstance:()=>Sn,deleteApp:()=>Bs,getApp:()=>Mi,getApps:()=>Hr,initializeApp:()=>Is,onLog:()=>_t,registerVersion:()=>Xr,setLogLevel:()=>ss});var d=P(5861),te=P(4859),N=P(1877),le=P(2090),ce=P(8766);class re{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function ve(Ge){return"VERSION"===Ge.getComponent()?.type}(Qe)){const Tt=Qe.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(Qe=>Qe).join(" ")}}const fe="@firebase/app",j=new N.Yd("@firebase/app"),mn="[DEFAULT]",Vt={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,mt=new Map;function nn(Ge,Ce){try{Ge.container.addComponent(Ce)}catch(Qe){j.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ge.name}`,Qe)}}function Sr(Ge,Ce){Ge.container.addOrOverwriteComponent(Ce)}function Ur(Ge){const Ce=Ge.name;if(mt.has(Ce))return j.debug(`There were multiple attempts to register component ${Ce}.`),!1;mt.set(Ce,Ge);for(const Qe of $t.values())nn(Qe,Ge);return!0}function yt(Ge,Ce){const Qe=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),Ge.container.getProvider(Ce)}function Sn(Ge,Ce,Qe=mn){yt(Ge,Ce).clearInstance(Qe)}function ai(){mt.clear()}const Br=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jr{constructor(Ce,Qe,Tt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const ho="9.15.0";function Is(Ge,Ce={}){let Qe=Ge;"object"!=typeof Ce&&(Ce={name:Ce});const Tt=Object.assign({name:mn,automaticDataCollectionEnabled:!1},Ce),xt=Tt.name;if("string"!=typeof xt||!xt)throw Br.create("bad-app-name",{appName:String(xt)});if(Qe||(Qe=(0,le.aH)()),!Qe)throw Br.create("no-options");const jt=$t.get(xt);if(jt){if((0,le.vZ)(Qe,jt.options)&&(0,le.vZ)(Tt,jt.config))return jt;throw Br.create("duplicate-app",{appName:xt})}const $=new te.H0(xt);for(const K of mt.values())$.addComponent(K);const U=new jr(Qe,Tt,$);return $t.set(xt,U),U}function Mi(Ge=mn){const Ce=$t.get(Ge);if(!Ce&&Ge===mn)return Is();if(!Ce)throw Br.create("no-app",{appName:Ge});return Ce}function Hr(){return Array.from($t.values())}function Bs(Ge){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(Ge){const Ce=Ge.name;$t.has(Ce)&&($t.delete(Ce),yield Promise.all(Ge.container.getProviders().map(Qe=>Qe.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function Xr(Ge,Ce,Qe){var Tt;let xt=null!==(Tt=Vt[Ge])&&void 0!==Tt?Tt:Ge;Qe&&(xt+=`-${Qe}`);const jt=xt.match(/\s|\//),$=Ce.match(/\s|\//);if(jt||$){const U=[`Unable to register library "${xt}" with version "${Ce}":`];return jt&&U.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),jt&&$&&U.push("and"),$&&U.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void j.warn(U.join(" "))}Ur(new te.wA(`${xt}-version`,()=>({library:xt,version:Ce}),"VERSION"))}function _t(Ge,Ce){if(null!==Ge&&"function"!=typeof Ge)throw Br.create("invalid-log-argument");(0,N.Am)(Ge,Ce)}function ss(Ge){(0,N.Ub)(Ge)}const $r="firebase-heartbeat-store";let Ss=null;function Rt(){return Ss||(Ss=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(Ge,Ce)=>{0===Ce&&Ge.createObjectStore($r)}}).catch(Ge=>{throw Br.create("idb-open",{originalErrorMessage:Ge.message})})),Ss}function Ct(){return(Ct=(0,d.Z)(function*(Ge){try{return(yield Rt()).transaction($r).objectStore($r).get(Rn(Ge))}catch(Ce){if(Ce instanceof le.ZR)j.warn(Ce.message);else{const Qe=Br.create("idb-get",{originalErrorMessage:Ce?.message});j.warn(Qe.message)}}})).apply(this,arguments)}function os(Ge,Ce){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(Ge,Ce){try{const Tt=(yield Rt()).transaction($r,"readwrite");return yield Tt.objectStore($r).put(Ce,Rn(Ge)),Tt.done}catch(Qe){if(Qe instanceof le.ZR)j.warn(Qe.message);else{const Tt=Br.create("idb-set",{originalErrorMessage:Qe?.message});j.warn(Tt.message)}}})).apply(this,arguments)}function Rn(Ge){return`${Ge.name}!${Ge.options.appId}`}class la{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new Xt(Qe),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Ce=this;return(0,d.Z)(function*(){const Tt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=dn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==xt&&!Ce._heartbeatsCache.heartbeats.some(jt=>jt.date===xt))return Ce._heartbeatsCache.heartbeats.push({date:xt,agent:Tt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(jt=>{const $=new Date(jt.date).valueOf();return Date.now()-$<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,d.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Qe=dn(),{heartbeatsToSend:Tt,unsentEntries:xt}=function as(Ge,Ce=1024){const Qe=[];let Tt=Ge.slice();for(const xt of Ge){const jt=Qe.find($=>$.agent===xt.agent);if(jt){if(jt.dates.push(xt.date),Ar(Qe)>Ce){jt.dates.pop();break}}else if(Qe.push({agent:xt.agent,dates:[xt.date]}),Ar(Qe)>Ce){Qe.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:Tt}}(Ce._heartbeatsCache.heartbeats),jt=(0,le.L)(JSON.stringify({version:2,heartbeats:Tt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Qe,xt.length>0?(Ce._heartbeatsCache.heartbeats=xt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),jt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,d.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function vt(Ge){return Ct.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Qe=this;return(0,d.Z)(function*(){var Tt;if(yield Qe._canUseIndexedDBPromise){const jt=yield Qe.read();return os(Qe.app,{lastSentHeartbeatDate:null!==(Tt=Ce.lastSentHeartbeatDate)&&void 0!==Tt?Tt:jt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Qe=this;return(0,d.Z)(function*(){var Tt;if(yield Qe._canUseIndexedDBPromise){const jt=yield Qe.read();return os(Qe.app,{lastSentHeartbeatDate:null!==(Tt=Ce.lastSentHeartbeatDate)&&void 0!==Tt?Tt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Ce.heartbeats]})}})()}}function Ar(Ge){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Bi(Ge){Ur(new te.wA("platform-logger",Ce=>new re(Ce),"PRIVATE")),Ur(new te.wA("heartbeat",Ce=>new la(Ce),"PRIVATE")),Xr(fe,"0.9.0",Ge),Xr(fe,"0.9.0","esm2017"),Xr("fire-js","")}("")},4859:(at,De,P)=>{P.d(De,{H0:()=>fe,wA:()=>N});var d=P(5861),te=P(2090);class N{constructor(j,H,Y){this.name=j,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class ce{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Y=new te.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:H});Ve&&Y.resolve(Ve)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Y=this.normalizeInstanceIdentifier(j?.identifier),Ve=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Te){if(Ve)return null;throw Te}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ve(he){return"EAGER"===he.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[H,Y]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(H);try{const Te=this.getOrInitializeService({instanceIdentifier:Ve});Y.resolve(Te)}catch{}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,d.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[Te,ze]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Te)&&ze.resolve(Ve);return Ve}onInit(j,H){var Y;const Ve=this.normalizeInstanceIdentifier(H),Te=null!==(Y=this.onInitCallbacks.get(Ve))&&void 0!==Y?Y:new Set;Te.add(j),this.onInitCallbacks.set(Ve,Te);const ze=this.instances.get(Ve);return ze&&j(ze,Ve),()=>{Te.delete(j)}}invokeOnInitCallbacks(j,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Ve of Y)try{Ve(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(he=j,he===le?void 0:he),options:H}),this.instances.set(j,Y),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var he;return Y||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new ce(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(at,De,P)=>{P.d(De,{Am:()=>he,Ub:()=>fe,Yd:()=>ve,in:()=>te});const d=[];var te=(()=>{return(j=te||(te={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",te;var j})();const N={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},le=te.INFO,ce={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(j,H,...Y)=>{if(H<j.logLevel)return;const Ve=(new Date).toISOString(),Te=ce[H];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Te](`[${Ve}]  ${j.name}:`,...Y)};class ve{constructor(H){this.name=H,this._logLevel=le,this._logHandler=re,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in te))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...H),this._logHandler(this,te.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...H),this._logHandler(this,te.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,te.INFO,...H),this._logHandler(this,te.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,te.WARN,...H),this._logHandler(this,te.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...H),this._logHandler(this,te.ERROR,...H)}}function fe(j){d.forEach(H=>{H.setLogLevel(j)})}function he(j,H){for(const Y of d){let Ve=null;H&&H.level&&(Ve=N[H.level]),Y.userLogHandler=null===j?null:(Te,ze,...ot)=>{const me=ot.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");ze>=(Ve??Te.logLevel)&&j({level:te[ze].toLowerCase(),message:me,args:ot,type:Te.name})}}}},259:(at,De,P)=>{P.d(De,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=P(9681);(0,d.registerVersion)("firebase","9.15.0","app")},9260:(at,De,P)=>{P.d(De,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(at,De,P)=>{P.r(De);var d=P(5861),te=P(3942),N=P(2090),le=P(9681),ce=P(1877),re=P(655),ve=P(4859);const ze=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ce.Yd("@firebase/auth");function Le(y,...f){Se.logLevel<=ce.in.ERROR&&Se.error(`Auth (${le.SDK_VERSION}): ${y}`,...f)}function ke(y,...f){throw Pe(y,...f)}function Ee(y,...f){return Pe(y,...f)}function xe(y,f,m){const w=Object.assign(Object.assign({},ot()),{[f]:m});return new N.LL("auth","Firebase",w).create(f,{appName:y.name})}function je(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&ke(y,"argument-error"),xe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...f){if("string"!=typeof y){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return me.create(y,...f)}function B(y,f,...m){if(!y)throw Pe(f,...m)}function be(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Le(f),new Error(f)}function W(y,f){y||be(f)}const J=new Map;function ae(y){W(y instanceof Function,"Expected a class definition");let f=J.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,J.set(y,f),f)}function Fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===sn()||"https:"===sn()}function sn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class $t{constructor(f,m){this.shortDelay=f,this.longDelay=m,W(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function mn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mt(y,f){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class nn{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ur=new $t(3e4,6e4);function yt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Sn(y,f,m,w){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(y,f,m,w,M={}){return Qr(y,M,(0,d.Z)(function*(){let O={},q={};w&&("GET"===f?q=w:O={body:JSON.stringify(w)});const ge=(0,N.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),nn.fetch()(Is(y,y.config.apiHost,m,ge),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Qr(y,f,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(y,f,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Sr),f);try{const M=new Mi(y),O=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const q=yield O.json();if("needConfirmation"in q)throw Hr(y,"account-exists-with-different-credential",q);if(O.ok&&!("errorMessage"in q))return q;{const ge=O.ok?q.errorMessage:q.error.message,[He,Xe]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Hr(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===He)throw Hr(y,"email-already-in-use",q);if("USER_DISABLED"===He)throw Hr(y,"user-disabled",q);const It=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw xe(y,It,Xe);ke(y,It)}}catch(M){if(M instanceof N.ZR)throw M;ke(y,"network-request-failed")}})).apply(this,arguments)}function jr(y,f,m,w){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(y,f,m,w,M={}){const O=yield Sn(y,f,m,w,M);return"mfaPendingCredential"in O&&ke(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Is(y,f,m,w){const M=`${f}${m}?${w}`;return y.config.emulator?mt(y.config,M):`${y.config.apiScheme}://${M}`}class Mi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),Ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hr(y,f,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Ee(y,f,w);return M.customData._tokenResponse=m,M}function yn(){return(yn=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Xr(y,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ss(y,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function xn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Rt(){return(Rt=(0,d.Z)(function*(y,f=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(f),M=Ct(w);B(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,q=O?.sign_in_provider;return{claims:M,token:w,authTime:xn(vt(M.auth_time)),issuedAtTime:xn(vt(M.iat)),expirationTime:xn(vt(M.exp)),signInProvider:q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function vt(y){return 1e3*Number(y)}function Ct(y){const[f,m,w]=y.split(".");if(void 0===f||void 0===m||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,N.tV)(m);return M?JSON.parse(M):(Le("Failed to decode base64 JWT payload"),null)}catch(M){return Le("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Vn(y,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof N.ZR&&Ri(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ri({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Tr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class la{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(y){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(y){var f;const m=y.auth,w=yield y.getIdToken(),M=yield Vn(y,ss(m,{idToken:w}));B(M?.users.length,m,"internal-error");const O=M.users[0];y._notifyReloadListener(O);const q=null!==(f=O.providerUserInfo)&&void 0!==f&&f.length?Ge(O.providerUserInfo):[],ge=Bi(y.providerData,q),It=!!y.isAnonymous&&!(y.email&&O.passwordHash||ge?.length),pt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ge,metadata:new la(O.createdAt,O.lastLoginAt),isAnonymous:It};Object.assign(y,pt)})).apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(y){const f=(0,N.m9)(y);yield dn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Bi(y,f){return[...y.filter(w=>!f.some(M=>M.providerId===w.providerId)),...f]}function Ge(y){return y.map(f=>{var{providerId:m}=f,w=(0,re._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Qe(){return(Qe=(0,d.Z)(function*(y,f){const m=yield Qr(y,{},(0,d.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:O}=y.config,q=Is(y,M,"/v1/token",`key=${O}`),ge=yield y._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(q,{method:"POST",headers:ge,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){B(f.idToken,"internal-error"),B(typeof f.idToken<"u","internal-error"),B(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function os(y){const f=Ct(y);return B(f,"internal-error"),B(typeof f.exp<"u","internal-error"),B(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,d.Z)(function*(){return B(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:q}=yield function Ce(y,f){return Qe.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(M,O,Number(q))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:M,expirationTime:O}=m,q=new Tt;return w&&(B("string"==typeof w,"internal-error",{appName:f}),q.refreshToken=w),M&&(B("string"==typeof M,"internal-error",{appName:f}),q.accessToken=M),O&&(B("number"==typeof O,"internal-error",{appName:f}),q.expirationTime=O),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return be("not implemented")}}function xt(y,f){B("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class jt{constructor(f){var{uid:m,auth:w,stsTokenManager:M}=f,O=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new la(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const w=yield Vn(m,m.stsTokenManager.getToken(m.auth,f));return B(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Ss(y){return Rt.apply(this,arguments)}(this,f)}reload(){return function Xt(y){return Ar.apply(this,arguments)}(this)}_assign(f){this!==f&&(B(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new jt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,d.Z)(function*(){let M=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),M=!0),m&&(yield dn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Vn(f,function Bs(y,f){return yn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,M,O,q,ge,He,Xe,It;const pt=null!==(w=m.displayName)&&void 0!==w?w:void 0,cr=null!==(M=m.email)&&void 0!==M?M:void 0,Qi=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Ul=null!==(q=m.photoURL)&&void 0!==q?q:void 0,Ry=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,wi=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,Kn=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,Bl=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:Qd,emailVerified:Af,isAnonymous:Mf,providerData:xf,stsTokenManager:ky}=m;B(Qd&&ky,f,"internal-error");const X0=Tt.fromJSON(this.name,ky);B("string"==typeof Qd,f,"internal-error"),xt(pt,f.name),xt(cr,f.name),B("boolean"==typeof Af,f,"internal-error"),B("boolean"==typeof Mf,f,"internal-error"),xt(Qi,f.name),xt(Ul,f.name),xt(Ry,f.name),xt(wi,f.name),xt(Kn,f.name),xt(Bl,f.name);const hu=new jt({uid:Qd,auth:f,email:cr,emailVerified:Af,displayName:pt,isAnonymous:Mf,photoURL:Ul,phoneNumber:Qi,tenantId:Ry,stsTokenManager:X0,createdAt:Kn,lastLoginAt:Bl});return xf&&Array.isArray(xf)&&(hu.providerData=xf.map(fu=>Object.assign({},fu))),wi&&(hu._redirectEventId=wi),hu}static _fromIdTokenResponse(f,m,w=!1){return(0,d.Z)(function*(){const M=new Tt;M.updateFromServerResponse(m);const O=new jt({uid:m.localId,auth:f,stsTokenManager:M,isAnonymous:w});return yield dn(O),O})()}}const U=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,d.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,d.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,d.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function K(y,f,m){return`firebase:${y}:${f}:${m}`}class ye{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:M,name:O}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,O),this.fullPersistenceKey=K("persistence",M.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?jt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,d.Z)(function*(){if(!m.length)return new ye(ae(U),f,w);const M=(yield Promise.all(m.map(function(){var Xe=(0,d.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=M[0]||ae(U);const q=K(w,f.config.apiKey,f.name);let ge=null;for(const Xe of m)try{const It=yield Xe._get(q);if(It){const pt=jt._fromJSON(f,It);Xe!==O&&(ge=pt),O=Xe;break}}catch{}const He=M.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ge&&(yield O._set(q,ge.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,d.Z)(function*(It){if(It!==O)try{yield It._remove(q)}catch{}});return function(It){return Xe.apply(this,arguments)}}())),new ye(O,f,w)):new ye(O,f,w)})()}}function ie(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(kn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(nt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(dr(f))return"Blackberry";if(qt(f))return"Webos";if(Ht(f))return"Safari";if((f.includes("chrome/")||Kt(f))&&!f.includes("edge/"))return"Chrome";if(Et(f))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function nt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Ht(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Kt(y=(0,N.z$)()){return/crios\//i.test(y)}function kn(y=(0,N.z$)()){return/iemobile/i.test(y)}function Et(y=(0,N.z$)()){return/android/i.test(y)}function dr(y=(0,N.z$)()){return/blackberry/i.test(y)}function qt(y=(0,N.z$)()){return/webos/i.test(y)}function ar(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Qh(y=(0,N.z$)()){return ar(y)||Et(y)||qt(y)||dr(y)||/windows phone/i.test(y)||kn(y)}function el(y,f=[]){let m;switch(y){case"Browser":m=ie((0,N.z$)());break;case"Worker":m=`${ie((0,N.z$)())}-${y}`;break;default:m=y}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${w}`}class yc{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=O=>new Promise((q,ge)=>{try{q(f(O))}catch(He){ge(He)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const w=[];try{for(const M of m.queue)yield M(f),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class cd{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new yc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=ae(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,O;if(!w._deleted&&(w.persistenceManager=yield ye.create(w,f),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let O=M,q=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ge=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,He=O?._redirectEventId,Xe=yield m.tryRedirectSignIn(f);(!ge||ge===He)&&Xe?.user&&(O=Xe.user,q=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(q)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ge){O=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ge))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return B(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield dn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const w=f?(0,N.m9)(f):null;return w&&B(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&B(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(ae(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,d.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&ae(f)||m._popupRedirectResolver;B(w,m,"argument-error"),m.redirectPersistenceManager=yield ye.create(m,[ae(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,M){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),q=this._isInitialized?Promise.resolve():this._initializationPromise;return B(q,this,"internal-error"),q.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,w,M):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=el(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function On(y){return(0,N.m9)(y)}class ud{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function da(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Jt(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Gn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function er(y,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:resetPassword",yt(y,f))})).apply(this,arguments)}function ji(y,f){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Nt(y,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:update",yt(y,f))})).apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithPassword",yt(y,f))})).apply(this,arguments)}function zn(y,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:sendOobCode",yt(y,f))})).apply(this,arguments)}function Tn(y,f){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(y,f){return zn(y,f)})).apply(this,arguments)}function js(y,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(y,f){return zn(y,f)})).apply(this,arguments)}function tl(y,f){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,f){return zn(y,f)})).apply(this,arguments)}function Xh(y,f){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(y,f){return zn(y,f)})).apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithEmailLink",yt(y,f))})).apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithEmailLink",yt(y,f))})).apply(this,arguments)}class Ts extends Gn{constructor(f,m,w,M=null){super("password",w),this._email=f,this._password=m,this._tenantId=M}static _fromEmailAndPassword(f,m){return new Ts(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Ts(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function Jr(y,f){return ls.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function yr(y,f){return Hs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:ke(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return ji(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function mo(y,f){return li.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:ke(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qn(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithIdp",yt(y,f))})).apply(this,arguments)}class ci extends Gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ci(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):ke("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M}=m,O=(0,re._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const q=new ci(w,M);return q.idToken=O.idToken||void 0,q.accessToken=O.accessToken||void 0,q.secret=O.secret,q.nonce=O.nonce,q.pendingToken=O.pendingToken||null,q}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function dd(y,f){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:sendVerificationCode",yt(y,f))})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithPhoneNumber",yt(y,f))})).apply(this,arguments)}function hd(){return(hd=(0,d.Z)(function*(y,f){const m=yield jr(y,"POST","/v1/accounts:signInWithPhoneNumber",yt(y,f));if(m.temporaryProof)throw Hr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ei={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithPhoneNumber",yt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ei)})).apply(this,arguments)}class Oi extends Gn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Oi({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Oi({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function $s(y,f){return Gr.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Rr(y,f){return hd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ki(y,f){return fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:O}=f;return w||m||M||O?new Oi({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:O}):null}}class pa{constructor(f){var m,w,M,O,q,ge;const He=(0,N.zd)((0,N.pd)(f)),Xe=null!==(m=He.apiKey)&&void 0!==m?m:null,It=null!==(w=He.oobCode)&&void 0!==w?w:null,pt=function wc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);B(Xe&&It&&pt,"argument-error"),this.apiKey=Xe,this.operation=pt,this.code=It,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(q=He.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ge=He.tenantId)&&void 0!==ge?ge:null}static parseLink(f){const m=function ti(y){const f=(0,N.zd)((0,N.pd)(y)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||f||y}(f);try{return new pa(m)}catch{return null}}}let bc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Ts._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=pa.parseLink(w);return B(M,"argument-error"),Ts._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class cs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Gs extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class ga extends Gs{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return B("providerId"in m&&"signInMethod"in m,"argument-error"),ci._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return B(f.idToken||f.accessToken,"argument-error"),ci._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return ga.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return ga.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:O,nonce:q,providerId:ge}=f;if(!w&&!M&&!m&&!O||!ge)return null;try{return new ga(ge)._credential({idToken:m,accessToken:w,nonce:q,pendingToken:O})}catch{return null}}}let fd=(()=>{class y extends Gs{constructor(){super("facebook.com")}static credential(m){return ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ef=(()=>{class y extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ec=(()=>{class y extends Gs{constructor(){super("github.com")}static credential(m){return ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class nl extends Gn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,qn(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M,pendingToken:O}=m;return w&&M&&O&&w===M?new nl(w,O):null}static _create(f,m){return new nl(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends cs{constructor(f){B(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=nl.fromJSON(f);return B(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return nl._create(w,m)}catch{return null}}}let gd=(()=>{class y extends Gs{constructor(){super("twitter.com")}static credential(m,w){return ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return y.credential(w,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Dc(y,f){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signUp",yt(y,f))})).apply(this,arguments)}class zr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,M=!1){return(0,d.Z)(function*(){const O=yield jt._fromIdTokenResponse(f,w,M),q=Cc(w);return new zr({user:O,providerId:q,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const M=Cc(w);return new zr({user:f,providerId:M,_tokenResponse:w,operationType:m})})()}}function Cc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function tf(){return(tf=(0,d.Z)(function*(y){var f;const m=On(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new zr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Dc(m,{returnSecureToken:!0}),M=yield zr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class _d extends N.ZR{constructor(f,m,w,M){var O;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,M){return new _d(f,m,w,M)}}function zs(y,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?_d._fromErrorAndOperation(y,O,f,w):O})}function As(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function qs(){return(qs=(0,d.Z)(function*(y,f){const m=(0,N.m9)(y);yield Ws(!0,m,f);const{providerUserInfo:w}=yield Xr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),M=As(w||[]);return m.providerData=m.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function il(y,f){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(y,f,m=!1){const w=yield Vn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return zr._forOperation(y,"link",w)})).apply(this,arguments)}function Ws(y,f,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(y,f,m){yield dn(f);const M=!1===y?"provider-already-linked":"no-such-provider";B(As(f.providerData).has(m)===y,f.auth,M)})).apply(this,arguments)}function ol(y,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(y,f,m=!1){const{auth:w}=y,M="reauthenticate";try{const O=yield Vn(y,zs(w,M,f,y),m);B(O.idToken,w,"internal-error");const q=Ct(O.idToken);B(q,w,"internal-error");const{sub:ge}=q;return B(y.uid===ge,w,"user-mismatch"),zr._forOperation(y,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&ke(w,"user-mismatch"),O}})).apply(this,arguments)}function al(y,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(y,f,m=!1){const w="signIn",M=yield zs(y,w,f),O=yield zr._fromIdTokenResponse(y,w,M);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Un(y,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(y,f){return al(On(y),f)})).apply(this,arguments)}function Wn(y,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(y,f){const m=(0,N.m9)(y);return yield Ws(!1,m,f.providerId),il(m,f)})).apply(this,arguments)}function Zs(y,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(y,f){return ol((0,N.m9)(y),f)})).apply(this,arguments)}function yd(y,f){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(y,f){return jr(y,"POST","/v1/accounts:signInWithCustomToken",yt(y,f))})).apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(y,f){const m=On(y),w=yield yd(m,{token:f,returnSecureToken:!0}),M=yield zr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class va{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?wa._fromServerResponse(f,m):ke(f,"internal-error")}}class wa extends va{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new wa(m)}}function ll(y,f,m){var w;B((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),B(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(B(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(B(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ba(){return(ba=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y),M={requestType:"PASSWORD_RESET",email:f};m&&ll(w,M,m),yield js(w,M)})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(y,f,m){yield er((0,N.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,f){yield Nt((0,N.m9)(y),{oobCode:f})})).apply(this,arguments)}function ul(y,f){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,d.Z)(function*(y,f){const m=(0,N.m9)(y),w=yield er(m,{oobCode:f}),M=w.requestType;switch(B(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(w.mfaInfo,m,"internal-error");default:B(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=va._fromServerResponse(On(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,f){const{data:m}=yield ul((0,N.m9)(y),f);return m.email})).apply(this,arguments)}function wd(){return(wd=(0,d.Z)(function*(y,f,m){const w=On(y),M=yield Dc(w,{returnSecureToken:!0,email:f,password:m}),O=yield zr._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y),M={requestType:"EMAIL_SIGNIN",email:f};B(m.handleCodeInApp,w,"argument-error"),m&&ll(w,M,m),yield tl(w,M)})).apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y),M=bc.credentialWithLink(f,m||Fe());return B(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Un(w,M)})).apply(this,arguments)}function hl(y,f){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:createAuthUri",yt(y,f))})).apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(y,f){const w={identifier:f,continueUri:ht()?Fe():"http://localhost"},{signinMethods:M}=yield hl((0,N.m9)(y),w);return M||[]})).apply(this,arguments)}function Ed(){return(Ed=(0,d.Z)(function*(y,f){const m=(0,N.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&ll(m.auth,M,f);const{email:O}=yield Tn(m.auth,M);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&ll(w.auth,O,m);const{email:q}=yield Xh(w.auth,O);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function zi(y,f){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(y,f){return Sn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},q=yield Vn(w,zi(w.auth,O));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const ge=w.providerData.find(({providerId:He})=>"password"===He);ge&&(ge.displayName=w.displayName,ge.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function kc(y,f,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(y,f,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const q=yield Vn(y,ji(w,O));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Ks{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class Cd extends Ks{constructor(f,m,w,M){super(f,m,w),this.username=M}}class Oc extends Ks{constructor(f,m){super(f,"facebook.com",m)}}class Id extends Cd{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nf extends Ks{constructor(f,m){super(f,"google.com",m)}}class pl extends Cd{constructor(f,m,w){super(f,"twitter.com",m,w)}}function rf(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Dd(y){var f,m;if(!y)return null;const{providerId:w}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const q=null===(m=null===(f=Ct(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(q)return new Ks(O,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Oc(O,M);case"github.com":return new Id(O,M);case"google.com":return new nf(O,M);case"twitter.com":return new pl(O,M,y.screenName||null);case"custom":case"anonymous":return new Ks(O,null);default:return new Ks(O,w,M)}}(m)}class Co{constructor(f,m,w){this.type=f,this.credential=m,this.auth=w}static _fromIdtoken(f,m){return new Co("enroll",f,m)}static _fromMfaPendingCredential(f){return new Co("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Co._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Co._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Pc{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=On(f),M=m.customData._serverResponse,O=(M.mfaInfo||[]).map(ge=>va._fromServerResponse(w,ge));B(M.mfaPendingCredential,w,"internal-error");const q=Co._fromMfaPendingCredential(M.mfaPendingCredential);return new Pc(q,O,function(){var ge=(0,d.Z)(function*(He){const Xe=yield He._process(w,q);delete M.mfaInfo,delete M.mfaPendingCredential;const It=Object.assign(Object.assign({},M),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const pt=yield zr._fromIdTokenResponse(w,m.operationType,It);return yield w._updateCurrentUser(pt.user),pt;case"reauthenticate":return B(m.user,w,"internal-error"),zr._forOperation(m.user,m.operationType,It);default:ke(w,"internal-error")}});return function(He){return ge.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function sf(y,f){return Sn(y,"POST","/v2/accounts/mfaEnrollment:start",yt(y,f))}class xs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>va._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new xs(f)}getSession(){var f=this;return(0,d.Z)(function*(){return Co._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var w=this;return(0,d.Z)(function*(){const M=f,O=yield w.getSession(),q=yield Vn(w.user,M._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const w="string"==typeof f?f:f.uid,M=yield m.user.getIdToken(),O=yield Vn(m.user,function af(y,f){return Sn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(y,f))}(m.user.auth,{idToken:M,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:q})=>q!==w),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(q){if("auth/user-token-expired"!==q?.code)throw q}})()}}const fi=new WeakMap,Ni="__sak";class Fc{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lc=(()=>{class y extends Fc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Sd(){const y=(0,N.z$)();return Ht(y)||ar(y)}()&&function ua(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),O=this.localCache[w];M!==O&&m(w,O,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ge,He,Xe)=>{this.notifyListeners(ge,Xe)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(M);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const O=()=>{const ge=this.storage.getItem(M);!w&&this.localCache[M]===ge||this.notifyListeners(M,ge)},q=this.storage.getItem(M);!function ca(){return(0,N.w1)()&&10===document.documentMode}()||q===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,O=this;return(0,d.Z)(function*(){yield M().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,d.Z)(function*(){const O=yield w().call(M,m);return M.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,M=this;return(0,d.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),qi=(()=>{class y extends Fc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let Td=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,d.Z)(function*(){const M=m,{eventId:O,eventType:q,data:ge}=M.data,He=w.handlersMap[q];if(!He?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:q});const Xe=Array.from(He).map(function(){var pt=(0,d.Z)(function*(cr){return cr(M.origin,ge)});return function(cr){return pt.apply(this,arguments)}}()),It=yield function Vc(y){return Promise.all(y.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Xe);M.ports[0].postMessage({status:"done",eventId:O,eventType:q,response:It})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Rs(y="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return y+m}class Uc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var M=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let q,ge;return new Promise((He,Xe)=>{const It=Rs("",20);O.port1.start();const pt=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);ge={messageChannel:O,onMessage(cr){const Qi=cr;if(Qi.data.eventId===It)switch(Qi.data.status){case"ack":clearTimeout(pt),q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),He(Qi.data.response);break;default:clearTimeout(pt),clearTimeout(q),Xe(new Error("invalid_response"))}}},M.handlers.add(ge),O.port1.addEventListener("message",ge.onMessage),M.target.postMessage({eventType:f,eventId:It,data:m},[O.port2])}).finally(()=>{ge&&M.removeMessageHandler(ge)})})()}}function An(){return window}function To(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function _l(){return(_l=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const vl="firebaseLocalStorageDb",ds="firebaseLocalStorage",wl="fbase_key";class hs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ys(y,f){return y.transaction([ds],f?"readwrite":"readonly").objectStore(ds)}function El(){const y=indexedDB.open(vl,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ds,{keyPath:wl})}catch(M){m(M)}}),y.addEventListener("success",(0,d.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ds)?f(w):(w.close(),yield function bl(){const y=indexedDB.deleteDatabase(vl);return new hs(y).toPromise()}(),f(yield El()))}))})}function Wr(y,f,m){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,d.Z)(function*(y,f,m){const w=Ys(y,!0).put({[wl]:f,value:m});return new hs(w).toPromise()})).apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(y,f){const m=Ys(y,!1).get(f),w=yield new hs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ta(y,f){const m=Ys(y,!0).delete(f);return new hs(m).toPromise()}const fs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield El()),m.db})()}_withRetries(m){var w=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(M++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return To()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Td._getInstance(function yl(){return To()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(M,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(M,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function ks(){return _l.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Uc(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=O[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Ad(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield El();return yield Wr(m,Ni,"1"),yield Ta(m,Ni),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(O=>Wr(O,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,d.Z)(function*(){const M=yield w._withRetries(O=>function Mo(y,f){return Qs.apply(this,arguments)}(O,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(M=>Ta(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const w=yield m._withRetries(q=>{const ge=Ys(q,!1).getAll();return new hs(ge).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:q,value:ge}of w)O.add(q),JSON.stringify(m.localCache[q])!==JSON.stringify(ge)&&(m.notifyListeners(q,ge),M.push(q));for(const q of Object.keys(m.localCache))m.localCache[q]&&!O.has(q)&&(m.notifyListeners(q,null),M.push(q));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const O of Array.from(M))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Hc(y,f){return Sn(y,"POST","/v2/accounts/mfaSignIn:start",yt(y,f))}function $c(){return($c=(0,d.Z)(function*(y){return(yield Sn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fi(y){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=M=>{const O=Ee("internal-error");O.customData=M,m(O)},w.type="text/javascript",w.charset="UTF-8",function Aa(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}function Gc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const gi=1e12;class cf{constructor(f){this.auth=f,this.counter=gi,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new zc(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||gi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||gi))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var w;return null===(w=m._widgets.get(f||gi))||void 0===w||w.execute(),""})()}}class zc{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;B(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Il(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uf=Gc("rcb"),xd=new $t(3e4,6e4);class Os{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=An().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return B(function xo(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(An().grecaptcha):new Promise((w,M)=>{const O=An().setTimeout(()=>{M(Ee(f,"network-request-failed"))},xd.get());An()[uf]=()=>{An().clearTimeout(O),delete An()[uf];const ge=An().grecaptcha;if(!ge)return void M(Ee(f,"internal-error"));const He=ge.render;ge.render=(Xe,It)=>{const pt=He(Xe,It);return this.counter++,pt},this.hostLanguage=m,w(ge)},Fi(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:uf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),M(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=An().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(f){return(0,d.Z)(function*(){return new cf(f)})()}clearedOneInstance(){}}const kd="recaptcha",df={theme:"light",type:"image"};class Sl{constructor(f,m=Object.assign({},df),w){this.parameters=m,this.type=kd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(w),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;B(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new Os,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const q=ge=>{!ge||(f.tokenChangeListeners.delete(q),O(ge))};f.tokenChangeListeners.add(q),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=An()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){B(ht()&&!To(),f.auth,"internal-error"),yield function hf(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Pi(y){return $c.apply(this,arguments)}(f.auth);B(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ps{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Oi._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function qc(){return(qc=(0,d.Z)(function*(y,f,m){const w=On(y),M=yield Nd(w,f,(0,N.m9)(m));return new ps(M,O=>Un(w,O))})).apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y);yield Ws(!1,w,"phone");const M=yield Nd(w.auth,f,(0,N.m9)(m));return new ps(M,O=>Wn(w,O))})).apply(this,arguments)}function ff(){return(ff=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y),M=yield Nd(w.auth,f,(0,N.m9)(m));return new ps(M,O=>Zs(w,O))})).apply(this,arguments)}function Nd(y,f,m){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,d.Z)(function*(y,f,m){var w;const M=yield m.verify();try{let O;if(B("string"==typeof M,y,"argument-error"),B(m.type===kd,y,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const q=O.session;if("phoneNumber"in O)return B("enroll"===q.type,y,"internal-error"),(yield sf(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{B("signin"===q.type,y,"internal-error");const ge=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return B(ge,y,"missing-multi-factor-info"),(yield Hc(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield dd(y,{phoneNumber:O.phoneNumber,recaptchaToken:M});return q}}finally{m._reset()}})).apply(this,arguments)}function pf(){return(pf=(0,d.Z)(function*(y,f){yield il((0,N.m9)(y),f)})).apply(this,arguments)}let Kc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=On(m)}verifyPhoneNumber(m,w){return Nd(this.auth,m,(0,N.m9)(w))}static credential(m,w){return Oi._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?Oi._fromTokenResponse(w,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Dn(y,f){return f?ae(f):(B(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Tl extends Gn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return qn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function xa(y){return al(y.auth,new Tl(y),y.bypassAuthState)}function Fd(y){const{auth:f,user:m}=y;return B(m,f,"internal-error"),ol(m,new Tl(y),y.bypassAuthState)}function ri(y){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(y){const{auth:f,user:m}=y;return B(m,f,"internal-error"),il(m,new Tl(y),y.bypassAuthState)})).apply(this,arguments)}class Al{constructor(f,m,w,M,O=!1){this.auth=f,this.resolver=w,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(w,M){f.pendingPromise={resolve:w,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:O,tenantId:q,error:ge,type:He}=f;if(ge)return void m.reject(ge);const Xe={auth:m.auth,requestUri:w,sessionId:M,tenantId:q||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(Xe))}catch(It){m.reject(It)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return xa;case"linkViaPopup":case"linkViaRedirect":return ri;case"reauthViaPopup":case"reauthViaRedirect":return Fd;default:ke(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ra=new $t(2e3,1e4);function Ml(){return(Ml=(0,d.Z)(function*(y,f,m){const w=On(y);je(y,f,cs);const M=Dn(w,m);return new pe(w,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y);je(w.auth,f,cs);const M=Dn(w.auth,m);return new pe(w.auth,"reauthViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y);je(w.auth,f,cs);const M=Dn(w.auth,m);return new pe(w.auth,"linkViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}let pe=(()=>{class y extends Al{constructor(m,w,M,O,q){super(m,w,O,q),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const w=yield m.execute();return B(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,d.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const w=Rs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ra.get())};m()}}return y.currentPopupAction=null,y})();const Ki=new Map;class pn extends Al{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let w=Ki.get(m.auth._key());if(!w){try{const O=(yield function rt(y,f){return bn.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(O)}catch(M){w=()=>Promise.reject(M)}Ki.set(m.auth._key(),w)}return m.bypassAuthState||Ki.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const M=yield w.auth._redirectUserForId(f.eventId);if(M)return w.user=M,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function bn(){return(bn=(0,d.Z)(function*(y,f){const m=Pn(f),w=Cn(y);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function xl(y,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(y,f){return Cn(y)._set(Pn(f),"true")})).apply(this,arguments)}function tr(y,f){Ki.set(y._key(),f)}function Cn(y){return ae(y._redirectPersistence)}function Pn(y){return K("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,d.Z)(function*(y,f,m){const w=On(y);je(y,f,cs);const M=Dn(w,m);return yield xl(M,w),M._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y);je(w.auth,f,cs);const M=Dn(w.auth,m);yield xl(M,w.auth);const O=yield Dt(w);return M._openRedirect(w.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(y,f,m){const w=(0,N.m9)(y);je(w.auth,f,cs);const M=Dn(w.auth,m);yield Ws(!1,w,f.providerId),yield xl(M,w.auth);const O=yield Dt(w);return M._openRedirect(w.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(y,f){return yield On(y)._initializationPromise,st(y,f,!1)})).apply(this,arguments)}function st(y,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(y,f,m=!1){const w=On(y),M=Dn(w,f),q=yield new pn(w,M,m).execute();return q&&!m&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,f)),q})).apply(this,arguments)}function Dt(y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(y){const f=Rs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Oo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function _i(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jn(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!jn(f)){const M=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,M))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ka(f))}saveEventToCache(f){this.cachedEventUids.add(ka(f)),this.lastProcessedEventTime=Date.now()}}function ka(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function jn({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function yi(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(y,f={}){return Sn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const fy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,py=/^https?/;function gy(){return(gy=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield yi(y);for(const m of f)try{if(my(m))return}catch{}ke(y,"unauthorized-domain")})).apply(this,arguments)}function my(y){const f=Fe(),{protocol:m,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&q.hostname===w}if(!py.test(m))return!1;if(fy.test(y))return w===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const W0=new $t(3e4,6e4);function Og(){const y=An().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Yc=null;function PI(y){return Yc=Yc||function Z0(y){return new Promise((f,m)=>{var w,M,O;function q(){Og(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Og(),m(Ee(y,"network-request-failed"))},timeout:W0.get()})}if(null!==(M=null===(w=An().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(O=An().gapi)||void 0===O||!O.load){const ge=Gc("iframefcb");return An()[ge]=()=>{gapi.load?q():m(Ee(y,"network-request-failed"))},Fi(`https://apis.google.com/js/api.js?onload=${ge}`).catch(He=>m(He))}q()}}).catch(f=>{throw Yc=null,f})}(y),Yc}const FI=new $t(5e3,15e3),VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kl(y){const f=y.config;B(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?mt(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:le.SDK_VERSION},M=UI.get(y.config.apiHost);M&&(w.eid=M);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function rn(){return rn=(0,d.Z)(function*(y){const f=yield PI(y),m=An().gapi;return B(m,y,"internal-error"),f.open({where:document.body,url:kl(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},w=>new Promise(function(){var M=(0,d.Z)(function*(O,q){yield w.restyle({setHideOnLeave:!1});const ge=Ee(y,"network-request-failed"),He=An().setTimeout(()=>{q(ge)},FI.get());function Xe(){An().clearTimeout(He),O(w)}w.ping(Xe).then(Xe,()=>{q(ge)})});return function(O,q){return M.apply(this,arguments)}}()))}),rn.apply(this,arguments)}const Js={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gs{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xc(y,f,m,w,M,O){B(y.config.authDomain,y,"auth-domain-config-required"),B(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:le.SDK_VERSION,eventId:M};if(f instanceof cs){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,Xe]of Object.entries(O||{}))q[He]=Xe}if(f instanceof Gs){const He=f.getScopes().filter(Xe=>""!==Xe);He.length>0&&(q.scopes=He.join(","))}y.tenantId&&(q.tid=y.tenantId);const ge=q;for(const He of Object.keys(ge))void 0===ge[He]&&delete ge[He];return`${function Lg({config:y}){return y.emulator?mt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ge).slice(1)}`}const yf="webStorageSupport",vf=class yy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qi,this._completeRedirectFn=st,this._overrideRedirectResult=tr}_openPopup(f,m,w,M){var O=this;return(0,d.Z)(function*(){var q;W(null===(q=O.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ge=Xc(f,m,w,Fe(),M);return function Ud(y,f,m,w=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let ge="";const He=Object.assign(Object.assign({},Js),{width:w.toString(),height:M.toString(),top:O,left:q}),Xe=(0,N.z$)().toLowerCase();m&&(ge=Kt(Xe)?"_blank":m),nt(Xe)&&(f=f||"http://localhost",He.scrollbars="yes");const It=Object.entries(He).reduce((cr,[Qi,Ul])=>`${cr}${Qi}=${Ul},`,"");if(function Mr(y=(0,N.z$)()){var f;return ar(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Xe)&&"_self"!==ge)return function _f(y,f){const m=document.createElement("a");m.href=y,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",ge),new gs(null);const pt=window.open(f||"",ge,It);B(pt,y,"popup-blocked");try{pt.focus()}catch{}return new gs(pt)}(f,ge,Rs())})()}_openRedirect(f,m,w,M){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(f),function So(y){An().location.href=y}(Xc(f,m,w,Fe(),M)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:M,promise:O}=this.eventManagers[m];return M?Promise.resolve(M):(W(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const w=yield function gf(y){return rn.apply(this,arguments)}(f),M=new Oo(f);return w.register("authEvent",O=>(B(O?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:M},m.iframes[f._key()]=w,M})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(yf,{type:yf},M=>{var O;const q=null===(O=M?.[0])||void 0===O?void 0:O[yf];void 0!==q&&m(!!q),ke(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vd(y){return gy.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qh()||Ht()||ar()}};class vy{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}class kr extends vy{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new kr(f)}_finalizeEnroll(f,m,w){return function kg(y,f){return Sn(y,"POST","/v2/accounts/mfaEnrollment:finalize",yt(y,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function lf(y,f){return Sn(y,"POST","/v2/accounts/mfaSignIn:finalize",yt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Or=(()=>{class y{constructor(){}static assertion(m){return kr._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Jc="@firebase/auth";class Ol{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yi(){return window}function Bd(){return(Bd=(0,d.Z)(function*(y,f,m){var w;const{BuildInfo:M}=Yi();W(f.sessionId,"AuthEvent did not contain a session ID");const O=yield $g(f.sessionId),q={};return ar()?q.ibi=M.packageName:Et()?q.apn=M.packageName:ke(y,"operation-not-supported-in-this-environment"),M.displayName&&(q.appDisplayName=M.displayName),q.sessionId=O,Xc(y,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(y){const{BuildInfo:f}=Yi(),m={};ar()?m.iosBundleId=f.packageName:Et()?m.androidPackageName=f.packageName:ke(y,"operation-not-supported-in-this-environment"),yield yi(y,m)})).apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(y,f,m){const{cordova:w}=Yi();let M=()=>{};try{yield new Promise((O,q)=>{let ge=null;function He(){var pt;O();const cr=null===(pt=w.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof cr&&cr(),"function"==typeof m?.close&&m.close()}function Xe(){ge||(ge=window.setTimeout(()=>{q(Ee(y,"redirect-cancelled-by-user"))},2e3))}function It(){"visible"===document?.visibilityState&&Xe()}f.addPassiveListener(He),document.addEventListener("resume",Xe,!1),Et()&&document.addEventListener("visibilitychange",It,!1),M=()=>{f.removePassiveListener(He),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",It,!1),ge&&window.clearTimeout(ge)}})}finally{M()}})).apply(this,arguments)}function $g(y){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(y){const f=jd(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jd(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(0,N.Pz)("authIdTokenMaxAge"),function Oa(y){(0,le._registerComponent)(new ve.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:O,authDomain:q}=w.options;return((ge,He)=>{B(O&&!O.includes(":"),"invalid-api-key",{appName:ge.name}),B(!q?.includes(":"),"argument-error",{appName:ge.name});const Xe={apiKey:O,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:el(y)},It=new cd(ge,He,Xe);return function Ue(y,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(ae);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(w,f?.popupRedirectResolver)}(It,m),It})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ve.wA("auth-internal",f=>{const m=On(f.getProvider("auth").getImmediate());return new Ol(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Jc,"0.21.0",function Dr(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(Jc,"0.21.0","esm2017")}("Browser");class Pl extends Oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Gg(y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(y){const f=yield iu()._get(Ef(y));return f&&(yield iu()._remove(Ef(y))),f})).apply(this,arguments)}function qg(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function iu(){return ae(Lc)}function Ef(y){return K("authEvent",y.config.apiKey,y.name)}function Po(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,N.zd)(m.join("?"))}const ou=class $d{constructor(){this._redirectPersistence=qi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=st,this._overrideRedirectResult=tr}_initialize(f){var m=this;return(0,d.Z)(function*(){const w=f._key();let M=m.eventManagers.get(w);return M||(M=new Pl(f),m.eventManagers.set(w,M),m.attachCallbackListeners(f,M)),M})()}_openPopup(f){ke(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,M){var O=this;return(0,d.Z)(function*(){!function bf(y){var f,m,w,M,O,q,ge,He,Xe,It;const pt=Yi();B("function"==typeof(null===(f=pt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(m=pt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(O=null===(M=null===(w=pt?.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(He=null===(ge=null===(q=pt?.cordova)||void 0===q?void 0:q.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(It=null===(Xe=pt?.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield O._initialize(f);yield q.initialized(),q.resetRedirect(),function ko(){Ki.clear()}(),yield O._originValidation(f);const ge=function ru(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:qg(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,w,M);yield function Hd(y,f){return iu()._set(Ef(y),f)}(f,ge);const He=yield function tu(y,f,m){return Bd.apply(this,arguments)}(f,ge,m),Xe=yield function wf(y){const{cordova:f}=Yi();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let M=null;w?f.plugins.browsertab.openUrl(y):M=f.InAppBrowser.open(y,function fo(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(He);return function by(y,f,m){return No.apply(this,arguments)}(f,q,Xe)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function wy(y){return nu.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:O}=Yi(),q=setTimeout((0,d.Z)(function*(){yield Gg(f),m.onEvent(Df())}),500),ge=function(){var It=(0,d.Z)(function*(pt){clearTimeout(q);const cr=yield Gg(f);let Qi=null;cr&&pt?.url&&(Qi=function zg(y,f){var m,w;const M=function Dy(y){const f=Po(y),m=f.link?decodeURIComponent(f.link):void 0,w=Po(m).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Po(M).link||M||w||m||y}(f);if(M.includes("/__/auth/callback")){const O=Po(M),q=O.firebaseError?function Ey(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ge=null===(w=null===(m=q?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],He=ge?Ee(ge):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(cr,pt.url)),m.onEvent(Qi||Df())});return function(cr){return It.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ge);const He=M,Xe=`${O.packageName.toLowerCase()}://`;Yi().handleOpenURL=function(){var It=(0,d.Z)(function*(pt){if(pt.toLowerCase().startsWith(Xe)&&ge({url:pt}),"function"==typeof He)try{He(pt)}catch(cr){console.error(cr)}});return function(pt){return It.apply(this,arguments)}}()}};function Df(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Fl(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Zg(y=(0,N.z$)()){return!("file:"!==Fl()&&"ionic:"!==Fl()&&"capacitor:"!==Fl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function If(){try{const y=self.localStorage,f=Rs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Kg(y=(0,N.z$)()){return function Gd(){return(0,N.w1)()&&11===document?.documentMode}()||function Iy(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return zd()&&(0,N.hl)()}return!1}function zd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lo(){return(function Wg(){return"http:"===Fl()||"https:"===Fl()}()||(0,N.ru)()||Zg())&&!function Y0(){return(0,N.b$)()||(0,N.UG)()}()&&If()&&!zd()}function qd(){return Zg()&&typeof document<"u"}function Vo(){return(Vo=(0,d.Z)(function*(){return!!qd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},La=B,lu="persistence";function Wd(y){return cu.apply(this,arguments)}function cu(){return(cu=(0,d.Z)(function*(y){yield y._initializationPromise;const f=Sy(),m=K(lu,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Sy(){var y;try{return(null===(y=function Yg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ty=B;class Uo{constructor(){this.browserResolver=ae(vf),this.cordovaResolver=ae(ou),this.underlyingResolver=null,this._redirectPersistence=qi,this._completeRedirectFn=st,this._overrideRedirectResult=tr}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,M){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,m,w,M)})()}_openRedirect(f,m,w,M){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,m,w,M)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return qd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ty(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function au(){return Vo.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Xg(y){return y.unwrap()}function Jg(y){return Sf(y)}function Sf(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Kc.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ef;break;case"facebook.com":w=fd;break;case"github.com":w=Ec;break;case"twitter.com":w=gd;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:q,pendingToken:ge,nonce:He}=f;return O||q||M||ge?ge?m.startsWith("saml.")?nl._create(m,ge):ci._fromParams({providerId:m,signInMethod:m,pendingToken:ge,idToken:M,accessToken:O}):new ga(m).credential({idToken:M,accessToken:O,rawNonce:He}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function vi(y,f){return f.catch(m=>{throw m instanceof N.ZR&&function Va(y,f){var m;const w=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new du(y,function br(y,f){var m;const w=(0,N.m9)(y),M=f;return B(f.customData.operationType,w,"argument-error"),B(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Pc._fromError(w,M)}(y,f));else if(w){const M=Sf(f),O=f;M&&(O.credential=M,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Jg(m),additionalUserInfo:rf(m),user:Bo.getOrCreate(M)}})}function Tf(y,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,d.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>vi(y,m.confirm(w))}})).apply(this,arguments)}class du{constructor(f,m){this.resolver=m,this.auth=function Vl(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return vi(Xg(this.auth),this.resolver.resolveSignIn(f))}}class Bo{constructor(f){this._delegate=f,this.multiFactor=function ml(y){const f=(0,N.m9)(y);return fi.has(f)||fi.set(f,xs._fromUser(f)),fi.get(f)}(f)}static getOrCreate(f){return Bo.USER_MAP.has(f)||Bo.USER_MAP.set(f,new Bo(f)),Bo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return vi(m.auth,Wn(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,d.Z)(function*(){return Tf(w.auth,function Od(y,f,m){return Wc.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return vi(m.auth,function q0(y,f,m){return wn.apply(this,arguments)}(m._delegate,f,Uo))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Wd(On(m.auth)),function Q(y,f,m){return function ee(y,f,m){return Ie.apply(this,arguments)}(y,f,m)}(m._delegate,f,Uo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return vi(m.auth,Zs(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Tf(this.auth,function hy(y,f,m){return ff.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return vi(this.auth,function z0(y,f,m){return Ld.apply(this,arguments)}(this._delegate,f,Uo))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Wd(On(m.auth)),function S(y,f,m){return function R(y,f,m){return V.apply(this,arguments)}(y,f,m)}(m._delegate,f,Uo)})()}sendEmailVerification(f){return function Mc(y,f){return Ed.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function ma(y,f){return qs.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function Mg(y,f){return kc((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Rc(y,f){return kc((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Zc(y,f){return pf.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function us(y,f){return hi.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Do(y,f,m){return Nn.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bo.USER_MAP=new WeakMap;const jo=B;let Zd=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;jo(M,"invalid-api-key",{appName:m.name}),jo(M,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?Uo:void 0;this._delegate=w.initialize({options:{persistence:Ay(M,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function vc(y,f,m){const w=On(y);B(w._canInitEmulator,w,"emulator-config-failed"),B(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const M=!!m?.disableWarnings,O=da(f),{host:q,port:ge}=function ha(y){const f=da(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const O=M[1];return{host:O,port:Jt(w.substr(O.length+1))}}{const[O,q]=w.split(":");return{host:O,port:Jt(q)}}}(f);w.config.emulator={url:`${O}//${q}${null===ge?"":`:${ge}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:ge,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function lr(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function cl(y,f){return Sc.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ul(this._delegate,m)}confirmPasswordReset(m,w){return function Ea(y,f,m){return kt.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,d.Z)(function*(){return vi(M._delegate,function Zn(y,f,m){return wd.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function fl(y,f){return Eo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function bd(y,f){return"EMAIL_SIGNIN"===pa.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){jo(Lo(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Ze(y,f){return it.apply(this,arguments)}(m._delegate,Uo);return w?vi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Cy(y,f){On(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:O,error:q,complete:ge}=Kd(m,w,M);return this._delegate.onAuthStateChanged(O,q,ge)}onIdTokenChanged(m,w,M){const{next:O,error:q,complete:ge}=Kd(m,w,M);return this._delegate.onIdTokenChanged(O,q,ge)}sendSignInLinkToEmail(m,w){return function en(y,f,m){return Ac.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Gi(y,f,m){return ba.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,d.Z)(function*(){let M;switch(function Ll(y,f){La(Object.values(ii).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?La(f!==ii.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?La(f===ii.NONE,y,"unsupported-persistence-type"):zd()?La(f===ii.NONE||f===ii.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):La(f===ii.NONE||If(),y,"unsupported-persistence-type")}(w._delegate,m),m){case ii.SESSION:M=qi;break;case ii.LOCAL:M=(yield ae(fs)._isAvailable())?fs:Lc;break;case ii.NONE:M=U;break;default:return ke("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return vi(this._delegate,function Ic(y){return tf.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return vi(this._delegate,Un(this._delegate,m))}signInWithCustomToken(m){return vi(this._delegate,function Ms(y,f){return hr.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return vi(this._delegate,function Me(y,f,m){return Un((0,N.m9)(y),bc.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return vi(this._delegate,function wr(y,f,m){return bo.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Tf(this._delegate,function fn(y,f,m){return qc.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,d.Z)(function*(){return jo(Lo(),w._delegate,"operation-not-supported-in-this-environment"),vi(w._delegate,function Ro(y,f,m){return Ml.apply(this,arguments)}(w._delegate,m,Uo))})()}signInWithRedirect(m){var w=this;return(0,d.Z)(function*(){return jo(Lo(),w._delegate,"operation-not-supported-in-this-environment"),yield Wd(w._delegate),function wt(y,f,m){return function Rl(y,f,m){return C.apply(this,arguments)}(y,f,m)}(w._delegate,m,Uo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function vd(y,f){return dl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ii,y})();function Kd(y,f,m){let w=y;"function"!=typeof y&&({next:w,error:f,complete:m}=y);const M=w;return{next:q=>M(q&&Bo.getOrCreate(q)),error:f,complete:m}}function Ay(y,f){const m=function Qg(y,f){const m=Sy();if(!m)return[];const w=K(lu,y,f);switch(m.getItem(w)){case ii.NONE:return[U];case ii.LOCAL:return[fs,qi];case ii.SESSION:return[qi];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(fs)&&m.push(fs),typeof window<"u")for(const w of[Lc,qi])m.includes(w)||m.push(w);return m.includes(U)||m.push(U),m}class Yd{constructor(){this.providerId="phone",this._delegate=new Kc(Xg(te.Z.auth()))}static credential(f,m){return Kc.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Yd.PHONE_SIGN_IN_METHOD=Kc.PHONE_SIGN_IN_METHOD,Yd.PROVIDER_ID=Kc.PROVIDER_ID;const em=B;class My{constructor(f,m,w=te.Z.app()){var M;em(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Sl(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xy(y){y.INTERNAL.registerComponent(new ve.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Zd(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bc,FacebookAuthProvider:fd,GithubAuthProvider:Ec,GoogleAuthProvider:ef,OAuthProvider:ga,SAMLAuthProvider:ui,PhoneAuthProvider:Yd,PhoneMultiFactorGenerator:Or,RecaptchaVerifier:My,TwitterAuthProvider:gd,Auth:Zd,AuthCredential:Gn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.0")}(te.Z)},8766:(at,De,P)=>{P.d(De,{Lj:()=>ke,X3:()=>Le});var d=P(5861);let N,le;const ve=new WeakMap,fe=new WeakMap,he=new WeakMap,j=new WeakMap,H=new WeakMap;let Te={get(B,be,W){if(B instanceof IDBTransaction){if("done"===be)return fe.get(B);if("objectStoreNames"===be)return B.objectStoreNames||he.get(B);if("store"===be)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ae(B[be])},set:(B,be,W)=>(B[be]=W,!0),has:(B,be)=>B instanceof IDBTransaction&&("done"===be||"store"===be)||be in B};function me(B){return"function"==typeof B?function ot(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...be){return B.apply(Se(this),be),Ae(ve.get(this))}:function(...be){return Ae(B.apply(Se(this),be))}:function(be,...W){const J=B.call(Se(this),be,...W);return he.set(J,be.sort?be.sort():[be]),Ae(J)}}(B):(B instanceof IDBTransaction&&function Ve(B){if(fe.has(B))return;const be=new Promise((W,J)=>{const ae=()=>{B.removeEventListener("complete",se),B.removeEventListener("error",Ue),B.removeEventListener("abort",Ue)},se=()=>{W(),ae()},Ue=()=>{J(B.error||new DOMException("AbortError","AbortError")),ae()};B.addEventListener("complete",se),B.addEventListener("error",Ue),B.addEventListener("abort",Ue)});fe.set(B,be)}(B),((B,be)=>be.some(W=>B instanceof W))(B,function ce(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,Te):B)}function Ae(B){if(B instanceof IDBRequest)return function Y(B){const be=new Promise((W,J)=>{const ae=()=>{B.removeEventListener("success",se),B.removeEventListener("error",Ue)},se=()=>{W(Ae(B.result)),ae()},Ue=()=>{J(B.error),ae()};B.addEventListener("success",se),B.addEventListener("error",Ue)});return be.then(W=>{W instanceof IDBCursor&&ve.set(W,B)}).catch(()=>{}),H.set(be,B),be}(B);if(j.has(B))return j.get(B);const be=me(B);return be!==B&&(j.set(B,be),H.set(be,B)),be}const Se=B=>H.get(B);function Le(B,be,{blocked:W,upgrade:J,blocking:ae,terminated:se}={}){const Ue=indexedDB.open(B,be),Fe=Ae(Ue);return J&&Ue.addEventListener("upgradeneeded",ht=>{J(Ae(Ue.result),ht.oldVersion,ht.newVersion,Ae(Ue.transaction))}),W&&Ue.addEventListener("blocked",()=>W()),Fe.then(ht=>{se&&ht.addEventListener("close",()=>se()),ae&&ht.addEventListener("versionchange",()=>ae())}).catch(()=>{}),Fe}function ke(B,{blocked:be}={}){const W=indexedDB.deleteDatabase(B);return be&&W.addEventListener("blocked",()=>be()),Ae(W).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],je=new Map;function Pe(B,be){if(!(B instanceof IDBDatabase)||be in B||"string"!=typeof be)return;if(je.get(be))return je.get(be);const W=be.replace(/FromIndex$/,""),J=be!==W,ae=xe.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!ae&&!Ee.includes(W))return;const se=function(){var Ue=(0,d.Z)(function*(Fe,...ht){const sn=this.transaction(Fe,ae?"readwrite":"readonly");let mn=sn.store;return J&&(mn=mn.index(ht.shift())),(yield Promise.all([mn[W](...ht),ae&&sn.done]))[0]});return function(ht){return Ue.apply(this,arguments)}}();return je.set(be,se),se}!function ze(B){Te=B(Te)}(B=>({...B,get:(be,W,J)=>Pe(be,W)||B.get(be,W,J),has:(be,W)=>!!Pe(be,W)||B.has(be,W)}))},5861:(at,De,P)=>{function d(N,le,ce,re,ve,fe,he){try{var j=N[fe](he),H=j.value}catch(Y){return void ce(Y)}j.done?le(H):Promise.resolve(H).then(re,ve)}function te(N){return function(){var le=this,ce=arguments;return new Promise(function(re,ve){var fe=N.apply(le,ce);function he(H){d(fe,re,ve,he,j,"next",H)}function j(H){d(fe,re,ve,he,j,"throw",H)}he(void 0)})}}P.d(De,{Z:()=>te})}},at=>{at(at.s=7362)}]);